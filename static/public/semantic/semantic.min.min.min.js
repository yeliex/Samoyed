!function(h,e,g,f){h.site=h.fn.site=function(p){var c,s,H=(new Date).getTime(),u=[],m=arguments[0],I="string"==typeof m,v=[].slice.call(arguments,1),o=h.isPlainObject(p)?h.extend(!0,{},h.site.settings,p):h.extend({},h.site.settings),y=o.namespace,G=o.error,r="module-"+y,a=h(g),b=a,d=this,l=b.data(r);return c={initialize:function(){c.instantiate()},instantiate:function(){c.verbose("Storing instance of site",c),l=c,b.data(r,c)},normalize:function(){c.fix.console(),c.fix.requestAnimationFrame()},fix:{console:function(){c.debug("Normalizing window.console"),(console===f||console.log===f)&&(c.verbose("Console not available, normalizing events"),c.disable.console()),("undefined"==typeof console.group||"undefined"==typeof console.groupEnd||"undefined"==typeof console.groupCollapsed)&&(c.verbose("Console group not available, normalizing events"),e.console.group=function(){},e.console.groupEnd=function(){},e.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(c.verbose("Mark timeline not available, normalizing events"),e.console.markTimeline=function(){})},consoleClear:function(){c.debug("Disabling programmatic console clearing"),e.console.clear=function(){}},requestAnimationFrame:function(){c.debug("Normalizing requestAnimationFrame"),e.requestAnimationFrame===f&&(c.debug("RequestAnimationFrame not available, normailizing event"),e.requestAnimationFrame=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)})}},moduleExists:function(i){return h.fn[i]!==f&&h.fn[i].settings!==f},enabled:{modules:function(j){var i=[];return j=j||o.modules,h.each(j,function(k,n){c.moduleExists(n)&&i.push(n)}),i}},disabled:{modules:function(j){var i=[];return j=j||o.modules,h.each(j,function(k,n){c.moduleExists(n)||i.push(n)}),i}},change:{setting:function(n,i,j,k){j="string"==typeof j?"all"===j?o.modules:[j]:j||o.modules,k=k!==f?k:!0,h.each(j,function(q,w){var x,t=c.moduleExists(w)?h.fn[w].settings.namespace||!1:!0;c.moduleExists(w)&&(c.verbose("Changing default setting",n,i,w),h.fn[w].settings[n]=i,k&&t&&(x=h(":data(module-"+t+")"),x.length>0&&(c.verbose("Modifying existing settings",x),x[w]("setting",n,i))))})},settings:function(k,i,j){i="string"==typeof i?[i]:i||o.modules,j=j!==f?j:!0,h.each(i,function(t,q){var n;c.moduleExists(q)&&(c.verbose("Changing default setting",k,q),h.extend(!0,h.fn[q].settings,k),j&&y&&(n=h(":data(module-"+y+")"),n.length>0&&(c.verbose("Modifying existing settings",n),n[q]("setting",k))))})}},enable:{console:function(){c.console(!0)},debug:function(i,j){i=i||o.modules,c.debug("Enabling debug for modules",i),c.change.setting("debug",!0,i,j)},verbose:function(i,j){i=i||o.modules,c.debug("Enabling verbose debug for modules",i),c.change.setting("verbose",!0,i,j)}},disable:{console:function(){c.console(!1)},debug:function(i,j){i=i||o.modules,c.debug("Disabling debug for modules",i),c.change.setting("debug",!1,i,j)},verbose:function(i,j){i=i||o.modules,c.debug("Disabling verbose debug for modules",i),c.change.setting("verbose",!1,i,j)}},console:function(i){if(i){if(l.cache.console===f){return void c.error(G.console)}c.debug("Restoring console function"),e.console=l.cache.console}else{c.debug("Disabling console function"),l.cache.console=e.console,e.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){c.verbose("Destroying previous site for",b),b.removeData(r)},cache:{},setting:function(j,i){if(h.isPlainObject(j)){h.extend(!0,o,j)}else{if(i===f){return o[j]}o[j]=i}},internal:function(j,i){if(h.isPlainObject(j)){h.extend(!0,c,j)}else{if(i===f){return c[j]}c[j]=i}},debug:function(){o.debug&&(o.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,o.name+":"),c.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),c.verbose.apply(console,arguments)))},error:function(){c.error=Function.prototype.bind.call(console.error,console,o.name+":"),c.error.apply(console,arguments)},performance:{log:function(j){var k,i,n;o.performance&&(k=(new Date).getTime(),n=H||k,i=k-n,H=k,u.push({Element:d,Name:j[0],Arguments:[].slice.call(j,1)||"","Execution Time":i})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var j=o.name+":",i=0;H=!1,clearTimeout(c.performance.timer),h.each(u,function(k,n){i+=n["Execution Time"]}),j+=" "+i+"ms",(console.group!==f||console.table!==f)&&u.length>0&&(console.groupCollapsed(j),console.table?console.table(u):h.each(u,function(k,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(k,j,w){var i,q,t,n=l;return j=j||v,w=d||w,"string"==typeof k&&n!==f&&(k=k.split(/[\. ]/),i=k.length-1,h.each(k,function(z,A){var x=z!=i?A+k[z+1].charAt(0).toUpperCase()+k[z+1].slice(1):k;if(h.isPlainObject(n[x])&&z!=i){n=n[x]}else{if(n[x]!==f){return q=n[x],!1}if(!h.isPlainObject(n[A])||z==i){return n[A]!==f?(q=n[A],!1):(c.error(G.method,k),!1)}n=n[A]}})),h.isFunction(q)?t=q.apply(w,j):q!==f&&(t=q),h.isArray(s)?s.push(t):s!==f?s=[s,t]:t!==f&&(s=t),q}},I?(l===f&&c.initialize(),c.invoke(m)):(l!==f&&c.destroy(),c.initialize()),s!==f?s:this},h.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},h.extend(h.expr[":"],{data:h.expr.createPseudo?h.expr.createPseudo(function(a){return function(b){return !!h.data(b,a)}}):function(b,a,c){return !!h.data(b,c[3])}})}(jQuery,window,document),function(h,e,g,f){h.fn.form=function(b){var s,d=h(this),t=d.selector||"",a=(new Date).getTime(),l=[],o=arguments[0],c=arguments[1],m="string"==typeof o,r=[].slice.call(arguments,1);return d.each(function(){var j,k,v,S,n,i,O,F,A,y,q,Y,Z,w,T,R,D,P,E=h(this),C=this,x=[],p=!1;P={initialize:function(){P.get.settings(),m?(D===f&&P.instantiate(),P.invoke(o)):(P.verbose("Initializing form validation",E,F),P.bindEvents(),P.set.defaults(),P.instantiate())},instantiate:function(){P.verbose("Storing instance of module",P),D=P,E.data(T,P)},destroy:function(){P.verbose("Destroying previous module",D),P.removeEvents(),E.removeData(T)},refresh:function(){P.verbose("Refreshing selector cache"),j=E.find(q.field),k=E.find(q.group),v=E.find(q.message),S=E.find(q.prompt),n=E.find(q.submit),i=E.find(q.clear),O=E.find(q.reset)},submit:function(){P.verbose("Submitting form",E),E.submit()},attachEvents:function(z,u){u=u||"submit",h(z).on("click"+R,function(B){P[u](),B.preventDefault()})},bindEvents:function(){P.verbose("Attaching form events"),E.on("submit"+R,P.validate.form).on("blur"+R,q.field,P.event.field.blur).on("click"+R,q.submit,P.submit).on("click"+R,q.reset,P.reset).on("click"+R,q.clear,P.clear),F.keyboardShortcuts&&E.on("keydown"+R,q.field,P.event.field.keydown),j.each(function(){var z=h(this),u=z.prop("type"),B=P.get.changeEvent(u,z);h(this).on(B+R,P.event.field.change)})},clear:function(){j.each(function(){var z=h(this),H=z.parent(),B=z.closest(k),J=B.find(q.prompt),G=z.data(y.defaultValue)||"",u=H.is(q.uiCheckbox),K=H.is(q.uiDropdown),I=B.hasClass(Y.error);I&&(P.verbose("Resetting error on field",B),B.removeClass(Y.error),J.remove()),K?(P.verbose("Resetting dropdown value",H,G),H.dropdown("clear")):u?z.prop("checked",!1):(P.verbose("Resetting field value",z,G),z.val(""))})},reset:function(){j.each(function(){var z=h(this),H=z.parent(),J=z.closest(k),B=J.find(q.prompt),u=z.data(y.defaultValue),K=H.is(q.uiCheckbox),I=H.is(q.uiDropdown),G=J.hasClass(Y.error);u!==f&&(G&&(P.verbose("Resetting error on field",J),J.removeClass(Y.error),B.remove()),I?(P.verbose("Resetting dropdown value",H,u),H.dropdown("restore defaults")):K?(P.verbose("Resetting checkbox value",H,u),z.prop("checked",u)):(P.verbose("Resetting field value",z,u),z.val(u)))})},is:{valid:function(){var u=!0;return P.verbose("Checking if form is valid"),h.each(A,function(B,z){P.validate.field(z)||(u=!1)}),u}},removeEvents:function(){E.off(R),j.off(R),n.off(R),j.off(R)},event:{field:{keydown:function(z){var G=h(this),B=z.which,u={enter:13,escape:27};B==u.escape&&(P.verbose("Escape key pressed blurring field"),G.blur()),!z.ctrlKey&&B==u.enter&&G.is(q.input)&&G.not(q.checkbox).length>0&&(p||(G.one("keyup"+R,P.event.field.keyup),P.submit(),P.debug("Enter pressed on input submitting form")),p=!0)},keyup:function(){p=!1},blur:function(){var z=h(this),u=z.closest(k),B=P.get.validation(z);u.hasClass(Y.error)?(P.debug("Revalidating field",z,B),P.validate.field(B)):("blur"==F.on||"change"==F.on)&&P.validate.field(B)},change:function(){var z=h(this),u=z.closest(k);("change"==F.on||u.hasClass(Y.error)&&F.revalidate)&&(clearTimeout(P.timer),P.timer=setTimeout(function(){P.debug("Revalidating field",z,P.get.validation(z)),P.validate.field(P.get.validation(z))},F.delay))}}},get:{changeEvent:function(u,z){return"checkbox"==u||"radio"==u||"hidden"==u||z.is("select")?"change":P.get.inputEvent()},inputEvent:function(){return g.createElement("input").oninput!==f?"input":g.createElement("input").onpropertychange!==f?"propertychange":"keyup"},settings:function(){if(h.isPlainObject(b)){var u=Object.keys(b),z=u.length>0?b[u[0]].identifier!==f:!1;z?(F=h.extend(!0,{},h.fn.form.settings,c),A=h.extend({},h.fn.form.settings.defaults,b),P.error(F.error.oldSyntax,C),P.verbose("Extending settings from legacy parameters",A,F)):(F=h.extend(!0,{},h.fn.form.settings,b),A=h.extend({},h.fn.form.settings.defaults,F.fields),P.verbose("Extending settings",A,F))}else{F=h.fn.form.settings,A=h.fn.form.settings.defaults,P.verbose("Using default form validation",A,F)}w=F.namespace,y=F.metadata,q=F.selector,Y=F.className,Z=F.error,T="module-"+w,R="."+w,D=E.data(T),P.refresh()},field:function(u){return P.verbose("Finding field with identifier",u),j.filter("#"+u).length>0?j.filter("#"+u):j.filter('[name="'+u+'"]').length>0?j.filter('[name="'+u+'"]'):j.filter('[name="'+u+'[]"]').length>0?j.filter('[name="'+u+'[]"]'):j.filter("[data-"+y.validate+'="'+u+'"]').length>0?j.filter("[data-"+y.validate+'="'+u+'"]'):h("<input/>")},fields:function(z){var u=h();return h.each(z,function(G,B){u=u.add(P.get.field(B))}),u},validation:function(z){var u;return A?(h.each(A,function(G,B){P.get.field(B.identifier)[0]==z[0]&&(u=B)}),u||!1):!1},value:function(z){var B,u=[];return u.push(z),B=P.get.values.call(C,u),B[z]},values:function(z){var u=h.isArray(z)?P.get.fields(z):j,B={};return u.each(function(K,H){var I=h(H),N=(I.prop("type"),I.prop("name")),M=I.val(),J=I.is(q.checkbox),Q=I.is(q.radio),G=-1!==N.indexOf("[]"),L=J?I.is(":checked"):!1;if(N){if(G){if(N=N.replace("[]",""),B[N]||(B[N]=[]),J){if(!L){return P.debug("Omitted unchecked checkbox",I),!0}B[N].push(M)}else{B[N].push(M)}}else{if(Q){L&&(B[N]=M)}else{if(J){if(!L){return P.debug("Omitted unchecked checkbox",I),!0}B[N]=!0}else{B[N]=M}}}}}),B}},has:{field:function(u){return P.verbose("Checking for existence of a field with identifier",u),j.filter("#"+u).length>0?!0:j.filter('[name="'+u+'"]').length>0?!0:j.filter("[data-"+y.validate+'="'+u+'"]').length>0?!0:!1}},add:{prompt:function(B,H){var z=P.get.field(B),G=z.closest(k),I=G.children(q.prompt),u=0!==I.length;H="string"==typeof H?[H]:H,P.verbose("Adding field error state",B),G.addClass(Y.error),F.inline&&(u||(I=F.templates.prompt(H),I.appendTo(G)),I.html(H[0]),u?P.verbose("Inline errors are disabled, no inline error added",B):F.transition&&h.fn.transition!==f&&E.transition("is supported")?(P.verbose("Displaying error with css transition",F.transition),I.transition(F.transition+" in",F.duration)):(P.verbose("Displaying error with fallback javascript animation"),I.fadeIn(F.duration)))},errors:function(u){P.debug("Adding form error messages",u),v.html(F.templates.error(u))}},remove:{prompt:function(z){var G=P.get.field(z.identifier),u=G.closest(k),B=u.children(q.prompt);u.removeClass(Y.error),F.inline&&B.is(":visible")&&(P.verbose("Removing prompt for field",z),F.transition&&h.fn.transition!==f&&E.transition("is supported")?B.transition(F.transition+" out",F.duration,function(){B.remove()}):B.fadeOut(F.duration,function(){B.remove()}))}},set:{success:function(){E.removeClass(Y.error).addClass(Y.success)},defaults:function(){j.each(function(){var z=h(this),u=z.filter(q.checkbox).length>0,B=u?z.is(":checked"):z.val();z.data(y.defaultValue,B)})},error:function(){E.removeClass(Y.success).addClass(Y.error)},value:function(z,B){var u={};return u[z]=B,P.set.values.call(C,u)},values:function(u){h.isEmptyObject(u)||h.each(u,function(I,J){var B,K=P.get.field(I),N=K.parent(),L=h.isArray(J),H=N.is(q.uiCheckbox),z=N.is(q.uiDropdown),G=K.is(q.radio)&&H,M=K.length>0;M&&(L&&H?(P.verbose("Selecting multiple",J,K),N.checkbox("uncheck"),h.each(J,function(Q,U){B=K.filter('[value="'+U+'"]'),N=B.parent(),B.length>0&&N.checkbox("check")})):G?(P.verbose("Selecting radio value",J,K),K.filter('[value="'+J+'"]').parent(q.uiCheckbox).checkbox("check")):H?(P.verbose("Setting checkbox value",J,N),N.checkbox(J===!0?"check":"uncheck")):z?(P.verbose("Setting dropdown value",J,N),N.dropdown("set selected",J)):(P.verbose("Setting field value",J,K),K.val(J)))})}},validate:{form:function(u){return p?!1:(x=[],P.is.valid()?(P.debug("Form has no validation errors, submitting"),P.set.success(),F.onSuccess.call(C,u)):(P.debug("Form has errors"),P.set.error(),F.inline||P.add.errors(x),E.data("moduleApi")!==f&&u.stopImmediatePropagation(),F.onFailure.call(C,x)))},field:function(z){var G=P.get.field(z.identifier),u=!0,B=[];return G.prop("disabled")?(P.debug("Field is disabled. Skipping",z.identifier),u=!0):z.optional&&""===h.trim(G.val())?(P.debug("Field is optional and empty. Skipping",z.identifier),u=!0):z.rules!==f&&h.each(z.rules,function(H,I){P.has.field(z.identifier)&&!P.validate.rule(z,I)&&(P.debug("Field is invalid",z.identifier,I.type),B.push(I.prompt),u=!1)}),u?(P.remove.prompt(z,B),F.onValid.call(G),!0):(x=x.concat(B),P.add.prompt(z.identifier,B),F.onInvalid.call(G,B),!1)},rule:function(L,I){var B,J,u,K=P.get.field(L.identifier),G=I.type,z=K.val(),H=G.match(F.regExp.bracket),M=!0;if(z=h.trim(K.val()+""),H){if(J=""+H[1],u=G.replace(H[0],""),B=F.rules[u],!h.isFunction(B)){return void P.error(Z.noRule,u)}M=B.call(K,z,J)}else{if(B=F.rules[G],!h.isFunction(B)){return void P.error(Z.noRule,G)}M=B.call(K,z)}return M}},setting:function(z,u){if(h.isPlainObject(z)){h.extend(!0,F,z)}else{if(u===f){return F[z]}F[z]=u}},internal:function(z,u){if(h.isPlainObject(z)){h.extend(!0,P,z)}else{if(u===f){return P[z]}P[z]=u}},debug:function(){F.debug&&(F.performance?P.performance.log(arguments):(P.debug=Function.prototype.bind.call(console.info,console,F.name+":"),P.debug.apply(console,arguments)))},verbose:function(){F.verbose&&F.debug&&(F.performance?P.performance.log(arguments):(P.verbose=Function.prototype.bind.call(console.info,console,F.name+":"),P.verbose.apply(console,arguments)))},error:function(){P.error=Function.prototype.bind.call(console.error,console,F.name+":"),P.error.apply(console,arguments)},performance:{log:function(u){var z,G,B;F.performance&&(z=(new Date).getTime(),B=a||z,G=z-B,a=z,l.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:C,"Execution Time":G})),clearTimeout(P.performance.timer),P.performance.timer=setTimeout(P.performance.display,500)},display:function(){var z=F.name+":",u=0;a=!1,clearTimeout(P.performance.timer),h.each(l,function(G,B){u+=B["Execution Time"]}),z+=" "+u+"ms",t&&(z+=" '"+t+"'"),d.length>1&&(z+=" ("+d.length+")"),(console.group!==f||console.table!==f)&&l.length>0&&(console.groupCollapsed(z),console.table?console.table(l):h.each(l,function(G,B){console.log(B.Name+": "+B["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(z,H,B){var u,J,I,G=D;return H=H||r,B=C||B,"string"==typeof z&&G!==f&&(z=z.split(/[\. ]/),u=z.length-1,h.each(z,function(M,K){var L=M!=u?K+z[M+1].charAt(0).toUpperCase()+z[M+1].slice(1):z;if(h.isPlainObject(G[L])&&M!=u){G=G[L]}else{if(G[L]!==f){return J=G[L],!1}if(!h.isPlainObject(G[K])||M==u){return G[K]!==f?(J=G[K],!1):!1}G=G[K]}})),h.isFunction(J)?I=J.apply(B,H):J!==f&&(I=J),h.isArray(s)?s.push(I):s!==f?s=[s,I]:I!==f&&(s=I),J}},P.initialize()}),s!==f?s:this},h.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return !0},onFailure:function(){return !1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",integer:/^\-?\d+$/,flags:/^\/(.*)\/(.*)?/,url:/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.",noRule:"There is no rule matching the one you specified",method:"The method you called is not defined."},templates:{error:function(b){var a='<ul class="list">';return h.each(b,function(c,d){a+="<li>"+d+"</li>"}),a+="</ul>",h(a)},prompt:function(a){return h("<div/>").addClass("ui red pointing prompt label").html(a[0])}},rules:{checked:function(){return h(this).filter(":checked").length>0},contains:function(b,a){return a=a.replace(h.fn.form.settings.regExp.escape,"\\$&"),-1!==b.search(new RegExp(a,"i"))},containsExactly:function(b,a){return a=a.replace(h.fn.form.settings.regExp.escape,"\\$&"),-1!==b.search(new RegExp(a))},email:function(b){var a=new RegExp(h.fn.form.settings.regExp.email,"i");return a.test(b)},empty:function(a){return !(a===f||""===a||h.isArray(a)&&0===a.length)},integer:function(k,a){var b,l,c,d=h.fn.form.settings.regExp.integer;return a===f||""===a||".."===a||(-1==a.indexOf("..")?d.test(a)&&(b=l=a-0):(c=a.split("..",2),d.test(c[0])&&(b=c[0]-0),d.test(c[1])&&(l=c[1]-0))),d.test(k)&&(b===f||k>=b)&&(l===f||l>=k)},is:function(a,b){return b="string"==typeof b?b.toLowerCase():b,a="string"==typeof a?a.toLowerCase():a,a==b},isExactly:function(a,b){return a==b},length:function(a,b){return a!==f?a.length>=b:!1},different:function(c,a){var b;h(this);return h('[data-validate="'+a+'"]').length>0?b=h('[data-validate="'+a+'"]').val():h("#"+a).length>0?b=h("#"+a).val():h('[name="'+a+'"]').length>0?b=h('[name="'+a+'"]').val():h('[name="'+a+'[]"]').length>0&&(b=h('[name="'+a+'[]"]')),b!==f?c.toString()!==b.toString():!1},match:function(c,a){var b;h(this);return h('[data-validate="'+a+'"]').length>0?b=h('[data-validate="'+a+'"]').val():h("#"+a).length>0?b=h("#"+a).val():h('[name="'+a+'"]').length>0?b=h('[name="'+a+'"]').val():h('[name="'+a+'[]"]').length>0&&(b=h('[name="'+a+'[]"]')),b!==f?c.toString()==b.toString():!1},maxCount:function(b,a){return b=b.split(","),h.isArray(b)&&b.length<=a},exactCount:function(b,a){return b=b.split(","),h.isArray(b)&&b.length==a},minCount:function(b,a){return b=b.split(","),h.isArray(b)&&b.length>=a},regExp:function(c,a){var d,b=a.match(h.fn.form.settings.regExp.flags);return b&&(a=b.length>=2?b[1]:a,d=b.length>=3?b[2]:""),c.match(new RegExp(a,d))},maxLength:function(a,b){return a!==f?a.length<=b:!1},not:function(a,b){return a="string"==typeof a?a.toLowerCase():a,b="string"==typeof b?b.toLowerCase():b,a!=b},notExactly:function(a,b){return a!=b},url:function(a){return h.fn.form.settings.regExp.url.match(a)}}}}(jQuery,window,document),function(h,e,g,f){h.fn.accordion=function(a){var c,o=h(this),d=(new Date).getTime(),l=[],b=arguments[0],p="string"==typeof b,n=[].slice.call(arguments,1);e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)};return o.each(function(){var w,v,C=h.isPlainObject(a)?h.extend(!0,{},h.fn.accordion.settings,a):h.extend({},h.fn.accordion.settings),I=C.className,x=C.namespace,H=C.selector,K=C.error,j="."+x,m="module-"+x,M=o.selector||"",y=h(this),J=y.find(H.title),i=y.find(H.content),L=this,k=y.data(m);v={initialize:function(){v.debug("Initializing",y),v.bind.events(),v.observeChanges(),v.instantiate()},instantiate:function(){k=v,y.data(m,v)},destroy:function(){v.debug("Destroying previous instance",y),y.off(j).removeData(m)},refresh:function(){J=y.find(H.title),i=y.find(H.content)},observeChanges:function(){"MutationObserver" in e&&(w=new MutationObserver(function(q){v.debug("DOM tree modified, updating selector cache"),v.refresh()}),w.observe(L,{childList:!0,subtree:!0}),v.debug("Setting up mutation observer",w))},bind:{events:function(){v.debug("Binding delegated events"),y.on(C.on+j,H.trigger,v.event.click)}},event:{click:function(){v.toggle.call(this)}},toggle:function(s){var t=s!==f?"number"==typeof s?J.eq(s):h(s).closest(H.title):h(this).closest(H.title),A=t.next(i),u=A.hasClass(I.animating),q=A.hasClass(I.active),r=q&&!u,z=!q&&u;v.debug("Toggling visibility of content",t),r||z?C.collapsible?v.close.call(t):v.debug("Cannot close accordion content collapsing is disabled"):v.open.call(t)},open:function(s){var u=s!==f?"number"==typeof s?J.eq(s):h(s).closest(H.title):h(this).closest(H.title),z=u.next(i),t=z.hasClass(I.animating),q=z.hasClass(I.active),r=q||t;return r?void v.debug("Accordion already open, skipping",z):(v.debug("Opening accordion content",u),C.onOpening.call(z),C.exclusive&&v.closeOthers.call(u),u.addClass(I.active),z.stop(!0,!0).addClass(I.animating),C.animateChildren&&(h.fn.transition!==f&&y.transition("is supported")?z.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:C.debug,verbose:C.verbose,duration:C.duration}):z.children().stop(!0,!0).animate({opacity:1},C.duration,v.resetOpacity)),void z.slideDown(C.duration,C.easing,function(){z.removeClass(I.animating).addClass(I.active),v.reset.display.call(this),C.onOpen.call(this),C.onChange.call(this)}))},close:function(s){var t=s!==f?"number"==typeof s?J.eq(s):h(s).closest(H.title):h(this).closest(H.title),A=t.next(i),u=A.hasClass(I.animating),q=A.hasClass(I.active),r=!q&&u,z=q&&u;!q&&!r||z||(v.debug("Closing accordion content",A),C.onClosing.call(A),t.removeClass(I.active),A.stop(!0,!0).addClass(I.animating),C.animateChildren&&(h.fn.transition!==f&&y.transition("is supported")?A.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:C.debug,verbose:C.verbose,duration:C.duration}):A.children().stop(!0,!0).animate({opacity:0},C.duration,v.resetOpacity)),A.slideUp(C.duration,C.easing,function(){A.removeClass(I.animating).removeClass(I.active),v.reset.display.call(this),C.onClose.call(this),C.onChange.call(this)}))},closeOthers:function(z){var A,D,q,r=z!==f?J.eq(z):h(this).closest(H.title),t=r.parents(H.content).prev(H.title),s=r.closest(H.accordion),u=H.title+"."+I.active+":visible",B=H.content+"."+I.active+":visible";C.closeNested?(A=s.find(u).not(t),q=A.next(i)):(A=s.find(u).not(t),D=s.find(B).find(u).not(t),A=A.not(D),q=A.next(i)),A.length>0&&(v.debug("Exclusive enabled, closing other content",A),A.removeClass(I.active),q.removeClass(I.animating).stop(!0,!0),C.animateChildren&&(h.fn.transition!==f&&y.transition("is supported")?q.children().transition({animation:"fade out",useFailSafe:!0,debug:C.debug,verbose:C.verbose,duration:C.duration}):q.children().stop(!0,!0).animate({opacity:0},C.duration,v.resetOpacity)),q.slideUp(C.duration,C.easing,function(){h(this).removeClass(I.active),v.reset.display.call(this)}))},reset:{display:function(){v.verbose("Removing inline display from element",this),h(this).css("display",""),""===h(this).attr("style")&&h(this).attr("style","").removeAttr("style")},opacity:function(){v.verbose("Removing inline opacity from element",this),h(this).css("opacity",""),""===h(this).attr("style")&&h(this).attr("style","").removeAttr("style")}},setting:function(r,q){if(v.debug("Changing setting",r,q),h.isPlainObject(r)){h.extend(!0,C,r)}else{if(q===f){return C[r]}C[r]=q}},internal:function(r,q){return v.debug("Changing internal",r,q),q===f?v[r]:void (h.isPlainObject(r)?h.extend(!0,v,r):v[r]=q)},debug:function(){C.debug&&(C.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,C.name+":"),v.debug.apply(console,arguments)))},verbose:function(){C.verbose&&C.debug&&(C.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,C.name+":"),v.error.apply(console,arguments)},performance:{log:function(r){var s,q,t;C.performance&&(s=(new Date).getTime(),t=d||s,q=s-t,d=s,l.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:L,"Execution Time":q})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var r=C.name+":",q=0;d=!1,clearTimeout(v.performance.timer),h.each(l,function(s,t){q+=t["Execution Time"]}),r+=" "+q+"ms",M&&(r+=" '"+M+"'"),(console.group!==f||console.table!==f)&&l.length>0&&(console.groupCollapsed(r),console.table?console.table(l):h.each(l,function(s,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(r,t,s){var A,q,z,u=k;return t=t||n,s=L||s,"string"==typeof r&&u!==f&&(r=r.split(/[\. ]/),A=r.length-1,h.each(r,function(B,D){var E=B!=A?D+r[B+1].charAt(0).toUpperCase()+r[B+1].slice(1):r;if(h.isPlainObject(u[E])&&B!=A){u=u[E]}else{if(u[E]!==f){return q=u[E],!1}if(!h.isPlainObject(u[D])||B==A){return u[D]!==f?(q=u[D],!1):(v.error(K.method,r),!1)}u=u[D]}})),h.isFunction(q)?z=q.apply(s,t):q!==f&&(z=q),h.isArray(c)?c.push(z):c!==f?c=[c,z]:z!==f&&(c=z),q}},p?(k===f&&v.initialize(),v.invoke(b)):(k!==f&&k.invoke("destroy"),v.initialize())}),c!==f?c:this},h.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},h.extend(h.easing,{easeOutQuad:function(c,d,a,i,b){return -i*(d/=b)*(d-2)+a}})}(jQuery,window,document),function(h,e,g,f){h.fn.checkbox=function(o){var q,c=h(this),r=c.selector||"",a=(new Date).getTime(),d=[],n=arguments[0],b="string"==typeof n,l=[].slice.call(arguments,1);return c.each(function(){var j,p,C=h.extend(!0,{},h.fn.checkbox.settings,o),H=C.className,w=C.namespace,G=C.selector,J=C.error,v="."+w,y="module-"+w,m=h(this),x=h(this).children(G.label),I=h(this).children(G.input),k=m.data(y),i=this;p={initialize:function(){p.verbose("Initializing checkbox",C),p.create.label(),p.bind.events(),p.set.tabbable(),p.hide.input(),p.observeChanges(),p.instantiate(),p.setup()},instantiate:function(){p.verbose("Storing instance of module",p),k=p,m.data(y,p)},destroy:function(){p.verbose("Destroying module"),p.unbind.events(),p.show.input(),m.removeData(y)},fix:{reference:function(){m.is(G.input)&&(p.debug("Behavior called on <input> adjusting invoked element"),m=m.closest(G.checkbox),p.refresh())}},setup:function(){p.is.indeterminate()?(p.debug("Initial value is indeterminate"),p.set.indeterminate(),C.fireOnInit&&(C.onIndeterminate.call(I[0]),C.onChange.call(I[0]))):p.is.checked()?(p.debug("Initial value is checked"),p.set.checked(),C.fireOnInit&&(C.onChecked.call(I[0]),C.onChange.call(I[0]))):(p.debug("Initial value is unchecked"),p.set.unchecked(),C.fireOnInit&&(C.onUnchecked.call(I[0]),C.onChange.call(I[0])))},refresh:function(){x=m.children(G.label),I=m.children(G.input)},hide:{input:function(){p.verbose("Modfying <input> z-index to be unselectable"),I.addClass(H.hidden)}},show:{input:function(){p.verbose("Modfying <input> z-index to be selectable"),I.removeClass(H.hidden)}},observeChanges:function(){"MutationObserver" in e&&(j=new MutationObserver(function(s){p.debug("DOM tree modified, updating selector cache"),p.refresh()}),j.observe(i,{childList:!0,subtree:!0}),p.debug("Setting up mutation observer",j))},attachEvents:function(t,s){var u=h(t);s=h.isFunction(p[s])?p[s]:p.toggle,u.length>0?(p.debug("Attaching checkbox events to element",t,s),u.on("click"+v,s)):p.error(J.notFound)},event:{click:function(s){return h(s.target).is(G.input)?void p.verbose("Using default check action on initialized checkbox"):void p.toggle()},keydown:function(t){var u=t.which,s={enter:13,space:32,escape:27};u==s.escape&&(p.verbose("Escape key pressed blurring field"),I.blur(),t.preventDefault()),t.ctrlKey||u!=s.enter&&u!=s.space||(p.verbose("Enter key pressed, toggling checkbox"),p.toggle(),t.preventDefault())}},check:function(){return !p.is.indeterminate()&&p.is.checked()?void p.debug("Checkbox is already checked"):(p.debug("Checking checkbox",I),p.set.checked(),C.onChecked.call(I[0]),void C.onChange.call(I[0]))},uncheck:function(){return !p.is.indeterminate()&&p.is.unchecked()?void p.debug("Checkbox is already unchecked"):(p.debug("Unchecking checkbox"),p.set.unchecked(),C.onUnchecked.call(I[0]),void C.onChange.call(I[0]))},indeterminate:function(){return p.is.indeterminate()?void p.debug("Checkbox is already indeterminate"):(p.debug("Making checkbox indeterminate"),p.set.indeterminate(),C.onIndeterminate.call(I[0]),void C.onChange.call(I[0]))},determinate:function(){return p.is.determinate()?void p.debug("Checkbox is already determinate"):(p.debug("Making checkbox determinate"),p.set.determinate(),C.onDeterminate.call(I[0]),void C.onChange.call(I[0]))},enable:function(){return p.is.enabled()?void p.debug("Checkbox is already enabled"):(p.debug("Enabling checkbox"),p.set.enabled(),void C.onEnable.call(I[0]))},disable:function(){return p.is.disabled()?void p.debug("Checkbox is already disabled"):(p.debug("Disabling checkbox"),p.set.disabled(),void C.onDisable.call(I[0]))},get:{radios:function(){var s=p.get.name();return h('input[name="'+s+'"]').closest(G.checkbox)},otherRadios:function(){return p.get.radios().not(m)},name:function(){return I.attr("name")}},is:{radio:function(){return I.hasClass(H.radio)||"radio"==I.attr("type")},indeterminate:function(){return I.prop("indeterminate")!==f&&I.prop("indeterminate")},checked:function(){return I.prop("checked")!==f&&I.prop("checked")},disabled:function(){return I.prop("disabled")!==f&&I.prop("disabled")},enabled:function(){return !p.is.disabled()},determinate:function(){return !p.is.indeterminate()},unchecked:function(){return !p.is.checked()}},can:{change:function(){return !(m.hasClass(H.disabled)||m.hasClass(H.readOnly)||I.prop("disabled")||I.prop("readonly"))},uncheck:function(){return"boolean"==typeof C.uncheckable?C.uncheckable:!p.is.radio()}},set:{checked:function(){return p.verbose("Setting class to checked"),m.removeClass(H.indeterminate).addClass(H.checked),p.is.radio()&&p.uncheckOthers(),!p.is.indeterminate()&&p.is.checked()?void p.debug("Input is already checked, skipping input property change"):(p.verbose("Setting state to checked",I[0]),I.prop("indeterminate",!1).prop("checked",!0),void p.trigger.change())},unchecked:function(){return p.verbose("Removing checked class"),m.removeClass(H.indeterminate).removeClass(H.checked),!p.is.indeterminate()&&p.is.unchecked()?void p.debug("Input is already unchecked"):(p.debug("Setting state to unchecked"),I.prop("indeterminate",!1).prop("checked",!1),void p.trigger.change())},indeterminate:function(){return p.verbose("Setting class to indeterminate"),m.addClass(H.indeterminate),p.is.indeterminate()?void p.debug("Input is already indeterminate, skipping input property change"):(p.debug("Setting state to indeterminate"),I.prop("indeterminate",!0),void p.trigger.change())},determinate:function(){return p.verbose("Removing indeterminate class"),m.removeClass(H.indeterminate),p.is.determinate()?void p.debug("Input is already determinate, skipping input property change"):(p.debug("Setting state to determinate"),void I.prop("indeterminate",!1))},disabled:function(){return p.verbose("Setting class to disabled"),m.addClass(H.disabled),p.is.disabled()?void p.debug("Input is already disabled, skipping input property change"):(p.debug("Setting state to disabled"),I.prop("disabled","disabled"),void p.trigger.change())},enabled:function(){return p.verbose("Removing disabled class"),m.removeClass(H.disabled),p.is.enabled()?void p.debug("Input is already enabled, skipping input property change"):(p.debug("Setting state to enabled"),I.prop("disabled",!1),void p.trigger.change())},tabbable:function(){p.verbose("Adding tabindex to checkbox"),I.attr("tabindex")===f&&I.attr("tabindex",0)}},trigger:{change:function(){p.verbose("Triggering change event from programmatic change"),I.trigger("change")}},create:{label:function(){I.prevAll(G.label).length>0?(I.prev(G.label).detach().insertAfter(I),p.debug("Moving existing label",x)):p.has.label()||(x=h("<label>").insertAfter(I),p.debug("Creating label",x))}},has:{label:function(){return x.length>0}},bind:{events:function(){p.verbose("Attaching checkbox events"),m.on("click"+v,p.event.click).on("keydown"+v,G.input,p.event.keydown)}},unbind:{events:function(){p.debug("Removing events"),m.off(v)}},uncheckOthers:function(){var s=p.get.otherRadios();p.debug("Unchecking other radios",s),s.removeClass(H.checked)},toggle:function(){return p.can.change()?void (p.is.indeterminate()||p.is.unchecked()?(p.debug("Currently unchecked"),p.check()):p.is.checked()&&p.can.uncheck()&&(p.debug("Currently checked"),p.uncheck())):void (p.is.radio()||p.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(t,s){if(p.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,C,t)}else{if(s===f){return C[t]}C[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,p,t)}else{if(s===f){return p[t]}p[t]=s}},debug:function(){C.debug&&(C.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,C.name+":"),p.debug.apply(console,arguments)))},verbose:function(){C.verbose&&C.debug&&(C.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,C.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,C.name+":"),p.error.apply(console,arguments)},performance:{log:function(s){var t,z,u;C.performance&&(t=(new Date).getTime(),u=a||t,z=t-u,a=t,d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:i,"Execution Time":z})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=C.name+":",s=0;a=!1,clearTimeout(p.performance.timer),h.each(d,function(z,u){s+=u["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):h.each(d,function(z,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(s,z,t){var B,D,A,u=k;return z=z||l,t=i||t,"string"==typeof s&&u!==f&&(s=s.split(/[\. ]/),B=s.length-1,h.each(s,function(E,F){var L=E!=B?F+s[E+1].charAt(0).toUpperCase()+s[E+1].slice(1):s;if(h.isPlainObject(u[L])&&E!=B){u=u[L]}else{if(u[L]!==f){return D=u[L],!1}if(!h.isPlainObject(u[F])||E==B){return u[F]!==f?(D=u[F],!1):(p.error(J.method,s),!1)}u=u[F]}})),h.isFunction(D)?A=D.apply(t,z):D!==f&&(A=D),h.isArray(q)?q.push(A):q!==f?q=[q,A]:A!==f&&(q=A),D}},b?(k===f&&p.initialize(),p.invoke(n)):(k!==f&&k.invoke("destroy"),p.initialize())}),q!==f?q:this},h.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]'}}}(jQuery,window,document),function(h,e,g,f){h.fn.dimmer=function(l){var b,o=h(this),c=(new Date).getTime(),d=[],a=arguments[0],p="string"==typeof a,n=[].slice.call(arguments,1);return o.each(function(){var w,v,C,I=h.isPlainObject(l)?h.extend(!0,{},h.fn.dimmer.settings,l):h.extend({},h.fn.dimmer.settings),x=I.selector,H=I.namespace,K=I.className,j=I.error,m="."+H,M="module-"+H,y=o.selector||"",J="ontouchstart" in g.documentElement?"touchstart":"click",i=h(this),L=this,k=i.data(M);C={preinitialize:function(){C.is.dimmer()?(v=i.parent(),w=i):(v=i,w=C.has.dimmer()?I.dimmerName?v.find(x.dimmer).filter("."+I.dimmerName):v.find(x.dimmer):C.create())},initialize:function(){C.debug("Initializing dimmer",I),C.bind.events(),C.set.dimmable(),C.instantiate()},instantiate:function(){C.verbose("Storing instance of module",C),k=C,i.data(M,k)},destroy:function(){C.verbose("Destroying previous module",w),C.unbind.events(),C.remove.variation(),v.off(m)},bind:{events:function(){"hover"==I.on?v.on("mouseenter"+m,C.show).on("mouseleave"+m,C.hide):"click"==I.on&&v.on(J+m,C.toggle),C.is.page()&&(C.debug("Setting as a page dimmer",v),C.set.pageDimmer()),C.is.closable()&&(C.verbose("Adding dimmer close event",w),v.on(J+m,x.dimmer,C.event.click))}},unbind:{events:function(){i.removeData(M)}},event:{click:function(q){C.verbose("Determining if event occured on dimmer",q),(0===w.find(q.target).length||h(q.target).is(x.content))&&(C.hide(),q.stopImmediatePropagation())}},addContent:function(r){var q=h(r);C.debug("Add content to dimmer",q),q.parent()[0]!==w[0]&&q.detach().appendTo(w)},create:function(){var q=h(I.template.dimmer());return I.variation&&(C.debug("Creating dimmer with variation",I.variation),q.addClass(I.variation)),I.dimmerName&&(C.debug("Creating named dimmer",I.dimmerName),q.addClass(I.dimmerName)),q.appendTo(v),q},show:function(q){q=h.isFunction(q)?q:function(){},C.debug("Showing dimmer",w,I),C.is.dimmed()&&!C.is.animating()||!C.is.enabled()?C.debug("Dimmer is already shown or disabled"):(C.animate.show(q),I.onShow.call(L),I.onChange.call(L))},hide:function(q){q=h.isFunction(q)?q:function(){},C.is.dimmed()||C.is.animating()?(C.debug("Hiding dimmer",w),C.animate.hide(q),I.onHide.call(L),I.onChange.call(L)):C.debug("Dimmer is not visible")},toggle:function(){C.verbose("Toggling dimmer visibility",w),C.is.dimmed()?C.hide():C.show()},animate:{show:function(q){q=h.isFunction(q)?q:function(){},I.useCSS&&h.fn.transition!==f&&w.transition("is supported")?("auto"!==I.opacity&&C.set.opacity(),w.transition({animation:I.transition+" in",queue:!1,duration:C.get.duration(),useFailSafe:!0,onStart:function(){C.set.dimmed()},onComplete:function(){C.set.active(),q()}})):(C.verbose("Showing dimmer animation with javascript"),C.set.dimmed(),"auto"==I.opacity&&(I.opacity=0.8),w.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(C.get.duration(),I.opacity,function(){w.removeAttr("style"),C.set.active(),q()}))},hide:function(q){q=h.isFunction(q)?q:function(){},I.useCSS&&h.fn.transition!==f&&w.transition("is supported")?(C.verbose("Hiding dimmer with css"),w.transition({animation:I.transition+" out",queue:!1,duration:C.get.duration(),useFailSafe:!0,onStart:function(){C.remove.dimmed()},onComplete:function(){C.remove.active(),q()}})):(C.verbose("Hiding dimmer with javascript"),C.remove.dimmed(),w.stop().fadeOut(C.get.duration(),function(){C.remove.active(),w.removeAttr("style"),q()}))}},get:{dimmer:function(){return w},duration:function(){return"object"==typeof I.duration?C.is.active()?I.duration.hide:I.duration.show:I.duration}},has:{dimmer:function(){return I.dimmerName?i.find(x.dimmer).filter("."+I.dimmerName).length>0:i.find(x.dimmer).length>0}},is:{active:function(){return w.hasClass(K.active)},animating:function(){return w.is(":animated")||w.hasClass(K.animating)},closable:function(){return"auto"==I.closable?"hover"==I.on?!1:!0:I.closable},dimmer:function(){return i.hasClass(K.dimmer)},dimmable:function(){return i.hasClass(K.dimmable)},dimmed:function(){return v.hasClass(K.dimmed)},disabled:function(){return v.hasClass(K.disabled)},enabled:function(){return !C.is.disabled()},page:function(){return v.is("body")},pageDimmer:function(){return w.hasClass(K.pageDimmer)}},can:{show:function(){return !w.hasClass(K.disabled)}},set:{opacity:function(r){var s=w.css("background-color"),q=s.split(","),t=q&&4==q.length;r=I.opacity||r,t?(q[3]=r+")",s=q.join(",")):s="rgba(0, 0, 0, "+r+")",C.debug("Setting opacity to",r),w.css("background-color",s)},active:function(){w.addClass(K.active)},dimmable:function(){v.addClass(K.dimmable)},dimmed:function(){v.addClass(K.dimmed)},pageDimmer:function(){w.addClass(K.pageDimmer)},disabled:function(){w.addClass(K.disabled)},variation:function(q){q=q||I.variation,q&&w.addClass(q)}},remove:{active:function(){w.removeClass(K.active)},dimmed:function(){v.removeClass(K.dimmed)},disabled:function(){w.removeClass(K.disabled)},variation:function(q){q=q||I.variation,q&&w.removeClass(q)}},setting:function(r,q){if(C.debug("Changing setting",r,q),h.isPlainObject(r)){h.extend(!0,I,r)}else{if(q===f){return I[r]}I[r]=q}},internal:function(r,q){if(h.isPlainObject(r)){h.extend(!0,C,r)}else{if(q===f){return C[r]}C[r]=q}},debug:function(){I.debug&&(I.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,I.name+":"),C.debug.apply(console,arguments)))},verbose:function(){I.verbose&&I.debug&&(I.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,I.name+":"),C.verbose.apply(console,arguments)))},error:function(){C.error=Function.prototype.bind.call(console.error,console,I.name+":"),C.error.apply(console,arguments)},performance:{log:function(r){var s,q,t;I.performance&&(s=(new Date).getTime(),t=c||s,q=s-t,c=s,d.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:L,"Execution Time":q})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var r=I.name+":",q=0;c=!1,clearTimeout(C.performance.timer),h.each(d,function(s,t){q+=t["Execution Time"]}),r+=" "+q+"ms",y&&(r+=" '"+y+"'"),o.length>1&&(r+=" ("+o.length+")"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(r),console.table?console.table(d):h.each(d,function(s,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(r,t,s){var A,q,z,u=k;return t=t||n,s=L||s,"string"==typeof r&&u!==f&&(r=r.split(/[\. ]/),A=r.length-1,h.each(r,function(B,D){var E=B!=A?D+r[B+1].charAt(0).toUpperCase()+r[B+1].slice(1):r;if(h.isPlainObject(u[E])&&B!=A){u=u[E]}else{if(u[E]!==f){return q=u[E],!1}if(!h.isPlainObject(u[D])||B==A){return u[D]!==f?(q=u[D],!1):(C.error(j.method,r),!1)}u=u[D]}})),h.isFunction(q)?z=q.apply(s,t):q!==f&&(z=q),h.isArray(b)?b.push(z):b!==f?b=[b,z]:z!==f&&(b=z),q}},C.preinitialize(),p?(k===f&&C.initialize(),C.invoke(a)):(k!==f&&k.invoke("destroy"),C.initialize())}),b!==f?b:this},h.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return h("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(h,e,g,f){h.fn.dropdown=function(o){var x,r=h(this),s=h(g),a=r.selector||"",l="ontouchstart" in g.documentElement,u=(new Date).getTime(),b=[],m=arguments[0],c="string"==typeof m,d=[].slice.call(arguments,1);return r.each(function(C){var R,y,v,W,U,L,S,A=h.isPlainObject(o)?h.extend(!0,{},h.fn.dropdown.settings,o):h.extend({},h.fn.dropdown.settings),w=A.className,B=A.message,E=A.metadata,t=A.namespace,p=A.regExp,N=A.selector,n=A.error,P=A.templates,M="."+t,H="module-"+t,z=h(this),X=h(A.context),V=z.find(N.text),k=z.find(N.search),i=z.find(N.input),T=z.find(N.icon),F=z.prev().find(N.text).length>0?z.prev().find(N.text):z.prev(),j=z.children(N.menu),D=j.find(N.item),O=!1,I=!1,q=this,Q=z.data(H);S={initialize:function(){S.debug("Initializing dropdown",A),S.is.alreadySetup()?S.setup.reference():(S.setup.layout(),S.refreshData(),S.save.defaults(),S.restore.selected(),S.create.id(),l&&S.bind.touchEvents(),S.bind.mouseEvents(),S.bind.keyboardEvents(),S.observeChanges(),S.instantiate())},instantiate:function(){S.verbose("Storing instance of dropdown",S),Q=S,z.data(H,S)},destroy:function(){S.verbose("Destroying previous dropdown",z),S.remove.tabbable(),z.off(M).removeData(H),j.off(M),s.off(v),U&&U.disconnect(),L&&L.disconnect()},observeChanges:function(){"MutationObserver" in e&&(U=new MutationObserver(function(G){S.debug("<select> modified, recreating menu"),S.setup.select()}),L=new MutationObserver(function(G){S.debug("Menu modified, updating selector cache"),S.refresh()}),S.has.input()&&U.observe(i[0],{childList:!0,subtree:!0}),S.has.menu()&&L.observe(j[0],{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",U,L))},create:{id:function(){W=(Math.random().toString(16)+"000000000").substr(2,8),v="."+W,S.verbose("Creating unique id for element",W)},userChoice:function(Y){var J,K,G;return(Y=Y||S.get.userValues())?(Y=h.isArray(Y)?Y:[Y],h.each(Y,function(aa,Z){S.get.item(Z)===!1&&(G=A.templates.addition(Z),K=h("<div />").html(G).data(E.value,Z).addClass(w.addition).addClass(w.item),J=J===f?K:J.add(K),S.verbose("Creating user choices for value",Z,K))}),J):!1},userLabels:function(G){var J=S.get.userValues();J&&(S.debug("Adding user labels",J),h.each(J,function(K,Y){S.verbose("Adding custom user value"),S.add.label(Y,Y)}))}},search:function(G){G=G!==f?G:S.get.query(),S.verbose("Searching for query",G),S.filter(G)},select:{firstUnfiltered:function(){S.verbose("Selecting first non-filtered element"),S.remove.selectedItem(),D.not(N.unselectable).eq(0).addClass(w.selected)},nextAvailable:function(K){K=K.eq(0);var Y=K.nextAll(N.item).not(N.unselectable).eq(0),J=K.prevAll(N.item).not(N.unselectable).eq(0),G=Y.length>0;G?(S.verbose("Moving selection to",Y),Y.addClass(w.selected)):(S.verbose("Moving selection to",J),J.addClass(w.selected))}},setup:{api:function(){var G={debug:A.debug,on:!1};S.verbose("First request, initializing API"),z.api(G)},layout:function(){z.is("select")&&(S.setup.select(),S.setup.returnedObject()),S.is.search()&&!S.has.search()&&(S.verbose("Adding search input"),k=h("<input />").addClass(w.search).insertBefore(V)),A.allowTab&&S.set.tabbable(),0===j.length&&(j=h("<div />").addClass(w.menu).appendTo(z))},select:function(){var G=S.get.selectValues();S.debug("Dropdown initialized on a select",G),z.is("select")&&(i=z),i.parent(N.dropdown).length>0?(S.debug("UI dropdown already exists. Creating dropdown menu only"),z=i.closest(N.dropdown),j=z.children(N.menu),S.setup.menu(G)):(S.debug("Creating entire dropdown from select"),z=h("<div />").attr("class",i.attr("class")).addClass(w.selection).addClass(w.dropdown).html(P.dropdown(G)).insertBefore(i),i.removeAttr("class").detach().prependTo(z)),i.is("[multiple]")&&S.set.multiple(),S.refresh()},menu:function(G){j.html(P.menu(G)),D=j.find(N.item)},reference:function(){S.debug("Dropdown behavior was called on select, replacing with closest dropdown"),z=z.parent(N.dropdown),S.refresh(),S.setup.returnedObject(),c&&(Q=S,S.invoke(m))},returnedObject:function(){var J=r.slice(0,C),G=r.slice(C+1);r=J.add(z).add(G)}},refresh:function(){S.refreshSelectors(),S.refreshData()},refreshSelectors:function(){S.verbose("Refreshing selector cache"),V=z.find(N.text),k=z.find(N.search),i=z.find(N.input),T=z.find(N.icon),F=z.prev().find(N.text).length>0?z.prev().find(N.text):z.prev(),j=z.children(N.menu),D=j.find(N.item)},refreshData:function(){S.verbose("Refreshing cached metadata"),D.removeData(E.text).removeData(E.value),z.removeData(E.defaultText).removeData(E.defaultValue).removeData(E.placeholderText)},toggle:function(){S.verbose("Toggling menu visibility"),S.is.active()?S.hide():S.show()},show:function(G){if(G=h.isFunction(G)?G:function(){},S.can.show()&&!S.is.active()){if(S.debug("Showing dropdown"),S.is.multiple()&&!S.has.search()&&S.is.allFiltered()){return !0}S.animate.show(function(){S.can.click()&&S.bind.intent(),S.set.visible(),G.call(q)}),A.onShow.call(q)}},hide:function(G){G=h.isFunction(G)?G:function(){},S.is.active()&&(S.debug("Hiding dropdown"),S.animate.hide(function(){S.remove.visible(),G.call(q)}),A.onHide.call(q))},hideOthers:function(){S.verbose("Finding other dropdowns to hide"),r.not(z).has(N.menu+"."+w.visible).dropdown("hide")},hideMenu:function(){S.verbose("Hiding menu  instantaneously"),S.remove.active(),S.remove.visible(),j.transition("hide")},hideSubMenus:function(){var G=j.children(N.item).find(N.menu);S.verbose("Hiding sub menus",G),G.transition("hide")},bind:{keyboardEvents:function(){S.debug("Binding keyboard events"),z.on("keydown"+M,S.event.keydown),S.has.search()&&z.on(S.get.inputEvent()+M,N.search,S.event.input),S.is.multiple()&&s.on("keydown"+v,S.event.document.keydown)},touchEvents:function(){S.debug("Touch device detected binding additional touch events"),S.is.searchSelection()||S.is.single()&&z.on("touchstart"+M,S.event.test.toggle),j.on("touchstart"+M,N.item,S.event.item.mouseenter)},mouseEvents:function(){S.debug("Mouse detected binding mouse events"),S.is.multiple()&&z.on("click"+M,N.label,S.event.label.click).on("click"+M,N.remove,S.event.remove.click),S.is.searchSelection()?(z.on("mousedown"+M,N.menu,S.event.menu.mousedown).on("mouseup"+M,N.menu,S.event.menu.mouseup).on("click"+M,N.icon,S.event.icon.click).on("click"+M,N.search,S.show).on("focus"+M,N.search,S.event.search.focus).on("blur"+M,N.search,S.event.search.blur).on("click"+M,N.text,S.event.text.focus),S.is.multiple()&&z.on("click"+M,S.event.click)):("click"==A.on?z.on("click"+M,N.icon,S.event.icon.click).on("click"+M,S.event.test.toggle):"hover"==A.on?z.on("mouseenter"+M,S.delay.show).on("mouseleave"+M,S.delay.hide):z.on(A.on+M,S.toggle),z.on("mousedown"+M,S.event.mousedown).on("mouseup"+M,S.event.mouseup).on("focus"+M,S.event.focus).on("blur"+M,S.event.blur)),j.on("mouseenter"+M,N.item,S.event.item.mouseenter).on("mouseleave"+M,N.item,S.event.item.mouseleave).on("click"+M,N.item,S.event.item.click)},intent:function(){S.verbose("Binding hide intent event to document"),l&&s.on("touchstart"+v,S.event.test.touch).on("touchmove"+v,S.event.test.touch),s.on("click"+v,S.event.test.hide)}},unbind:{intent:function(){S.verbose("Removing hide intent event from document"),l&&s.off("touchstart"+v).off("touchmove"+v),s.off("click"+v)}},filter:function(K){var G=K!==f?K:S.get.query(),J=function(){S.is.multiple()&&S.filterActive(),S.select.firstUnfiltered(),S.has.allResultsFiltered()?A.onNoResults.call(q,G)?A.allowAdditions||(S.verbose("All items filtered, showing message",G),S.add.message(B.noResults)):(S.verbose("All items filtered, hiding dropdown",G),S.hideMenu()):S.remove.message(),A.allowAdditions&&S.add.userSuggestion(K),S.is.searchSelection()&&S.can.show()&&S.is.focusedOnSearch()&&S.show()};S.has.maxSelections()||(A.apiSettings?S.can.useAPI()?S.queryRemote(G,function(){J()}):S.error(n.noAPI):(S.filterItems(G),J()))},queryRemote:function(K,J){var G={errorDuration:!1,throttle:A.throttle,cache:"local",urlData:{query:K},onError:function(){S.add.message(B.serverError),J()},onFailure:function(){S.add.message(B.serverError),J()},onSuccess:function(Y){S.remove.message(),S.setup.menu({values:Y.results}),J()}};z.api("get request")||S.setup.api(),G=h.extend(!0,{},G,A.apiSettings),z.api("setting",G).api("query")},filterItems:function(Z){var Y=Z!==f?Z:S.get.query(),J=h(),G=S.escape.regExp(Y),K=new RegExp("^"+G,"igm");""===Y?J=D:(S.verbose("Searching for matching values",Y),D.each(function(){var aa,ab,ac=h(this);if("both"==A.match||"text"==A.match){if(aa=String(S.get.choiceText(ac,!1)),-1!==aa.search(K)){return J=J.add(ac),!0}if(A.fullTextSearch&&S.fuzzySearch(Y,aa)){return J=J.add(ac),!0}}if("both"==A.match||"value"==A.match){if(ab=String(S.get.choiceValue(ac,aa)),-1!==ab.search(K)){return J=J.add(ac),!0}if(A.fullTextSearch&&S.fuzzySearch(Y,ab)){return J=J.add(ac),!0}}})),S.debug("Showing only matched items",Y),S.remove.filteredItem(),D.not(J).addClass(w.filtered)},fuzzySearch:function(ab,Z){var K=Z.length,aa=ab.length;if(ab=ab.toLowerCase(),Z=Z.toLowerCase(),aa>K){return !1}if(aa===K){return ab===Z}ab:for(var Y=0,J=0;aa>Y;Y++){for(var G=ab.charCodeAt(Y);K>J;){if(Z.charCodeAt(J++)===G){continue ab}}return !1}return !0},filterActive:function(){A.useLabels&&D.filter("."+w.active).addClass(w.filtered)},focusSearch:function(){S.is.search()&&!S.is.focusedOnSearch()&&k[0].focus()},forceSelection:function(){var K=D.not(w.filtered).filter("."+w.selected).eq(0),Y=D.not(w.filtered).filter("."+w.active).eq(0),J=K.length>0?K:Y,G=J.size()>0;G?(S.debug("Forcing partial selection to selected item",J),S.event.item.click.call(J)):S.hide()},event:{focus:function(){A.showOnFocus&&!O&&S.is.hidden()&&!y&&S.show()},click:function(G){var J=h(G.target);J.is(z)&&!S.is.focusedOnSearch()&&S.focusSearch()},blur:function(G){y=g.activeElement===this,O||y||(S.remove.activeLabel(),S.hide())},mousedown:function(){O=!0},mouseup:function(){O=!1},search:{focus:function(){O=!0,S.is.multiple()&&S.remove.activeLabel(),A.showOnFocus&&S.show()},blur:function(G){y=g.activeElement===this,I||y||(S.is.multiple()?(S.remove.activeLabel(),S.hide()):A.forceSelection?S.forceSelection():S.hide())}},icon:{click:function(G){S.toggle(),G.stopPropagation()}},text:{focus:function(G){O=!0,S.focusSearch()}},input:function(G){(S.is.multiple()||S.is.searchSelection())&&S.set.filtered(),clearTimeout(S.timer),S.timer=setTimeout(S.search,A.delay.search)},label:{click:function(Z){var K=h(this),ab=z.find(N.label),Y=ab.filter("."+w.active),J=K.nextAll("."+w.active),aa=K.prevAll("."+w.active),G=J.length>0?K.nextUntil(J).add(Y).add(K):K.prevUntil(aa).add(Y).add(K);Z.shiftKey?(Y.removeClass(w.active),G.addClass(w.active)):Z.ctrlKey?K.toggleClass(w.active):(Y.removeClass(w.active),K.addClass(w.active)),A.onLabelSelect.apply(this,ab.filter("."+w.active))}},remove:{click:function(){var G=h(this).parent();G.hasClass(w.active)?S.remove.activeLabels():S.remove.activeLabels(G)}},test:{toggle:function(J){var G=S.is.multiple()?S.show:S.toggle;S.determine.eventOnElement(J,G)&&J.preventDefault()},touch:function(G){S.determine.eventOnElement(G,function(){"touchstart"==G.type?S.timer=setTimeout(S.hide,A.delay.touch):"touchmove"==G.type&&clearTimeout(S.timer)}),G.stopPropagation()},hide:function(G){S.determine.eventInModule(G,S.hide)}},menu:{mousedown:function(){I=!0},mouseup:function(){I=!1}},item:{mouseenter:function(K){var J=h(this).children(N.menu),G=h(this).siblings(N.item).children(N.menu);J.length>0&&(clearTimeout(S.itemTimer),S.itemTimer=setTimeout(function(){S.verbose("Showing sub-menu",J),h.each(G,function(){S.animate.hide(!1,h(this))}),S.animate.show(!1,J)},A.delay.show),K.preventDefault())},mouseleave:function(G){var J=h(this).children(N.menu);J.length>0&&(clearTimeout(S.itemTimer),S.itemTimer=setTimeout(function(){S.verbose("Hiding sub-menu",J),S.animate.hide(!1,J)},A.delay.hide))},click:function(aa){var K=h(this),ac=h(aa?aa.target:""),Z=K.find(N.menu),J=S.get.choiceText(K),ab=S.get.choiceValue(K,J),G=Z.length>0,Y=Z.find(ac).length>0;Y||G&&!A.allowCategorySelection||(A.useLabels||(S.remove.filteredItem(),S.remove.searchTerm(),S.set.scrollPosition(K)),S.determine.selectAction.call(this,J,ab))}},document:{keydown:function(ai){var aa=ai.which,Y=S.get.shortcutKeys(),G=S.is.inObject(aa,Y);if(G){var ae=z.find(N.label),ac=ae.filter("."+w.active),ag=(ac.data("value"),ae.index(ac)),Z=ae.length,ad=ac.length>0,J=ac.length>1,ab=0===ag,ah=ag+1==Z,K=S.is.searchSelection(),aj=S.is.focusedOnSearch(),ak=S.is.focused(),af=aj&&0===S.get.caretPosition();if(K&&!ad&&!aj){return}aa==Y.leftArrow?!ak&&!af||ad?ad&&(ai.shiftKey?S.verbose("Adding previous label to selection"):(S.verbose("Selecting previous label"),ae.removeClass(w.active)),ab&&!J?ac.addClass(w.active):ac.prev(N.siblingLabel).addClass(w.active).end(),ai.preventDefault()):(S.verbose("Selecting previous label"),ae.last().addClass(w.active)):aa==Y.rightArrow?(ak&&!ad&&ae.first().addClass(w.active),ad&&(ai.shiftKey?S.verbose("Adding next label to selection"):(S.verbose("Selecting next label"),ae.removeClass(w.active)),ah?K?aj?ae.removeClass(w.active):S.focusSearch():J?ac.next(N.siblingLabel).addClass(w.active):ac.addClass(w.active):ac.next(N.siblingLabel).addClass(w.active),ai.preventDefault())):aa==Y.deleteKey||aa==Y.backspace?ad?(S.verbose("Removing active labels"),ah&&K&&!aj&&S.focusSearch(),ac.last().next(N.siblingLabel).addClass(w.active),S.remove.activeLabels(ac),ai.preventDefault()):af&&!ad&&aa==Y.backspace&&(S.verbose("Removing last label on input backspace"),ac=ae.last().addClass(w.active),S.remove.activeLabels(ac)):ac.removeClass(w.active)}}},keydown:function(ai){var aa=ai.which,Y=S.get.shortcutKeys(),G=S.is.inObject(aa,Y);if(G){var ae,ac,ag=D.not(N.unselectable).filter("."+w.selected).eq(0),Z=j.children("."+w.active).eq(0),ad=ag.length>0?ag:Z,J=ad.length>0?ad.siblings(":not(."+w.filtered+")").andSelf():j.children(":not(."+w.filtered+")"),ab=ad.children(N.menu),ah=ad.closest(N.menu),K=ah.hasClass(w.visible)||ah.hasClass(w.animating)||ah.parent(N.menu).length>0,aj=ab.length>0,ak=ad.length>0,af=ad.not(N.unselectable).length>0;if(S.is.visible()){if((aa==Y.enter||aa==Y.delimiter)&&(aa==Y.enter&&ak&&aj&&!A.allowCategorySelection?(S.verbose("Pressed enter on unselectable category, opening sub menu"),aa=Y.rightArrow):af&&(S.verbose("Selecting item from keyboard shortcut",ad),S.event.item.click.call(ad,ai),S.is.searchSelection()&&S.remove.searchTerm()),ai.preventDefault()),aa==Y.leftArrow&&(ac=ah[0]!==j[0],ac&&(S.verbose("Left key pressed, closing sub-menu"),S.animate.hide(!1,ah),ad.removeClass(w.selected),ah.closest(N.item).addClass(w.selected),ai.preventDefault())),aa==Y.rightArrow&&aj&&(S.verbose("Right key pressed, opening sub-menu"),S.animate.show(!1,ab),ad.removeClass(w.selected),ab.find(N.item).eq(0).addClass(w.selected),ai.preventDefault()),aa==Y.upArrow){if(ae=ak&&K?ad.prevAll(N.item+":not("+N.unselectable+")").eq(0):D.eq(0),J.index(ae)<0){return S.verbose("Up key pressed but reached top of current menu"),void ai.preventDefault()}S.verbose("Up key pressed, changing active item"),ad.removeClass(w.selected),ae.addClass(w.selected),S.set.scrollPosition(ae),ai.preventDefault()}if(aa==Y.downArrow){if(ae=ak&&K?ae=ad.nextAll(N.item+":not("+N.unselectable+")").eq(0):D.eq(0),0===ae.length){return S.verbose("Down key pressed but reached bottom of current menu"),void ai.preventDefault()}S.verbose("Down key pressed, changing active item"),D.removeClass(w.selected),ae.addClass(w.selected),S.set.scrollPosition(ae),ai.preventDefault()}aa==Y.pageUp&&(S.scrollPage("up"),ai.preventDefault()),aa==Y.pageDown&&(S.scrollPage("down"),ai.preventDefault()),aa==Y.escape&&(S.verbose("Escape key pressed, closing dropdown"),S.hide())}else{aa==Y.delimiter&&ai.preventDefault(),aa==Y.downArrow&&(S.verbose("Down key pressed, showing dropdown"),S.show(),ai.preventDefault())}}else{S.is.selection()&&!S.is.search()&&S.set.selectedLetter(String.fromCharCode(aa))}}},determine:{selectAction:function(G,J){S.verbose("Determining action",A.action),h.isFunction(S.action[A.action])?(S.verbose("Triggering preset action",A.action,G,J),S.action[A.action].call(this,G,J)):h.isFunction(A.action)?(S.verbose("Triggering user action",A.action,G,J),A.action.call(this,G,J)):S.error(n.action,A.action)},eventInModule:function(K,Z){var Y=h(K.target),J=Y.closest(g.documentElement).length>0,G=Y.closest(z).length>0;return Z=h.isFunction(Z)?Z:function(){},J&&!G?(S.verbose("Triggering event",Z),Z(),!0):(S.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(K,Z){var Y=h(K.target),J=0===Y.closest(N.siblingLabel).length,G=0===Y.closest(j).length;return Z=h.isFunction(Z)?Z:function(){},J&&G?(S.verbose("Triggering event",Z),Z(),!0):(S.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(G,J){J=J!==f?J:G,S.set.selected(J,h(this)),(!S.is.multiple()||S.is.allFiltered())&&S.hideAndClear()},select:function(J,G){S.action.activate.call(this)},combo:function(G,J){J=J!==f?J:G,S.set.selected(J,h(this)),S.hideAndClear()},hide:function(){S.hideAndClear()}},get:{id:function(){return W},text:function(){return V.text()},query:function(){return h.trim(k.val())},searchWidth:function(G){return G*A.glyphWidth+"em"},selectionCount:function(){var G=S.get.values();return S.is.multiple()?h.isArray(G)?G.length:0:""!==S.get.value()?1:0},transition:function(G){return"auto"==A.transition?S.is.upward(G)?"slide up":"slide down":A.transition},userValues:function(){var G=S.get.values();return G?(G=h.isArray(G)?G:[G],h.grep(G,function(J){return S.get.item(J)===!1})):!1},uniqueArray:function(G){return h.grep(G,function(J,K){return h.inArray(J,G)===K})},caretPosition:function(){var J,K,G=k.get(0);return"selectionStart" in G?G.selectionStart:g.selection?(G.focus(),J=g.selection.createRange(),K=J.text.length,J.moveStart("character",-G.value.length),J.text.length-K):void 0},shortcutKeys:function(){return{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40}},value:function(){return i.length>0?i.val():z.data(E.value)},values:function(){var G=S.get.value();return""===G?"":!i.is("select")&&S.is.multiple()?"string"==typeof G?G.split(A.delimiter):"":G},remoteValues:function(){var G=S.get.values(),J=!1;return G&&("string"==typeof G&&(G=[G]),J={},h.each(G,function(Z,K){var Y=S.read.remoteData(K);S.verbose("Restoring value from session data",Y,K),J[K]=Y?Y:K})),J},choiceText:function(J,G){return G=G!==f?G:A.preserveHTML,J?(J.find(N.menu).length>0&&(S.verbose("Retreiving text of element with sub-menu"),J=J.clone(),J.find(N.menu).remove(),J.find(N.menuIcon).remove()),J.data(E.text)!==f?J.data(E.text):G?J.html().trim():J.text().trim()):void 0},choiceValue:function(J,G){return G=G||S.get.choiceText(J),J?J.data(E.value)!==f?J.data(E.value):"string"==typeof G?G.toLowerCase().trim():G:!1},inputEvent:function(){var G=k[0];return G?G.oninput!==f?"input":G.onpropertychange!==f?"propertychange":"keyup":!1},selectValues:function(){var G={};return G.values=[],z.find("option").each(function(){var Z=h(this),J=Z.html(),Y=Z.attr("disabled"),K=Z.attr("value")!==f?Z.attr("value"):J;"auto"===A.placeholder&&""===K?G.placeholder=J:G.values.push({name:J,value:K,disabled:Y})}),A.placeholder&&"auto"!==A.placeholder&&(S.debug("Setting placeholder value to",A.placeholder),G.placeholder=A.placeholder),A.sortSelect?(G.values.sort(function(J,K){return J.name>K.name?1:-1}),S.debug("Retrieved and sorted values from select",G)):S.debug("Retreived values from select",G),G},activeItem:function(){return D.filter("."+w.active)},selectedItem:function(){var G=D.not(N.unselectable).filter("."+w.selected);return G.length>0?G:D.eq(0)},itemWithAdditions:function(K){var Y=S.get.item(K),J=S.create.userChoice(K),G=J&&J.length>0;return G&&(Y=Y.length>0?Y.add(J):J),Y},item:function(Z,Y){var J,G,K=!1;return Z=Z!==f?Z:S.get.values()!==f?S.get.values():S.get.text(),J=G?Z.length>0:Z!==f&&""!==Z&&null!==Z,G=S.is.multiple()&&h.isArray(Z),Y=""===Z||0===Z?!0:Y||!1,J&&D.each(function(){var ab=h(this),ac=S.get.choiceText(ab),aa=S.get.choiceValue(ab,ac);if(null!==aa&&aa!==f){if(G){(-1!==h.inArray(aa.toString(),Z)||-1!==h.inArray(ac,Z))&&(K=K?K.add(ab):ab)}else{if(Y){if(S.verbose("Ambiguous dropdown value using strict type check",ab,Z),aa===Z||ac===Z){return K=ab,!0}}else{if(aa.toString()==Z.toString()||ac==Z){return S.verbose("Found select item by value",aa,Z),K=ab,!0}}}}}),K}},check:{maxSelections:function(G){return A.maxSelections?(G=G!==f?G:S.get.selectionCount(),G>=A.maxSelections?(S.debug("Maximum selection count reached"),D.addClass(w.filtered),S.add.message(B.maxSelections),!0):(S.verbose("No longer at maximum selection count"),S.remove.message(),S.remove.filteredItem(),S.is.searchSelection()&&S.filterItems(),!1)):!0}},restore:{defaults:function(){S.clear(),S.restore.defaultText(),S.restore.defaultValue()},defaultText:function(){var G=z.data(E.defaultText);S.debug("Restoring default text",G),S.set.text(G),V.addClass(w.placeholder)},defaultValue:function(){var G=z.data(E.defaultValue);G!==f&&(S.debug("Restoring default value",G),""!==G?(S.set.value(G),S.set.selected()):(S.remove.activeItem(),S.remove.selectedItem()))},labels:function(){A.allowAdditions&&(A.useLabels||(S.error(n.labels),A.useLabels=!0),S.debug("Restoring selected values"),S.create.userLabels()),S.check.maxSelections()},selected:function(){S.restore.values(),S.is.multiple()?(S.debug("Restoring previously selected values and labels"),S.restore.labels()):S.debug("Restoring previously selected values")},values:function(){S.set.initialLoad(),A.apiSettings?A.saveRemoteData?S.restore.remoteValues():S.clearValue():S.set.selected(),S.remove.initialLoad()},remoteValues:function(){var G=S.get.remoteValues();S.debug("Recreating selected from session data",G),G&&(S.is.single()?h.each(G,function(J,K){S.set.text(K)}):h.each(G,function(J,K){S.add.label(J,K)}))}},read:{remoteData:function(G){var J;return e.Storage===f?void S.error(n.noStorage):(J=sessionStorage.getItem(G),J!==f?J:!1)}},save:{defaults:function(){S.save.defaultText(),S.save.placeholderText(),S.save.defaultValue()},defaultValue:function(){var G=S.get.value();S.verbose("Saving default value as",G),z.data(E.defaultValue,G)},defaultText:function(){var G=S.get.text();S.verbose("Saving default text as",G),z.data(E.defaultText,G)},placeholderText:function(){var G;V.hasClass(w.placeholder)&&(G=S.get.text(),S.verbose("Saving placeholder text as",G),z.data(E.placeholderText,G))},remoteData:function(G,J){return e.Storage===f?void S.error(n.noStorage):(S.verbose("Saving remote data to session storage",J,G),void sessionStorage.setItem(J,G))}},clear:function(){S.is.multiple()?S.remove.labels():(S.remove.activeItem(),S.remove.selectedItem()),S.set.placeholderText(),S.clearValue()},clearValue:function(){S.set.value("")},scrollPage:function(J,ad){var Z,K,ab,ad=ad||S.get.selectedItem(),af=ad.closest(N.menu),ac=af.outerHeight(),aa=af.scrollTop(),ag=D.eq(0).outerHeight(),Y=Math.floor(ac/ag),ae=(af.prop("scrollHeight"),"up"==J?aa-ag*Y:aa+ag*Y),G=D.not(N.unselectable);ab="up"==J?G.index(ad)-Y:G.index(ad)+Y,Z="up"==J?ab>=0:ab<G.length,K=Z?G.eq(ab):"up"==J?G.first():G.last(),K.length>0&&(S.debug("Scrolling page",J,K),ad.removeClass(w.selected),K.addClass(w.selected),af.scrollTop(ae))},set:{filtered:function(){var ab=S.is.multiple(),Z=S.is.searchSelection(),K=ab&&Z,aa=Z?S.get.query():"",Y="string"==typeof aa&&aa.length>0,J=S.get.searchWidth(aa.length),G=""!==aa;ab&&Y&&(S.verbose("Adjusting input width",J,A.glyphWidth),k.css("width",J)),Y||K&&G?(S.verbose("Hiding placeholder text"),V.addClass(w.filtered)):(!ab||K&&!G)&&(S.verbose("Showing placeholder text"),V.removeClass(w.filtered))},loading:function(){z.addClass(w.loading)},placeholderText:function(G){G=G||z.data(E.placeholderText),G&&(S.debug("Restoring placeholder text"),S.set.text(G),V.addClass(w.placeholder))},tabbable:function(){S.has.search()?(S.debug("Added tabindex to searchable dropdown"),k.val("").attr("tabindex",0),j.attr("tabindex",-1)):(S.debug("Added tabindex to dropdown"),z.attr("tabindex")||(z.attr("tabindex",0),j.attr("tabindex",-1)))},initialLoad:function(){S.verbose("Setting initial load"),R=!0},scrollPosition:function(J,ad){var Z,ab,af,ac,aa,ag,K,ae,G,Y=5;J=J||S.get.selectedItem(),Z=J.closest(N.menu),ab=J&&J.length>0,ad=ad!==f?ad:!1,J&&Z.length>0&&ab&&(ac=J.position().top,Z.addClass(w.loading),ag=Z.scrollTop(),aa=Z.offset().top,ac=J.offset().top,af=ag-aa+ac,ad||(K=Z.height(),G=af+Y>ag+K,ae=ag>af-Y),S.debug("Scrolling to active item",af),(ad||ae||G)&&Z.scrollTop(af),Z.removeClass(w.loading))},text:function(G){"select"!==A.action&&("combo"==A.action?(S.debug("Changing combo button text",G,F),A.preserveHTML?F.html(G):F.text(G)):(S.debug("Changing text",G,V),V.removeClass(w.filtered).removeClass(w.placeholder),A.preserveHTML?V.html(G):V.text(G)))},selectedLetter:function(K){var Z,Y=D.filter("."+w.selected),J=Y.length>0&&S.has.firstLetter(Y,K),G=!1;J&&(Z=Y.nextAll(D).eq(0),S.has.firstLetter(Z,K)&&(G=Z)),G||D.each(function(){return S.has.firstLetter(h(this),K)?(G=h(this),!1):void 0}),G&&(S.verbose("Scrolling to next value with letter",K),S.set.scrollPosition(G),Y.removeClass(w.selected),G.addClass(w.selected))},direction:function(G){"auto"==A.direction?S.is.onScreen(G)?S.remove.upward(G):S.set.upward(G):"upward"==A.direction&&S.set.upward(G)},upward:function(J){var G=J||z;G.addClass(w.upward)},value:function(J,Y,K){var aa=i.length>0,Z=(!S.has.value(J),S.get.values()),G="number"==typeof J?J.toString():J;if(aa){if(G==Z&&(S.verbose("Skipping value update already same value",J,Z),!S.is.initialLoad())){return}S.debug("Updating input value",J,Z),i.val(J).trigger("change")}else{S.verbose("Storing value in metadata",J,i),J!==Z&&z.data(E.value,J)}A.fireOnInit===!1&&S.is.initialLoad()?S.verbose("No callback on initial load",A.onChange):A.onChange.call(q,J,Y,K)},active:function(){z.addClass(w.active)},multiple:function(){z.addClass(w.multiple)},visible:function(){z.addClass(w.visible)},selected:function(K,J){var G=S.is.multiple();J=A.allowAdditions?J||S.get.itemWithAdditions(K):J||S.get.item(K),J&&(S.debug("Setting selected menu item to",J),S.is.single()?(S.remove.activeItem(),S.remove.selectedItem()):A.useLabels&&S.remove.selectedItem(),J.each(function(){var ad=h(this),aa=S.get.choiceText(ad),ae=S.get.choiceValue(ad,aa),ab=ad.hasClass(w.filtered),ac=ad.hasClass(w.active),Z=ad.hasClass(w.addition),Y=G&&1==J.length;G?!ac||Z?(A.apiSettings&&A.saveRemoteData&&S.save.remoteData(aa,ae),A.useLabels?(S.add.value(ae,aa,ad),S.add.label(ae,aa,Y),ad.addClass(w.active),S.filterActive(),S.select.nextAvailable(J)):(S.set.text(S.add.variables(B.count)),S.add.value(ae,aa,ad),ad.addClass(w.active))):ab||(S.debug("Selected active value, removing label"),S.remove.selected(ae)):(A.apiSettings&&A.saveRemoteData&&S.save.remoteData(aa,ae),S.set.text(aa),S.set.value(ae,aa,ad),ad.addClass(w.active).addClass(w.selected))}))}},add:{label:function(K,Z,Y){var J,G=S.is.searchSelection()?k:V;return J=h("<a />").addClass(w.label).attr("data-value",K).html(P.label(K,Z)),J=A.onLabelCreate.call(J,K,Z),S.has.label(K)?void S.debug("Label already exists, skipping",K):(A.label.variation&&J.addClass(A.label.variation),void (Y===!0?(S.debug("Animating in label",J),J.addClass(w.hidden).insertBefore(G).transition(A.label.transition,A.label.duration)):(S.debug("Adding selection label",J),J.insertBefore(G))))},message:function(K){var J=j.children(N.message),G=A.templates.message(S.add.variables(K));J.length>0?J.html(G):J=h("<div/>").html(G).addClass(w.message).appendTo(j)},optionValue:function(K){var J=i.find('option[value="'+K+'"]'),G=J.length>0;G||(U&&(U.disconnect(),S.verbose("Temporarily disconnecting mutation observer",K)),h("<option/>").prop("value",K).html(K).appendTo(i),S.verbose("Adding user addition as an <option>",K),U&&U.observe(i[0],{childList:!0,subtree:!0}))},userSuggestion:function(K){var Z,Y=j.children(N.addition),J=S.get.item(K),G=Y.length>0;if(!S.has.maxSelections()){if(""===K||J){return void Y.remove()}D.removeClass(w.selected),G?(Z=A.templates.addition(K),Y.html(Z).data(E.value,K).removeClass(w.filtered).addClass(w.selected),S.verbose("Replacing user suggestion with new value",Y)):(Y=S.create.userChoice(K),Y.prependTo(j).addClass(w.selected),S.verbose("Adding item choice to menu corresponding with user choice addition",Y))}},variables:function(J){var Y,K,aa=-1!==J.search("{count}"),Z=-1!==J.search("{maxCount}"),G=-1!==J.search("{term}");return S.verbose("Adding templated variables to message",J),aa&&(Y=S.get.selectionCount(),J=J.replace("{count}",Y)),Z&&(Y=S.get.selectionCount(),J=J.replace("{maxCount}",A.maxSelections)),G&&(K=S.get.query(),J=J.replace("{term}",K)),J},value:function(K,Z,Y){var J,G=S.get.values();return""===K?void S.debug("Cannot select blank values from multiselect"):(h.isArray(G)?(J=G.concat([K]),J=S.get.uniqueArray(J)):J=[K],i.is("select")?A.allowAdditions&&(S.add.optionValue(K),S.debug("Adding value to select",K,J,i)):(J=J.join(A.delimiter),S.debug("Setting hidden input to delimited value",J,i)),A.fireOnInit===!1&&S.is.initialLoad()?S.verbose("No callback on initial load",A.onAdd):A.onAdd.call(q,K,Z,Y),S.set.value(J,K,Z,Y),void S.check.maxSelections())}},remove:{active:function(){z.removeClass(w.active)},activeLabel:function(){z.find(N.label).removeClass(w.active)},loading:function(){z.removeClass(w.loading)},initialLoad:function(){R=!1},upward:function(J){var G=J||z;G.removeClass(w.upward)},visible:function(){z.removeClass(w.visible)},activeItem:function(){D.removeClass(w.active)},filteredItem:function(){S.has.maxSelections()||(A.useLabels?D.not("."+w.active).removeClass(w.filtered):D.removeClass(w.filtered))},message:function(){j.children(N.message).remove()},searchTerm:function(){S.verbose("Cleared search term"),k.val(""),S.set.filtered()},selected:function(G,J){return(J=A.allowAdditions?J||S.get.itemWithAdditions(G):J||S.get.item(G))?void J.each(function(){var K=h(this),Z=S.get.choiceText(K),Y=S.get.choiceValue(K,Z);S.is.multiple()?A.useLabels?(S.remove.value(Y,Z,K),S.remove.label(Y)):(S.remove.value(Y,Z,K),S.set.text(S.add.variables(B.count))):S.remove.value(Y,Z,K),K.removeClass(w.filtered).removeClass(w.active),A.useLabels&&K.removeClass(w.selected)}):!1},selectedItem:function(){D.removeClass(w.selected)},value:function(K,Z,Y){var J,G=i.val();i.is("select")?(S.verbose("Input is <select> removing selected option",K),J=S.remove.arrayValue(K,G)):(S.verbose("Removing from delimited values",K),G=G.split(A.delimiter),J=S.remove.arrayValue(K,G),J=J.join(A.delimiter)),A.fireOnInit===!1&&S.is.initialLoad()?S.verbose("No callback on initial load",A.onRemove):A.onRemove.call(q,K,Z,Y),S.set.value(J,Z,Y),S.check.maxSelections()},arrayValue:function(G,J){return J=h.grep(J,function(K){return G!=K}),S.verbose("Removed value from delimited string",G,J),J},label:function(J){var Y=z.find(N.label),K=Y.filter('[data-value="'+J+'"]'),aa=Y.length,Z=Y.index(K)+1==aa,G=(!S.is.searchSelection()||!S.is.focusedOnSearch())&&Z;G?(S.verbose("Animating and removing label",K),K.transition(A.label.transition,A.label.duration,function(){K.remove()})):(S.verbose("Removing label",K),K.remove())},activeLabels:function(G){G=G||z.find(N.label).filter("."+w.active),S.verbose("Removing active label selections",G),S.remove.labels(G)},labels:function(G){G=G||z.find(N.label),S.verbose("Removing labels",G),G.each(function(){var K=h(this).data("value"),J=S.is.userValue(K);J?(S.remove.value(K),S.remove.label(K)):S.remove.selected(K)})},tabbable:function(){S.has.search()?(S.debug("Searchable dropdown initialized"),k.attr("tabindex","-1"),j.attr("tabindex","-1")):(S.debug("Simple selection dropdown initialized"),z.attr("tabindex","-1"),j.attr("tabindex","-1"))}},has:{search:function(){return k.length>0},firstLetter:function(K,Y){var J,G;return K&&0!==K.length&&"string"==typeof Y?(J=S.get.choiceText(K,!1),Y=Y.toLowerCase(),G=String(J).charAt(0).toLowerCase(),Y==G):!1},input:function(){return i.length>0},items:function(){return D.length>0},menu:function(){return j.length>0},message:function(){return 0!==j.children(N.message).length},label:function(J){var G=z.find(N.label);return G.filter('[data-value="'+J+'"]').length>0},maxSelections:function(){return A.maxSelections&&S.get.selectionCount()>=A.maxSelections},allResultsFiltered:function(){return D.filter(N.unselectable).length===D.length},value:function(K){var J=S.get.values(),G=h.isArray(J)?J&&-1!==h.inArray(K,J):J==K;return G?!0:!1}},is:{active:function(){return z.hasClass(w.active)},alreadySetup:function(){return z.is("select")&&z.parent(N.dropdown).length>0&&0===z.prev().length},animating:function(G){return G?G.transition&&G.transition("is animating"):j.transition&&j.transition("is animating")},disabled:function(){z.hasClass(w.disabled)},focused:function(){return g.activeElement===z[0]},focusedOnSearch:function(){return g.activeElement===k[0]},allFiltered:function(){return(S.is.multiple()||S.has.search())&&!S.has.message()&&S.has.allResultsFiltered()},hidden:function(G){return !S.is.visible(G)},initialLoad:function(){return R},onScreen:function(K){var Z,Y=K||j,J=!0,G={};return Y.addClass(w.loading),Z={context:{scrollTop:X.scrollTop(),height:X.outerHeight()},menu:{offset:Y.offset(),height:Y.outerHeight()}},G={above:Z.context.scrollTop<=Z.menu.offset.top-Z.menu.height,below:Z.context.scrollTop+Z.context.height>=Z.menu.offset.top+Z.menu.height},G.below?(S.verbose("Dropdown can fit in context downward",G),J=!0):G.below||G.above?(S.verbose("Dropdown cannot fit below, opening upward",G),J=!1):(S.verbose("Dropdown cannot fit in either direction, favoring downward",G),J=!0),Y.removeClass(w.loading),J},inObject:function(K,J){var G=!1;return h.each(J,function(Y,Z){return Z==K?(G=!0,!0):void 0}),G},multiple:function(){return z.hasClass(w.multiple)},single:function(){return !S.is.multiple()},selectMutation:function(G){var J=!1;return h.each(G,function(K,Y){return Y.target&&h(Y.target).is("select")?(J=!0,!0):void 0}),J},search:function(){return z.hasClass(w.search)},searchSelection:function(){return S.has.search()&&0===k.closest(N.menu).length},selection:function(){return z.hasClass(w.selection)},userValue:function(G){return -1!==h.inArray(G,S.get.userValues())},upward:function(J){var G=J||z;return G.hasClass(w.upward)},visible:function(G){return G?G.hasClass(w.visible):j.hasClass(w.visible)}},can:{click:function(){return l||"click"==A.on},show:function(){return !S.is.disabled()&&(S.has.items()||S.has.message())},useAPI:function(){return h.fn.api!==f}},animate:{show:function(Z,Y){var J,G=Y||j,K=Y?function(){}:function(){S.hideSubMenus(),S.hideOthers(),S.set.active()};Z=h.isFunction(Z)?Z:function(){},S.verbose("Doing menu show animation",G),S.set.direction(Y),J=S.get.transition(Y),S.is.selection()&&S.set.scrollPosition(S.get.selectedItem(),!0),(S.is.hidden(G)||S.is.animating(G))&&("none"==J?(K(),G.transition("show"),Z.call(q)):h.fn.transition!==f&&z.transition("is supported")?G.transition({animation:J+" in",debug:A.debug,verbose:A.verbose,duration:A.duration,queue:!0,onStart:K,onComplete:function(){Z.call(q)}}):S.error(n.noTransition,J))},hide:function(Z,Y){var J=Y||j,G=(Y?0.9*A.duration:A.duration,Y?function(){}:function(){S.can.click()&&S.unbind.intent(),S.remove.active()}),K=S.get.transition(Y);Z=h.isFunction(Z)?Z:function(){},(S.is.visible(J)||S.is.animating(J))&&(S.verbose("Doing menu hide animation",J),"none"==K?(G(),J.transition("hide"),Z.call(q)):h.fn.transition!==f&&z.transition("is supported")?J.transition({animation:K+" out",duration:A.duration,debug:A.debug,verbose:A.verbose,queue:!0,onStart:G,onComplete:function(){"auto"==A.direction&&S.remove.upward(Y),Z.call(q)}}):S.error(n.transition))}},hideAndClear:function(){S.remove.searchTerm(),S.has.maxSelections()||(S.has.search()?S.hide(function(){S.remove.filteredItem()}):S.hide())},delay:{show:function(){S.verbose("Delaying show event to ensure user intent"),clearTimeout(S.timer),S.timer=setTimeout(S.show,A.delay.show)},hide:function(){S.verbose("Delaying hide event to ensure user intent"),clearTimeout(S.timer),S.timer=setTimeout(S.hide,A.delay.hide)}},escape:{regExp:function(G){return G=String(G),G.replace(p.escape,"\\$&")}},setting:function(G,J){if(S.debug("Changing setting",G,J),h.isPlainObject(G)){h.extend(!0,A,G)}else{if(J===f){return A[G]}A[G]=J}},internal:function(G,J){if(h.isPlainObject(G)){h.extend(!0,S,G)}else{if(J===f){return S[G]}S[G]=J}},debug:function(){A.debug&&(A.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,A.name+":"),S.debug.apply(console,arguments)))},verbose:function(){A.verbose&&A.debug&&(A.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,A.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,A.name+":"),S.error.apply(console,arguments)},performance:{log:function(K){var Y,J,G;A.performance&&(Y=(new Date).getTime(),G=u||Y,J=Y-G,u=Y,b.push({Name:K[0],Arguments:[].slice.call(K,1)||"",Element:q,"Execution Time":J})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var G=A.name+":",J=0;u=!1,clearTimeout(S.performance.timer),h.each(b,function(K,Y){J+=Y["Execution Time"]}),G+=" "+J+"ms",a&&(G+=" '"+a+"'"),(console.group!==f||console.table!==f)&&b.length>0&&(console.groupCollapsed(G),console.table?console.table(b):h.each(b,function(K,Y){console.log(Y.Name+": "+Y["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(ab,K,aa){var J,Z,Y,G=Q;return K=K||d,aa=q||aa,"string"==typeof ab&&G!==f&&(ab=ab.split(/[\. ]/),J=ab.length-1,h.each(ab,function(ac,ad){var ae=ac!=J?ad+ab[ac+1].charAt(0).toUpperCase()+ab[ac+1].slice(1):ab;if(h.isPlainObject(G[ae])&&ac!=J){G=G[ae]}else{if(G[ae]!==f){return Z=G[ae],!1}if(!h.isPlainObject(G[ad])||ac==J){return G[ad]!==f?(Z=G[ad],!1):(S.error(n.method,ab),!1)}G=G[ad]}})),h.isFunction(Z)?Y=Z.apply(aa,K):Z!==f&&(Y=Z),h.isArray(x)?x.push(Y):x!==f?x=[x,Y]:Y!==f&&(x=Y),Z}},c?(Q===f&&S.initialize(),S.invoke(m)):(Q!==f&&Q.invoke("destroy"),S.initialize())}),x!==f?x:r},h.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:e,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(b,c,a){},onAdd:function(b,c,a){},onRemove:function(b,c,a){},onLabelSelect:function(a){},onLabelCreate:function(b,a){return h(this)},onNoResults:function(a){return !0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},h.fn.dropdown.settings.templates={dropdown:function(b){var a=b.placeholder||!1,c=(b.values||{},"");return c+='<i class="dropdown icon"></i>',c+=b.placeholder?'<div class="default text">'+a+"</div>":'<div class="text"></div>',c+='<div class="menu">',h.each(b.values,function(d,j){c+=j.disabled?'<div class="disabled item" data-value="'+j.value+'">'+j.name+"</div>":'<div class="item" data-value="'+j.value+'">'+j.name+"</div>"}),c+="</div>"},menu:function(b){var a=(b.values||{},"");return h.each(b.values,function(c,d){a+='<div class="item" data-value="'+d.value+'">'+d.name+"</div>"}),a},label:function(a,b){return b+'<i class="delete icon"></i>'},message:function(a){return a},addition:function(a){return a}}}(jQuery,window,document),function(h,e,g,f){h.fn.embed=function(o){var q,c=h(this),r=c.selector||"",a=(new Date).getTime(),d=[],n=arguments[0],b="string"==typeof n,l=[].slice.call(arguments,1);return c.each(function(){var k,P=h.isPlainObject(o)?h.extend(!0,{},h.fn.embed.settings,o):h.extend({},h.fn.embed.settings),j=P.selector,v=P.className,y=P.sources,x=P.error,L=P.metadata,N=P.namespace,C=P.templates,w="."+N,A="module-"+N,O=(h(e),h(this)),M=O.find(j.placeholder),i=O.find(j.icon),p=O.find(j.embed),K=this,m=O.data(A);k={initialize:function(){k.debug("Initializing embed"),k.determine.autoplay(),k.create(),k.bind.events(),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),m=k,O.data(A,k)},destroy:function(){k.verbose("Destroying previous instance of embed"),k.reset(),O.removeData(A).off(w)},refresh:function(){k.verbose("Refreshing selector cache"),M=O.find(j.placeholder),i=O.find(j.icon),p=O.find(j.embed)},bind:{events:function(){k.has.placeholder()&&(k.debug("Adding placeholder events"),console.log(O,j.placeholder),O.on("click"+w,j.placeholder,k.createAndShow).on("click"+w,j.icon,k.createAndShow))}},create:function(){var s=k.get.placeholder();s?k.createPlaceholder():k.createAndShow()},createPlaceholder:function(t){var u=k.get.icon(),s=k.get.url();k.generate.embed(s);t=t||k.get.placeholder(),O.html(C.placeholder(t,u)),k.debug("Creating placeholder for embed",t,u)},createEmbed:function(s){k.refresh(),s=s||k.get.url(),console.log(s),p=h("<div/>").addClass(v.embed).html(k.generate.embed(s)).appendTo(O),P.onCreate.call(K,s),k.debug("Creating embed object",p)},createAndShow:function(){console.log("cands"),k.createEmbed(),k.show()},change:function(t,u,s){k.debug("Changing video to ",t,u,s),O.data(L.source,t).data(L.id,u).data(L.url,s),k.create()},reset:function(){k.debug("Clearing embed and showing placeholder"),k.remove.active(),k.remove.embed(),k.showPlaceholder(),P.onReset.call(K)},show:function(){k.debug("Showing embed"),k.set.active(),P.onDisplay.call(K)},hide:function(){k.debug("Hiding embed"),k.showPlaceholder()},showPlaceholder:function(){k.debug("Showing placeholder image"),k.remove.active(),P.onPlaceholderDisplay.call(K)},get:{id:function(){return P.id||O.data(L.id)},placeholder:function(){return P.placeholder||O.data(L.placeholder)},icon:function(){return P.icon?P.icon:O.data(L.icon)!==f?O.data(L.icon):k.determine.icon()},source:function(s){return P.source?P.source:O.data(L.source)!==f?O.data(L.source):k.determine.source()},type:function(){var s=k.get.source();return y[s]!==f?y[s].type:!1},url:function(){return P.url?P.url:O.data(L.url)!==f?O.data(L.url):k.determine.url()}},determine:{autoplay:function(){k.should.autoplay()&&(P.autoplay=!0)},source:function(t){var s=!1;return t=t||k.get.url(),t&&h.each(y,function(z,u){return -1!==t.search(u.domain)?(s=z,!1):void 0}),s},icon:function(){var s=k.get.source();return y[s]!==f?y[s].icon:!1},url:function(){var t,u=P.id||O.data(L.id),s=P.source||O.data(L.source);return t=y[s]!==f?y[s].url.replace("{id}",u):!1,t&&O.data(L.url,t),t}},set:{active:function(){O.addClass(v.active)}},remove:{active:function(){O.removeClass(v.active)},embed:function(){p.empty()}},encode:{parameters:function(t){var u,s=[];for(u in t){s.push(encodeURIComponent(u)+"="+encodeURIComponent(t[u]))}return s.join("&amp;")}},generate:{embed:function(s){k.debug("Generating embed html");var t,z,u=k.get.source();return s=k.get.url(s),s?(z=k.generate.parameters(u),t=C.iframe(s,z)):k.error(x.noURL,O),t},parameters:function(u,s){var t=y[u]&&y[u].parameters!==f?y[u].parameters(P):{};return s=s||P.parameters,s&&(t=h.extend({},t,s)),t=P.onEmbed(t),k.encode.parameters(t)}},has:{placeholder:function(){return P.placeholder||O.data(L.placeholder)}},should:{autoplay:function(){return"auto"===P.autoplay?P.placeholder||O.data(L.placeholder)!==f:P.autoplay}},is:{video:function(){return"video"==k.get.type()}},setting:function(t,s){if(k.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,P,t)}else{if(s===f){return P[t]}P[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,k,t)}else{if(s===f){return k[t]}k[t]=s}},debug:function(){P.debug&&(P.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,P.name+":"),k.debug.apply(console,arguments)))},verbose:function(){P.verbose&&P.debug&&(P.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,P.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,P.name+":"),k.error.apply(console,arguments)},performance:{log:function(s){var t,z,u;P.performance&&(t=(new Date).getTime(),u=a||t,z=t-u,a=t,d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:K,"Execution Time":z})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=P.name+":",s=0;a=!1,clearTimeout(k.performance.timer),h.each(d,function(z,u){s+=u["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),c.length>1&&(t+=" ("+c.length+")"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):h.each(d,function(z,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,z,u){var s,E,D,B=m;return z=z||l,u=K||u,"string"==typeof t&&B!==f&&(t=t.split(/[\. ]/),s=t.length-1,h.each(t,function(G,H){var F=G!=s?H+t[G+1].charAt(0).toUpperCase()+t[G+1].slice(1):t;if(h.isPlainObject(B[F])&&G!=s){B=B[F]}else{if(B[F]!==f){return E=B[F],!1}if(!h.isPlainObject(B[H])||G==s){return B[H]!==f?(E=B[H],!1):(k.error(x.method,t),!1)}B=B[H]}})),h.isFunction(E)?D=E.apply(u,z):E!==f&&(D=E),h.isArray(q)?q.push(D):q!==f?q=[q,D]:D!==f&&(q=D),E}},b?(m===f&&k.initialize(),k.invoke(n)):(m!==f&&m.invoke("destroy"),k.initialize())}),q!==f?q:this},h.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(a){},onEmbed:function(a){return a},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(a){return{autohide:!a.brandedUI,autoplay:a.autoplay,color:a.colors||f,hq:a.hd,jsapi:a.api,modestbranding:!a.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(a){return{api:a.api,autoplay:a.autoplay,byline:a.brandedUI,color:a.colors||f,portrait:a.brandedUI,title:a.brandedUI}}}},templates:{iframe:function(a,b){return'<iframe src="'+a+"?="+b+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(b,c){var a="";return c&&(a+='<i class="'+c+' icon"></i>'),b&&(a+='<img class="placeholder" src="'+b+'">'),a}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(h,e,g,f){h.fn.modal=function(m){var u,p=h(this),b=h(e),v=h(g),d=h("body"),r=p.selector||"",B=(new Date).getTime(),l=[],a=arguments[0],c="string"==typeof a,o=[].slice.call(arguments,1),s=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)};return p.each(function(){var w,j,i,E,C,x,F,n,S,T=h.isPlainObject(m)?h.extend(!0,{},h.fn.modal.settings,m):h.extend({},h.fn.modal.settings),q=T.selector,R=T.className,P=T.namespace,z=T.error,O="."+P,A="module-"+P,y=h(this),t=h(T.context),k=y.find(q.close),I=this,D=y.data(A);S={initialize:function(){S.verbose("Initializing dimmer",t),S.create.id(),S.create.dimmer(),S.refreshModals(),S.bind.events(),T.observeChanges&&S.observeChanges(),S.instantiate()},instantiate:function(){S.verbose("Storing instance of modal"),D=S,y.data(A,D)},create:{dimmer:function(){var G={debug:T.debug,dimmerName:"modals",duration:{show:T.duration,hide:T.duration}},H=h.extend(!0,G,T.dimmerSettings);return T.inverted&&(H.variation=H.variation!==f?H.variation+" inverted":"inverted"),h.fn.dimmer===f?void S.error(z.dimmer):(S.debug("Creating dimmer with settings",H),E=t.dimmer(H),T.detachable?(S.verbose("Modal is detachable, moving content into dimmer"),E.dimmer("add content",y)):S.set.undetached(),T.blurring&&E.addClass(R.blurring),void (C=E.dimmer("get dimmer")))},id:function(){F=(Math.random().toString(16)+"000000000").substr(2,8),x="."+F,S.verbose("Creating unique id for element",F)}},destroy:function(){S.verbose("Destroying previous modal"),y.removeData(A).off(O),b.off(x),k.off(O),t.dimmer("destroy")},observeChanges:function(){"MutationObserver" in e&&(n=new MutationObserver(function(G){S.debug("DOM tree modified, refreshing"),S.refresh()}),n.observe(I,{childList:!0,subtree:!0}),S.debug("Setting up mutation observer",n))},refresh:function(){S.remove.scrolling(),S.cacheSizes(),S.set.screenHeight(),S.set.type(),S.set.position()},refreshModals:function(){j=y.siblings(q.modal),w=j.add(y)},attachEvents:function(J,H){var G=h(J);H=h.isFunction(S[H])?S[H]:S.toggle,G.length>0?(S.debug("Attaching modal events to element",J,H),G.off(O).on("click"+O,H)):S.error(z.notFound,J)},bind:{events:function(){S.verbose("Attaching events"),y.on("click"+O,q.close,S.event.close).on("click"+O,q.approve,S.event.approve).on("click"+O,q.deny,S.event.deny),b.on("resize"+x,S.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return T.onApprove.call(I,h(this))===!1?void S.verbose("Approve callback returned false cancelling hide"):void S.hide()},deny:function(){return T.onDeny.call(I,h(this))===!1?void S.verbose("Deny callback returned false cancelling hide"):void S.hide()},close:function(){S.hide()},click:function(J){var K=h(J.target),H=K.closest(q.modal).length>0,G=h.contains(g.documentElement,J.target);!H&&G&&(S.debug("Dimmer clicked, hiding all modals"),S.is.active()&&(S.remove.clickaway(),T.allowMultiple?S.hide():S.hideAll()))},debounce:function(H,G){clearTimeout(S.timer),S.timer=setTimeout(H,G)},keyboard:function(J){var G=J.which,H=27;G==H&&(T.closable?(S.debug("Escape key pressed hiding modal"),S.hide()):S.debug("Escape key pressed, but closable is set to false"),J.preventDefault())},resize:function(){E.dimmer("is active")&&s(S.refresh)}},toggle:function(){S.is.active()||S.is.animating()?S.hide():S.show()},show:function(G){G=h.isFunction(G)?G:function(){},S.refreshModals(),S.showModal(G)},hide:function(G){G=h.isFunction(G)?G:function(){},S.refreshModals(),S.hideModal(G)},showModal:function(G){G=h.isFunction(G)?G:function(){},S.is.animating()||!S.is.active()?(S.showDimmer(),S.cacheSizes(),S.set.position(),S.set.screenHeight(),S.set.type(),S.set.clickaway(),!T.allowMultiple&&S.others.active()?S.hideOthers(S.showModal):(T.onShow.call(I),T.transition&&h.fn.transition!==f&&y.transition("is supported")?(S.debug("Showing modal with css animations"),y.transition({debug:T.debug,animation:T.transition+" in",queue:T.queue,duration:T.duration,useFailSafe:!0,onComplete:function(){T.onVisible.apply(I),S.add.keyboardShortcuts(),S.save.focus(),S.set.active(),S.set.autofocus(),G()}})):S.error(z.noTransition))):S.debug("Modal is already visible")},hideModal:function(G,H){G=h.isFunction(G)?G:function(){},S.debug("Hiding modal"),T.onHide.call(I),(S.is.animating()||S.is.active())&&(T.transition&&h.fn.transition!==f&&y.transition("is supported")?(S.remove.active(),y.transition({debug:T.debug,animation:T.transition+" out",queue:T.queue,duration:T.duration,useFailSafe:!0,onStart:function(){S.others.active()||H||S.hideDimmer(),S.remove.keyboardShortcuts()},onComplete:function(){T.onHidden.call(I),S.restore.focus(),G()}})):S.error(z.noTransition))},showDimmer:function(){E.dimmer("is animating")||!E.dimmer("is active")?(S.debug("Showing dimmer"),E.dimmer("show")):S.debug("Dimmer already visible")},hideDimmer:function(){return E.dimmer("is animating")||E.dimmer("is active")?void E.dimmer("hide",function(){T.transition&&h.fn.transition!==f&&y.transition("is supported")&&(S.remove.clickaway(),S.remove.screenHeight())}):void S.debug("Dimmer is not visible cannot hide")},hideAll:function(G){var H=w.filter("."+R.active+", ."+R.animating);G=h.isFunction(G)?G:function(){},H.length>0&&(S.debug("Hiding all visible modals"),S.hideDimmer(),H.modal("hide modal",G))},hideOthers:function(G){var H=j.filter("."+R.active+", ."+R.animating);G=h.isFunction(G)?G:function(){},H.length>0&&(S.debug("Hiding other modals",j),H.modal("hide modal",G,!0))},others:{active:function(){return j.filter("."+R.active).length>0},animating:function(){return j.filter("."+R.animating).length>0}},add:{keyboardShortcuts:function(){S.verbose("Adding keyboard shortcuts"),v.on("keyup"+O,S.event.keyboard)}},save:{focus:function(){i=h(g.activeElement).blur()}},restore:{focus:function(){i&&i.length>0&&i.focus()}},remove:{active:function(){y.removeClass(R.active)},clickaway:function(){T.closable&&C.off("click"+x)},screenHeight:function(){S.cache.height>S.cache.pageHeight&&(S.debug("Removing page height"),d.css("height",""))},keyboardShortcuts:function(){S.verbose("Removing keyboard shortcuts"),v.off("keyup"+O)},scrolling:function(){E.removeClass(R.scrolling),y.removeClass(R.scrolling)}},cacheSizes:function(){var G=y.outerHeight();(S.cache===f||0!==G)&&(S.cache={pageHeight:h(g).outerHeight(),height:G+T.offset,contextHeight:"body"==T.context?h(e).height():E.height()}),S.debug("Caching modal and container sizes",S.cache)},can:{fit:function(){return S.cache.height+2*T.padding<S.cache.contextHeight}},is:{active:function(){return y.hasClass(R.active)},animating:function(){return y.transition("is supported")?y.transition("is animating"):y.is(":visible")},scrolling:function(){return E.hasClass(R.scrolling)},modernBrowser:function(){return !(e.ActiveXObject||"ActiveXObject" in e)}},set:{autofocus:function(){if(T.autofocus){var J=y.filter(":input").filter(":visible"),G=J.filter("[autofocus]"),H=G.length>0?G.first():J.first();H.length>0&&H.focus()}},clickaway:function(){T.closable&&C.on("click"+x,S.event.click)},screenHeight:function(){S.can.fit()?d.css("height",""):(S.debug("Modal is taller than page content, resizing page height"),d.css("height",S.cache.height+2*T.padding))},active:function(){y.addClass(R.active)},scrolling:function(){E.addClass(R.scrolling),y.addClass(R.scrolling)},type:function(){S.can.fit()?(S.verbose("Modal fits on screen"),S.others.active()||S.others.animating()||S.remove.scrolling()):(S.verbose("Modal cannot fit on screen setting to scrolling"),S.set.scrolling())},position:function(){S.verbose("Centering modal on page",S.cache),y.css(S.can.fit()?{top:"",marginTop:-(S.cache.height/2)}:{marginTop:"",top:v.scrollTop()})},undetached:function(){E.addClass(R.undetached)}},setting:function(G,H){if(S.debug("Changing setting",G,H),h.isPlainObject(G)){h.extend(!0,T,G)}else{if(H===f){return T[G]}T[G]=H}},internal:function(G,H){if(h.isPlainObject(G)){h.extend(!0,S,G)}else{if(H===f){return S[G]}S[G]=H}},debug:function(){T.debug&&(T.performance?S.performance.log(arguments):(S.debug=Function.prototype.bind.call(console.info,console,T.name+":"),S.debug.apply(console,arguments)))},verbose:function(){T.verbose&&T.debug&&(T.performance?S.performance.log(arguments):(S.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),S.verbose.apply(console,arguments)))},error:function(){S.error=Function.prototype.bind.call(console.error,console,T.name+":"),S.error.apply(console,arguments)},performance:{log:function(J){var K,H,G;T.performance&&(K=(new Date).getTime(),G=B||K,H=K-G,B=K,l.push({Name:J[0],Arguments:[].slice.call(J,1)||"",Element:I,"Execution Time":H})),clearTimeout(S.performance.timer),S.performance.timer=setTimeout(S.performance.display,500)},display:function(){var G=T.name+":",H=0;B=!1,clearTimeout(S.performance.timer),h.each(l,function(J,K){H+=K["Execution Time"]}),G+=" "+H+"ms",r&&(G+=" '"+r+"'"),(console.group!==f||console.table!==f)&&l.length>0&&(console.groupCollapsed(G),console.table?console.table(l):h.each(l,function(J,K){console.log(K.Name+": "+K["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(M,K,G){var H,J,L,N=D;return K=K||o,G=I||G,"string"==typeof M&&N!==f&&(M=M.split(/[\. ]/),H=M.length-1,h.each(M,function(Q,U){var V=Q!=H?U+M[Q+1].charAt(0).toUpperCase()+M[Q+1].slice(1):M;if(h.isPlainObject(N[V])&&Q!=H){N=N[V]}else{if(N[V]!==f){return J=N[V],!1}if(!h.isPlainObject(N[U])||Q==H){return N[U]!==f?(J=N[U],!1):!1}N=N[U]}})),h.isFunction(J)?L=J.apply(G,K):J!==f&&(L=J),h.isArray(u)?u.push(L):u!==f?u=[u,L]:L!==f&&(u=L),J}},c?(D===f&&S.initialize(),S.invoke(a)):(D!==f&&D.invoke("destroy"),S.initialize())}),u!==f?u:this},h.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},onApprove:function(){return !0},onDeny:function(){return !0},selector:{close:".close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(h,e,g,f){h.fn.nag=function(o){var q,c=h(this),r=c.selector||"",a=(new Date).getTime(),d=[],n=arguments[0],b="string"==typeof n,l=[].slice.call(arguments,1);return c.each(function(){var x,k=h.isPlainObject(o)?h.extend(!0,{},h.fn.nag.settings,o):h.extend({},h.fn.nag.settings),D=(k.className,k.selector),i=k.error,p=k.namespace,m="."+p,j=p+"-module",B=h(this),C=(B.find(D.close),h(k.context?k.context:"body")),y=this,v=B.data(j);e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)};x={initialize:function(){x.verbose("Initializing element"),B.on("click"+m,D.close,x.dismiss).data(j,x),k.detachable&&B.parent()[0]!==C[0]&&B.detach().prependTo(C),k.displayTime>0&&setTimeout(x.hide,k.displayTime),x.show()},destroy:function(){x.verbose("Destroying instance"),B.removeData(j).off(m)},show:function(){x.should.show()&&!B.is(":visible")&&(x.debug("Showing nag",k.animation.show),"fade"==k.animation.show?B.fadeIn(k.duration,k.easing):B.slideDown(k.duration,k.easing))},hide:function(){x.debug("Showing nag",k.animation.hide),"fade"==k.animation.show?B.fadeIn(k.duration,k.easing):B.slideUp(k.duration,k.easing)},onHide:function(){x.debug("Removing nag",k.animation.hide),B.remove(),k.onHide&&k.onHide()},dismiss:function(s){k.storageMethod&&x.storage.set(k.key,k.value),x.hide(),s.stopImmediatePropagation(),s.preventDefault()},should:{show:function(){return k.persist?(x.debug("Persistent nag is set, can show nag"),!0):x.storage.get(k.key)!=k.value.toString()?(x.debug("Stored value is not set, can show nag",x.storage.get(k.key)),!0):(x.debug("Stored value is set, cannot show nag",x.storage.get(k.key)),!1)}},get:{storageOptions:function(){var s={};return k.expires&&(s.expires=k.expires),k.domain&&(s.domain=k.domain),k.path&&(s.path=k.path),s}},clear:function(){x.storage.remove(k.key)},storage:{set:function(u,s){var t=x.get.storageOptions();if("localstorage"==k.storageMethod&&e.localStorage!==f){e.localStorage.setItem(u,s),x.debug("Value stored using local storage",u,s)}else{if(h.cookie===f){return void x.error(i.noCookieStorage)}h.cookie(u,s,t),x.debug("Value stored using cookie",u,s,t)}},get:function(u,s){var t;return"localstorage"==k.storageMethod&&e.localStorage!==f?t=e.localStorage.getItem(u):h.cookie!==f?t=h.cookie(u):x.error(i.noCookieStorage),("undefined"==t||"null"==t||t===f||null===t)&&(t=f),t},remove:function(s){var t=x.get.storageOptions();"local"==k.storageMethod&&e.store!==f?e.localStorage.removeItem(s):h.cookie!==f?h.removeCookie(s,t):x.error(i.noStorage)}},setting:function(t,s){if(x.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,k,t)}else{if(s===f){return k[t]}k[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,x,t)}else{if(s===f){return x[t]}x[t]=s}},debug:function(){k.debug&&(k.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,k.name+":"),x.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,k.name+":"),x.error.apply(console,arguments)},performance:{log:function(w){var s,u,t;k.performance&&(s=(new Date).getTime(),t=a||s,u=s-t,a=s,d.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:y,"Execution Time":u})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=k.name+":",s=0;a=!1,clearTimeout(x.performance.timer),h.each(d,function(w,u){s+=u["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):h.each(d,function(w,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(F,u,z){var A,w,t,s=v;return u=u||l,z=y||z,"string"==typeof F&&s!==f&&(F=F.split(/[\. ]/),A=F.length-1,h.each(F,function(E,I){var J=E!=A?I+F[E+1].charAt(0).toUpperCase()+F[E+1].slice(1):F;if(h.isPlainObject(s[J])&&E!=A){s=s[J]}else{if(s[J]!==f){return w=s[J],!1}if(!h.isPlainObject(s[I])||E==A){return s[I]!==f?(w=s[I],!1):(x.error(i.method,F),!1)}s=s[I]}})),h.isFunction(w)?t=w.apply(z,u):w!==f&&(t=w),h.isArray(q)?q.push(t):q!==f?q=[q,t]:t!==f&&(q=t),w}},b?(v===f&&x.initialize(),x.invoke(n)):(v!==f&&v.invoke("destroy"),x.initialize())}),q!==f?q:this},h.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,document),function(h,e,g,f){h.fn.popup=function(m){var u,p=h(this),b=h(g),v=h(e),d=h("body"),r=p.selector||"",B="ontouchstart" in g.documentElement,l=(new Date).getTime(),a=[],c=arguments[0],o="string"==typeof c,s=[].slice.call(arguments,1);return p.each(function(){var q,x,j,i,E,D=h.isPlainObject(m)?h.extend(!0,{},h.fn.popup.settings,m):h.extend({},h.fn.popup.settings),y=D.selector,C=D.className,n=D.error,T=D.metadata,W=D.namespace,t="."+D.namespace,S="module-"+W,R=h(this),A=h(D.context),P=D.target?h(D.target):R,F=0,z=!1,w=!1,k=this,O=R.data(S);E={initialize:function(){E.debug("Initializing",R),E.createID(),E.bind.events(),!E.exists()&&D.preserve&&E.create(),E.instantiate()},instantiate:function(){E.verbose("Storing instance",E),O=E,R.data(S,O)},refresh:function(){D.popup?q=h(D.popup).eq(0):D.inline&&(q=P.next(y.popup).eq(0),D.popup=q),D.popup?(q.addClass(C.loading),x=E.get.offsetParent(),q.removeClass(C.loading),D.movePopup&&E.has.popup()&&E.get.offsetParent(q)[0]!==x[0]&&(E.debug("Moving popup to the same offset parent as activating element"),q.detach().appendTo(x))):x=D.inline?E.get.offsetParent(P):E.has.popup()?E.get.offsetParent(q):d,x.is("html")&&(E.debug("Setting page as offset parent"),x=d)},reposition:function(){E.refresh(),E.set.position()},destroy:function(){E.debug("Destroying previous module"),q&&!D.preserve&&E.removePopup(),clearTimeout(E.hideTimer),clearTimeout(E.showTimer),v.off(j),R.off(t).removeData(S)},event:{start:function(G){var H=h.isPlainObject(D.delay)?D.delay.show:D.delay;clearTimeout(E.hideTimer),E.showTimer=setTimeout(E.show,H)},end:function(){var G=h.isPlainObject(D.delay)?D.delay.hide:D.delay;clearTimeout(E.showTimer),E.hideTimer=setTimeout(E.hide,G)},touchstart:function(G){w=!0,E.event.start()},resize:function(){E.is.visible()&&E.set.position()},hideGracefully:function(G){G&&0===h(G.target).closest(y.popup).length?(E.debug("Click occurred outside popup hiding popup"),E.hide()):E.debug("Click was inside popup, keeping popup open")}},create:function(){var I=E.get.html(),J=E.get.variation(),H=E.get.title(),G=E.get.content();I||G||H?(E.debug("Creating pop-up html"),I||(I=D.templates.popup({title:H,content:G})),q=h("<div/>").addClass(C.popup).addClass(J).data(T.activator,R).html(I),J&&q.addClass(J),D.inline?(E.verbose("Inserting popup element inline",q),q.insertAfter(R)):(E.verbose("Appending popup element to body",q),q.appendTo(A)),E.refresh(),D.hoverable&&E.bind.popup(),D.onCreate.call(q,k)):0!==P.next(y.popup).length?(E.verbose("Pre-existing popup found"),D.inline=!0,D.popups=P.next(y.popup).data(T.activator,R),E.refresh(),D.hoverable&&E.bind.popup()):D.popup?(h(D.popup).data(T.activator,R),E.verbose("Used popup specified in settings"),E.refresh(),D.hoverable&&E.bind.popup()):E.debug("No content specified skipping display",k)},createID:function(){i=(Math.random().toString(16)+"000000000").substr(2,8),j="."+i,E.verbose("Creating unique id for element",i)},toggle:function(){E.debug("Toggling pop-up"),E.is.hidden()?(E.debug("Popup is hidden, showing pop-up"),E.unbind.close(),E.show()):(E.debug("Popup is visible, hiding pop-up"),E.hide())},show:function(G){if(G=G||function(){},E.debug("Showing pop-up",D.transition),E.is.hidden()&&(!E.is.active()||!E.is.dropdown())){if(E.exists()||E.create(),D.onShow.call(q,k)===!1){return void E.debug("onShow callback returned false, cancelling popup animation")}D.preserve||D.popup||E.refresh(),q&&E.set.position()&&(E.save.conditions(),D.exclusive&&E.hideAll(),E.animate.show(G))}},hide:function(G){if(G=G||function(){},E.is.visible()||E.is.animating()){if(D.onHide.call(q,k)===!1){return void E.debug("onHide callback returned false, cancelling popup animation")}E.remove.visible(),E.unbind.close(),E.restore.conditions(),E.animate.hide(G)}},hideAll:function(){h(y.popup).filter("."+C.visible).each(function(){h(this).data(T.activator).popup("hide")})},exists:function(){return q?D.inline||D.popup?E.has.popup():q.closest(A).length>=1?!0:!1:!1},removePopup:function(){E.debug("Removing popup",q),E.has.popup()&&!D.popup&&(q.remove(),q=f),D.onRemove.call(q,k)},save:{conditions:function(){E.cache={title:R.attr("title")},E.cache.title&&R.removeAttr("title"),E.verbose("Saving original attributes",E.cache.title)}},restore:{conditions:function(){return E.cache&&E.cache.title&&(R.attr("title",E.cache.title),E.verbose("Restoring original attributes",E.cache.title)),!0}},animate:{show:function(G){G=h.isFunction(G)?G:function(){},D.transition&&h.fn.transition!==f&&R.transition("is supported")?(E.set.visible(),q.transition({animation:D.transition+" in",queue:!1,debug:D.debug,verbose:D.verbose,duration:D.duration,onComplete:function(){E.bind.close(),G.call(q,k),D.onVisible.call(q,k)}})):E.error(n.noTransition)},hide:function(G){return G=h.isFunction(G)?G:function(){},E.debug("Hiding pop-up"),D.onShow.call(q,k)===!1?void E.debug("onShow callback returned false, cancelling popup animation"):void (D.transition&&h.fn.transition!==f&&R.transition("is supported")?q.transition({animation:D.transition+" out",queue:!1,duration:D.duration,debug:D.debug,verbose:D.verbose,onComplete:function(){E.reset(),G.call(q,k),D.onHidden.call(q,k)}}):E.error(n.noTransition))}},get:{html:function(){return R.removeData(T.html),R.data(T.html)||D.html},title:function(){return R.removeData(T.title),R.data(T.title)||D.title},content:function(){return R.removeData(T.content),R.data(T.content)||R.attr("title")||D.content},variation:function(){return R.removeData(T.variation),R.data(T.variation)||D.variation},calculations:function(){var I,J=P[0],H=D.inline||D.popup?P.position():P.offset(),G={};return G={target:{element:P[0],width:P.outerWidth(),height:P.outerHeight(),top:H.top,left:H.left,margin:{}},popup:{width:q.outerWidth(),height:q.outerHeight()},parent:{width:x.outerWidth(),height:x.outerHeight()},screen:{scroll:{top:v.scrollTop(),left:v.scrollLeft()},width:v.width(),height:v.height()}},G.target.margin.top=D.inline?parseInt(e.getComputedStyle(J).getPropertyValue("margin-top"),10):0,G.target.margin.left=D.inline?E.is.rtl()?parseInt(e.getComputedStyle(J).getPropertyValue("margin-right"),10):parseInt(e.getComputedStyle(J).getPropertyValue("margin-left"),10):0,I=G.screen,G.boundary={top:I.scroll.top,bottom:I.scroll.top+I.height,left:I.scroll.left,right:I.scroll.left+I.width},G},id:function(){return i},startEvent:function(){return"hover"==D.on?"mouseenter":"focus"==D.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==D.on?"mouseleave":"focus"==D.on?"blur":!1},offsetParent:function(L){var G=L!==f?L[0]:R[0],K=G.parentNode,M=h(K);if(K){for(var H="none"===M.css("transform"),J="static"===M.css("position"),I=M.is("html");K&&!I&&J&&H;){K=K.parentNode,M=h(K),H="none"===M.css("transform"),J="static"===M.css("position"),I=M.is("html")}}return M&&M.length>0?M:h()},offstagePosition:function(J,L){var I,M,K=q.offset(),H={},G=[];return J=J||!1,L=L||E.get.calculations(),I=L.popup,M=L.boundary,K&&J&&(H={top:K.top<M.top,bottom:K.top+I.height>M.bottom,right:K.left+I.width>M.right,left:K.left<M.left},E.verbose("Offstage positions determined",K,H)),h.each(H,function(N,Q){Q&&G.push(N)}),G.length>0?G.join(" "):!1},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(N){var J=N.split(" "),V=J[0],Q=J[1],G={top:"bottom",bottom:"top",left:"right",right:"left"},L={left:"center",center:"right",right:"left"},H={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},I="top"==V||"bottom"==V,M=!1,U=!1,K=!1;return z||(E.verbose("All available positions available"),z=E.get.positions()),E.debug("Recording last position tried",N),z[N]=!0,"opposite"===D.prefer&&(K=[G[V],Q],K=K.join(" "),M=z[K]===!0,E.debug("Trying opposite strategy",K)),"adjacent"===D.prefer&&I&&(K=[V,L[Q]],K=K.join(" "),U=z[K]===!0,E.debug("Trying adjacent strategy",K)),(U||M)&&(E.debug("Using backup position",K),K=H[N]),K}},set:{position:function(N,J){if(0===P.length||0===q.length){return void E.error(n.notFound)}var G,L,H,I,M,Q,K;if(J=J||E.get.calculations(),N=N||R.data(T.position)||D.position,G=R.data(T.offset)||D.offset,L=D.distanceAway,H=J.target,I=J.popup,M=J.parent,0===H.width&&0===H.height){return E.debug("Popup target is hidden, no action taken"),!1}switch(D.inline&&(E.debug("Adding margin to calculation",H.margin),"left center"==N||"right center"==N?(G+=H.margin.top,L+=-H.margin.left):"top left"==N||"top center"==N||"top right"==N?(G+=H.margin.left,L-=H.margin.top):(G+=H.margin.left,L+=H.margin.top)),E.debug("Determining popup position from calculations",N,J),E.is.rtl()&&(N=N.replace(/left|right/g,function(U){return"left"==U?"right":"left"}),E.debug("RTL: Popup position updated",N)),F==D.maxSearchDepth&&D.lastResort&&(E.debug('Using "last resort" position to display',D.lastResort),N=D.lastResort),N){case"top left":Q={top:"auto",bottom:M.height-H.top+L,left:H.left+G,right:"auto"};break;case"top center":Q={bottom:M.height-H.top+L,left:H.left+H.width/2-I.width/2+G,top:"auto",right:"auto"};break;case"top right":Q={bottom:M.height-H.top+L,right:M.width-H.left-H.width-G,top:"auto",left:"auto"};break;case"left center":Q={top:H.top+H.height/2-I.height/2+G,right:M.width-H.left+L,left:"auto",bottom:"auto"};break;case"right center":Q={top:H.top+H.height/2-I.height/2+G,left:H.left+H.width+L,bottom:"auto",right:"auto"};break;case"bottom left":Q={top:H.top+H.height+L,left:H.left+G,bottom:"auto",right:"auto"};break;case"bottom center":Q={top:H.top+H.height+L,left:H.left+H.width/2-I.width/2+G,bottom:"auto",right:"auto"};break;case"bottom right":Q={top:H.top+H.height+L,right:M.width-H.left-H.width-G,left:"auto",bottom:"auto"}}if(Q===f&&E.error(n.invalidPosition,N),E.debug("Calculated popup positioning values",Q),q.css(Q).removeClass(C.position).addClass(N).addClass(C.loading),K=E.get.offstagePosition(N,J)){if(E.debug("Popup cant fit into viewport",N,K),F<D.maxSearchDepth){return F++,N=E.get.nextPosition(N),E.debug("Trying new position",N),q?E.set.position(N,J):!1}if(!D.lastResort){return E.debug("Popup could not find a position in view",q),E.remove.attempts(),E.remove.loading(),E.reset(),!1}}return E.debug("Position is on stage",N),E.remove.attempts(),E.set.fluidWidth(J),E.remove.loading(),!0},fluidWidth:function(G){G=G||E.get.calculations(),D.setFluidWidth&&q.hasClass(C.fluid)&&q.css("width",G.parent.width)},visible:function(){R.addClass(C.visible)}},remove:{loading:function(){q.removeClass(C.loading)},visible:function(){R.removeClass(C.visible)},attempts:function(){E.verbose("Resetting all searched positions"),F=0,z=!1}},bind:{events:function(){E.debug("Binding popup events to module"),"click"==D.on&&R.on("click"+t,E.toggle),"hover"==D.on&&B?R.on("touchstart"+t,E.event.touchstart):E.get.startEvent()&&R.on(E.get.startEvent()+t,E.event.start).on(E.get.endEvent()+t,E.event.end),D.target&&E.debug("Target set to element",P),v.on("resize"+j,E.event.resize)},popup:function(){E.verbose("Allowing hover events on popup to prevent closing"),q&&E.has.popup()&&q.on("mouseenter"+t,E.event.start).on("mouseleave"+t,E.event.end)},close:function(){(D.hideOnScroll===!0||"auto"==D.hideOnScroll&&"click"!=D.on)&&(b.one(E.get.scrollEvent()+j,E.event.hideGracefully),A.one(E.get.scrollEvent()+j,E.event.hideGracefully)),"hover"==D.on&&w&&(E.verbose("Binding popup close event to document"),b.on("touchstart"+j,function(G){E.verbose("Touched away from popup"),E.event.hideGracefully.call(k,G)})),"click"==D.on&&D.closable&&(E.verbose("Binding popup close event to document"),b.on("click"+j,function(G){E.verbose("Clicked away from popup"),E.event.hideGracefully.call(k,G)}))}},unbind:{close:function(){(D.hideOnScroll===!0||"auto"==D.hideOnScroll&&"click"!=D.on)&&(b.off("scroll"+j,E.hide),A.off("scroll"+j,E.hide)),"hover"==D.on&&w&&(b.off("touchstart"+j),w=!1),"click"==D.on&&D.closable&&(E.verbose("Removing close event from document"),b.off("click"+j))}},has:{popup:function(){return q&&q.length>0}},is:{active:function(){return R.hasClass(C.active)},animating:function(){return q&&q.hasClass(C.animating)},visible:function(){return q&&q.hasClass(C.visible)},dropdown:function(){return R.hasClass(C.dropdown)},hidden:function(){return !E.is.visible()},rtl:function(){return"rtl"==R.css("direction")}},reset:function(){E.remove.visible(),D.preserve?h.fn.transition!==f&&q.transition("remove transition"):E.removePopup()},setting:function(G,H){if(h.isPlainObject(G)){h.extend(!0,D,G)}else{if(H===f){return D[G]}D[G]=H}},internal:function(G,H){if(h.isPlainObject(G)){h.extend(!0,E,G)}else{if(H===f){return E[G]}E[G]=H}},debug:function(){D.debug&&(D.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,D.name+":"),E.debug.apply(console,arguments)))},verbose:function(){D.verbose&&D.debug&&(D.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,D.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,D.name+":"),E.error.apply(console,arguments)},performance:{log:function(I){var J,H,G;D.performance&&(J=(new Date).getTime(),G=l||J,H=J-G,l=J,a.push({Name:I[0],Arguments:[].slice.call(I,1)||"",Element:k,"Execution Time":H})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var G=D.name+":",H=0;l=!1,clearTimeout(E.performance.timer),h.each(a,function(I,J){H+=J["Execution Time"]}),G+=" "+H+"ms",r&&(G+=" '"+r+"'"),(console.group!==f||console.table!==f)&&a.length>0&&(console.groupCollapsed(G),console.table?console.table(a):h.each(a,function(I,J){console.log(J.Name+": "+J["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(L,G,K){var H,J,I,M=O;return G=G||s,K=k||K,"string"==typeof L&&M!==f&&(L=L.split(/[\. ]/),H=L.length-1,h.each(L,function(N,Q){var U=N!=H?Q+L[N+1].charAt(0).toUpperCase()+L[N+1].slice(1):L;if(h.isPlainObject(M[U])&&N!=H){M=M[U]}else{if(M[U]!==f){return J=M[U],!1}if(!h.isPlainObject(M[Q])||N==H){return M[Q]!==f?(J=M[Q],!1):!1}M=M[Q]}})),h.isFunction(J)?I=J.apply(K,G):J!==f&&(I=J),h.isArray(u)?u.push(I):u!==f?u=[u,I]:I!==f&&(u=I),J}},o?(O===f&&E.initialize(),E.invoke(c)):(O!==f&&O.invoke("destroy"),E.initialize())}),u!==f?u:this},h.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!0,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(c){var d=/[&<>"'`]/g,a=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=function(j){return i[j]};return a.test(c)?c.replace(d,b):c},popup:function(c){var a="",b=h.fn.popup.settings.templates.escape;return typeof c!==f&&(typeof c.title!==f&&c.title&&(c.title=b(c.title),a+='<div class="header">'+c.title+"</div>"),typeof c.content!==f&&c.content&&(c.content=b(c.content),a+='<div class="content">'+c.content+"</div>")),a}}}}(jQuery,window,document),function(h,e,g,f){h.fn.progress=function(b){var q,d=h(this),r=d.selector||"",a=(new Date).getTime(),l=[],p=arguments[0],c="string"==typeof p,o=[].slice.call(arguments,1);return d.each(function(){var A,j,Q=h.isPlainObject(b)?h.extend(!0,{},h.fn.progress.settings,b):h.extend({},h.fn.progress.settings),i=Q.className,n=Q.metadata,x=Q.namespace,m=Q.selector,M=Q.error,O="."+x,C="module-"+x,v=h(this),y=h(this).find(m.bar),N=h(this).find(m.progress),L=h(this).find(m.label),P=this,k=v.data(C),w=!1;j={initialize:function(){j.debug("Initializing progress bar",Q),j.set.duration(),j.set.transitionEvent(),j.read.metadata(),j.read.settings(),j.instantiate()},instantiate:function(){j.verbose("Storing instance of progress",j),k=j,v.data(C,j)},destroy:function(){j.verbose("Destroying previous progress for",v),clearInterval(k.interval),j.remove.state(),v.removeData(C),k=f},reset:function(){j.set.percent(0)},complete:function(){(j.percent===f||j.percent<100)&&j.set.percent(100)},read:{metadata:function(){var s={percent:v.data(n.percent),total:v.data(n.total),value:v.data(n.value)};s.percent&&(j.debug("Current percent value set from metadata",s.percent),j.set.percent(s.percent)),s.total&&(j.debug("Total value set from metadata",s.total),j.set.total(s.total)),s.value&&(j.debug("Current value set from metadata",s.value),j.set.value(s.value),j.set.progress(s.value))},settings:function(){Q.total!==!1&&(j.debug("Current total set in settings",Q.total),j.set.total(Q.total)),Q.value!==!1&&(j.debug("Current value set in settings",Q.value),j.set.value(Q.value),j.set.progress(j.value)),Q.percent!==!1&&(j.debug("Current percent set in settings",Q.percent),j.set.percent(Q.percent))}},increment:function(t){var u,s,z;j.has.total()?(s=j.get.value(),t=t||1,z=s+t,u=j.get.total(),j.debug("Incrementing value",s,z,u),z>u&&(j.debug("Value cannot increment above total",u),z=u)):(s=j.get.percent(),t=t||j.get.randomValue(),z=s+t,u=100,j.debug("Incrementing percentage by",s,z),z>u&&(j.debug("Value cannot increment above 100 percent"),z=u)),j.set.progress(z)},decrement:function(t){var u,s,z=j.get.total();z?(u=j.get.value(),t=t||1,s=u-t,j.debug("Decrementing value by",t,u)):(u=j.get.percent(),t=t||j.get.randomValue(),s=u-t,j.debug("Decrementing percentage by",t,u)),0>s&&(j.debug("Value cannot decrement below 0"),s=0),j.set.progress(s)},has:{total:function(){return j.get.total()!==!1}},get:{text:function(t){var u=j.value||0,B=j.total||0,z=w?j.get.displayPercent():j.percent||0,s=j.total>0?B-u:100-z;return t=t||"",t=t.replace("{value}",u).replace("{total}",B).replace("{left}",s).replace("{percent}",z),j.debug("Adding variables to progress bar text",t),t},randomValue:function(){return j.debug("Generating random increment percentage"),Math.floor(Math.random()*Q.random.max+Q.random.min)},numericValue:function(s){return"string"==typeof s?""!==s.replace(/[^\d.]/g,"")?+s.replace(/[^\d.]/g,""):!1:s},transitionEnd:function(){var t,u=g.createElement("element"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in s){if(u.style[t]!==f){return s[t]}}},displayPercent:function(){var t=y.width(),u=v.width(),s=parseInt(y.css("min-width"),10),z=t>s?t/u*100:j.percent;return Q.precision>0?Math.round(10*z*Q.precision)/(10*Q.precision):Math.round(z)},percent:function(){return j.percent||0},value:function(){return j.value||0},total:function(){return j.total||!1}},is:{success:function(){return v.hasClass(i.success)},warning:function(){return v.hasClass(i.warning)},error:function(){return v.hasClass(i.error)},active:function(){return v.hasClass(i.active)},visible:function(){return v.is(":visible")}},remove:{state:function(){j.verbose("Removing stored state"),delete j.total,delete j.percent,delete j.value},active:function(){j.verbose("Removing active state"),v.removeClass(i.active)},success:function(){j.verbose("Removing success state"),v.removeClass(i.success)},warning:function(){j.verbose("Removing warning state"),v.removeClass(i.warning)},error:function(){j.verbose("Removing error state"),v.removeClass(i.error)}},set:{barWidth:function(s){s>100?j.error(M.tooHigh,s):0>s?j.error(M.tooLow,s):(y.css("width",s+"%"),v.attr("data-percent",parseInt(s,10)))},duration:function(s){s=s||Q.duration,s="number"==typeof s?s+"ms":s,j.verbose("Setting progress bar transition duration",s),y.css({"transition-duration":s})},percent:function(s){s="string"==typeof s?+s.replace("%",""):s,s=Q.precision>0?Math.round(10*s*Q.precision)/(10*Q.precision):Math.round(s),j.percent=s,j.has.total()||(j.value=Q.precision>0?Math.round(s/100*j.total*10*Q.precision)/(10*Q.precision):Math.round(s/100*j.total*10)/10,Q.limitValues&&(j.value=j.value>100?100:j.value<0?0:j.value)),j.set.barWidth(s),j.set.labelInterval(),j.set.labels(),Q.onChange.call(P,s,j.value,j.total)},labelInterval:function(){var s=function(){j.verbose("Bar finished animating, removing continuous label updates"),clearInterval(j.interval),w=!1,j.set.labels()};clearInterval(j.interval),y.one(A+O,s),j.timer=setTimeout(s,Q.duration+100),w=!0,j.interval=setInterval(j.set.labels,Q.framerate)},labels:function(){j.verbose("Setting both bar progress and outer label text"),j.set.barLabel(),j.set.state()},label:function(s){s=s||"",s&&(s=j.get.text(s),j.debug("Setting label to text",s),L.text(s))},state:function(s){s=s!==f?s:j.percent,100===s?!Q.autoSuccess||j.is.warning()||j.is.error()?(j.verbose("Reached 100% removing active state"),j.remove.active()):(j.set.success(),j.debug("Automatically triggering success at 100%")):s>0?(j.verbose("Adjusting active progress bar label",s),j.set.active()):(j.remove.active(),j.set.label(Q.text.active))},barLabel:function(s){s!==f?N.text(j.get.text(s)):"ratio"==Q.label&&j.total?(j.debug("Adding ratio to bar label"),N.text(j.get.text(Q.text.ratio))):"percent"==Q.label&&(j.debug("Adding percentage to bar label"),N.text(j.get.text(Q.text.percent)))},active:function(s){s=s||Q.text.active,j.debug("Setting active state"),Q.showActivity&&!j.is.active()&&v.addClass(i.active),j.remove.warning(),j.remove.error(),j.remove.success(),s&&j.set.label(s),Q.onActive.call(P,j.value,j.total)},success:function(s){s=s||Q.text.success,j.debug("Setting success state"),v.addClass(i.success),j.remove.active(),j.remove.warning(),j.remove.error(),j.complete(),s&&j.set.label(s),Q.onSuccess.call(P,j.total)},warning:function(s){s=s||Q.text.warning,j.debug("Setting warning state"),v.addClass(i.warning),j.remove.active(),j.remove.success(),j.remove.error(),j.complete(),s&&j.set.label(s),Q.onWarning.call(P,j.value,j.total)},error:function(s){s=s||Q.text.error,j.debug("Setting error state"),v.addClass(i.error),j.remove.active(),j.remove.success(),j.remove.warning(),j.complete(),s&&j.set.label(s),Q.onError.call(P,j.value,j.total)},transitionEvent:function(){A=j.get.transitionEnd()},total:function(s){j.total=s},value:function(s){j.value=s},progress:function(t){var u,s=j.get.numericValue(t);s===!1&&j.error(M.nonNumeric,t),j.has.total()?(j.set.value(s),u=s/j.total*100,j.debug("Calculating percent complete from total",u),j.set.percent(u)):(u=s,j.debug("Setting value to exact percentage value",u),j.set.percent(u))}},setting:function(t,s){if(j.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,Q,t)}else{if(s===f){return Q[t]}Q[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,j,t)}else{if(s===f){return j[t]}j[t]=s}},debug:function(){Q.debug&&(Q.performance?j.performance.log(arguments):(j.debug=Function.prototype.bind.call(console.info,console,Q.name+":"),j.debug.apply(console,arguments)))},verbose:function(){Q.verbose&&Q.debug&&(Q.performance?j.performance.log(arguments):(j.verbose=Function.prototype.bind.call(console.info,console,Q.name+":"),j.verbose.apply(console,arguments)))},error:function(){j.error=Function.prototype.bind.call(console.error,console,Q.name+":"),j.error.apply(console,arguments)},performance:{log:function(t){var u,s,z;Q.performance&&(u=(new Date).getTime(),z=a||u,s=u-z,a=u,l.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:P,"Execution Time":s})),clearTimeout(j.performance.timer),j.performance.timer=setTimeout(j.performance.display,500)},display:function(){var t=Q.name+":",s=0;a=!1,clearTimeout(j.performance.timer),h.each(l,function(u,z){s+=z["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),(console.group!==f||console.table!==f)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):h.each(l,function(u,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(u,D,z){var E,t,s,B=k;return D=D||o,z=P||z,"string"==typeof u&&B!==f&&(u=u.split(/[\. ]/),E=u.length-1,h.each(u,function(G,H){var F=G!=E?H+u[G+1].charAt(0).toUpperCase()+u[G+1].slice(1):u;if(h.isPlainObject(B[F])&&G!=E){B=B[F]}else{if(B[F]!==f){return t=B[F],!1}if(!h.isPlainObject(B[H])||G==E){return B[H]!==f?(t=B[H],!1):(j.error(M.method,u),!1)}B=B[H]}})),h.isFunction(t)?s=t.apply(z,D):t!==f&&(s=t),h.isArray(q)?q.push(s):q!==f?q=[q,s]:s!==f&&(q=s),t}},c?(k===f&&j.initialize(),j.invoke(p)):(k!==f&&k.invoke("destroy"),j.initialize())}),q!==f?q:this},h.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,onChange:function(b,c,a){},onSuccess:function(a){},onActive:function(a,b){},onError:function(a,b){},onWarning:function(a,b){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(h,e,g,f){h.fn.rating=function(b){var o,q=h(this),d=q.selector||"",r=(new Date).getTime(),a=[],l=arguments[0],n="string"==typeof l,c=[].slice.call(arguments,1);return q.each(function(){var E,v=h.isPlainObject(b)?h.extend(!0,{},h.fn.rating.settings,b):h.extend({},h.fn.rating.settings),F=v.namespace,j=v.className,w=v.metadata,i=v.selector,k=(v.error,"."+F),y="module-"+F,C=this,p=h(this).data(y),x=h(this),m=x.find(i.icon);E={initialize:function(){E.verbose("Initializing rating module",v),0===m.length&&E.setup.layout(),v.interactive?E.enable():E.disable(),E.set.rating(E.get.initialRating()),E.instantiate()},instantiate:function(){E.verbose("Instantiating module",v),p=E,x.data(y,E)},destroy:function(){E.verbose("Destroying previous instance",p),E.remove.events(),x.removeData(y)},refresh:function(){m=x.find(i.icon)},setup:{layout:function(){var t=E.get.maxRating(),s=h.fn.rating.settings.templates.icon(t);E.debug("Generating icon html dynamically"),x.html(s),E.refresh()}},event:{mouseenter:function(){var s=h(this);s.nextAll().removeClass(j.selected),x.addClass(j.selected),s.addClass(j.selected).prevAll().addClass(j.selected)},mouseleave:function(){x.removeClass(j.selected),m.removeClass(j.selected)},click:function(){var t=h(this),z=E.get.rating(),u=m.index(t)+1,s="auto"==v.clearable?1===m.length:v.clearable;s&&z==u?E.clearRating():E.set.rating(u)}},clearRating:function(){E.debug("Clearing current rating"),E.set.rating(0)},bind:{events:function(){E.verbose("Binding events"),x.on("mouseenter"+k,i.icon,E.event.mouseenter).on("mouseleave"+k,i.icon,E.event.mouseleave).on("click"+k,i.icon,E.event.click)}},remove:{events:function(){E.verbose("Removing events"),x.off(k)}},enable:function(){E.debug("Setting rating to interactive mode"),E.bind.events(),x.removeClass(j.disabled)},disable:function(){E.debug("Setting rating to read-only mode"),E.remove.events(),x.addClass(j.disabled)},get:{initialRating:function(){return x.data(w.rating)!==f?(x.removeData(w.rating),x.data(w.rating)):v.initialRating},maxRating:function(){return x.data(w.maxRating)!==f?(x.removeData(w.maxRating),x.data(w.maxRating)):v.maxRating},rating:function(){var s=m.filter("."+j.active).length;return E.verbose("Current rating retrieved",s),s}},set:{rating:function(t){var u=t-1>=0?t-1:0,s=m.eq(u);x.removeClass(j.selected),m.removeClass(j.selected).removeClass(j.active),t>0&&(E.verbose("Setting current rating to",t),s.prevAll().andSelf().addClass(j.active)),v.onRate.call(C,t)}},setting:function(t,s){if(E.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,v,t)}else{if(s===f){return v[t]}v[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,E,t)}else{if(s===f){return E[t]}E[t]=s}},debug:function(){v.debug&&(v.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,v.name+":"),E.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,v.name+":"),E.error.apply(console,arguments)},performance:{log:function(s){var t,z,u;v.performance&&(t=(new Date).getTime(),u=r||t,z=t-u,r=t,a.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:C,"Execution Time":z})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var t=v.name+":",s=0;r=!1,clearTimeout(E.performance.timer),h.each(a,function(z,u){s+=u["Execution Time"]}),t+=" "+s+"ms",d&&(t+=" '"+d+"'"),q.length>1&&(t+=" ("+q.length+")"),(console.group!==f||console.table!==f)&&a.length>0&&(console.groupCollapsed(t),console.table?console.table(a):h.each(a,function(z,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),a=[]}},invoke:function(s,A,t){var B,D,z,u=p;return A=A||c,t=C||t,"string"==typeof s&&u!==f&&(s=s.split(/[\. ]/),B=s.length-1,h.each(s,function(J,K){var L=J!=B?K+s[J+1].charAt(0).toUpperCase()+s[J+1].slice(1):s;if(h.isPlainObject(u[L])&&J!=B){u=u[L]}else{if(u[L]!==f){return D=u[L],!1}if(!h.isPlainObject(u[K])||J==B){return u[K]!==f?(D=u[K],!1):!1}u=u[K]}})),h.isFunction(D)?z=D.apply(t,A):D!==f&&(z=D),h.isArray(o)?o.push(z):o!==f?o=[o,z]:z!==f&&(o=z),D}},n?(p===f&&E.initialize(),E.invoke(l)):(p!==f&&p.invoke("destroy"),E.initialize())}),o!==f?o:this},h.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(a){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(b){for(var c=1,a="";b>=c;){a+='<i class="icon"></i>',c++}return a}}}}(jQuery,window,document),function(h,e,g,f){h.fn.search=function(q){var c,r=h(this),a=r.selector||"",d=(new Date).getTime(),m=[],b=arguments[0],l="string"==typeof b,o=[].slice.call(arguments,1);return h(this).each(function(){var j,n=h.isPlainObject(q)?h.extend(!0,{},h.fn.search.settings,q):h.extend({},h.fn.search.settings),v=n.className,y=n.metadata,J=n.regExp,L=n.selector,N=n.error,C=n.namespace,w="."+C,A=C+"-module",i=h(this),M=i.find(L.prompt),k=i.find(L.searchButton),p=i.find(L.results),K=(i.find(L.result),i.find(L.category),this),x=i.data(A);j={initialize:function(){j.verbose("Initializing module"),j.determine.searchFields(),j.bind.events(),j.set.type(),j.create.results(),j.instantiate()},instantiate:function(){j.verbose("Storing instance of module",j),x=j,i.data(A,j)},destroy:function(){j.verbose("Destroying instance"),i.off(w).removeData(A)},bind:{events:function(){j.verbose("Binding events to search"),n.automatic&&(i.on(j.get.inputEvent()+w,L.prompt,j.event.input),M.attr("autocomplete","off")),i.on("focus"+w,L.prompt,j.event.focus).on("blur"+w,L.prompt,j.event.blur).on("keydown"+w,L.prompt,j.handleKeyboard).on("click"+w,L.searchButton,j.query).on("mousedown"+w,L.results,j.event.result.mousedown).on("mouseup"+w,L.results,j.event.result.mouseup).on("click"+w,L.result,j.event.result.click)}},determine:{searchFields:function(){q&&q.searchFields!==f&&(n.searchFields=q.searchFields)}},event:{input:function(){clearTimeout(j.timer),j.timer=setTimeout(j.query,n.searchDelay)},focus:function(){j.set.focus(),j.has.minimumCharacters()&&(j.query(),j.showResults())},blur:function(s){var t=g.activeElement===this;t||j.resultsClicked||(j.cancel.query(),j.remove.focus(),j.timer=setTimeout(j.hideResults,n.hideDelay))},result:{mousedown:function(){j.resultsClicked=!0},mouseup:function(){j.resultsClicked=!1},click:function(E){j.debug("Search result selected");var t=h(this),F=t.find(L.title).eq(0),D=t.find("a[href]").eq(0),G=D.attr("href")||!1,u=D.attr("target")||!1,s=(F.html(),F.length>0?F.text():!1),B=j.get.results(),z=t.data(y.result)||j.get.result(s,B);return h.isFunction(n.onSelect)&&n.onSelect.call(K,z,B)===!1?void j.debug("Custom onSelect callback cancelled default select action"):(j.hideResults(),s&&j.set.value(s),void (G&&(j.verbose("Opening search link found in result",D),"_blank"==u||E.ctrlKey?e.open(G):e.location.href=G)))}}},handleKeyboard:function(E){var t,z=i.find(L.result),u=i.find(L.category),D=z.index(z.filter("."+v.active)),B=z.length,s=E.which,F={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(s==F.escape&&(j.verbose("Escape key pressed, blurring search field"),M.trigger("blur")),j.is.visible()){if(s==F.enter){if(j.verbose("Enter key pressed, selecting active result"),z.filter("."+v.active).length>0){return j.event.result.click.call(z.filter("."+v.active),E),E.preventDefault(),!1}}else{s==F.upArrow?(j.verbose("Up key pressed, changing active result"),t=0>D-1?D:D-1,u.removeClass(v.active),z.removeClass(v.active).eq(t).addClass(v.active).closest(u).addClass(v.active),E.preventDefault()):s==F.downArrow&&(j.verbose("Down key pressed, changing active result"),t=D+1>=B?D:D+1,u.removeClass(v.active),z.removeClass(v.active).eq(t).addClass(v.active).closest(u).addClass(v.active),E.preventDefault())}}else{s==F.enter&&(j.verbose("Enter key pressed, executing query"),j.query(),j.set.buttonPressed(),M.one("keyup",j.remove.buttonFocus))}},setup:{api:function(){var s={debug:n.debug,on:!1,cache:"local",action:"search",onError:j.error};j.verbose("First request, initializing API"),i.api(s)}},can:{useAPI:function(){return h.fn.api!==f},transition:function(){return n.transition&&h.fn.transition!==f&&i.transition("is supported")}},is:{empty:function(){return""===p.html()},visible:function(){return p.filter(":visible").length>0},focused:function(){return M.filter(":focus").length>0}},get:{inputEvent:function(){var s=M[0],t=s!==f&&s.oninput!==f?"input":s!==f&&s.onpropertychange!==f?"propertychange":"keyup";return t},value:function(){return M.val()},results:function(){var s=i.data(y.results);return s},result:function(t,z){var s=["title","id"],u=!1;return t=t!==f?t:j.get.value(),z=z!==f?z:j.get.results(),"category"===n.type?(j.debug("Finding result that matches",t),h.each(z,function(D,B){return h.isArray(B.results)&&(u=j.search.object(t,B.results,s)[0])?!1:void 0})):(j.debug("Finding result in results object",t),u=j.search.object(t,z,s)[0]),u||!1}},set:{focus:function(){i.addClass(v.focus)},loading:function(){i.addClass(v.loading)},value:function(s){j.verbose("Setting search input value",s),M.val(s)},type:function(s){s=s||n.type,"category"==n.type&&i.addClass(n.type)},buttonPressed:function(){k.addClass(v.pressed)}},remove:{loading:function(){i.removeClass(v.loading)},focus:function(){i.removeClass(v.focus)},buttonPressed:function(){k.removeClass(v.pressed)}},query:function(){var t=j.get.value(),s=j.read.cache(t);j.has.minimumCharacters()?s?(j.debug("Reading result from cache",t),j.save.results(s.results),j.addResults(s.html),j.inject.id(s.results)):(j.debug("Querying for",t),h.isPlainObject(n.source)||h.isArray(n.source)?j.search.local(t):j.can.useAPI()?j.search.remote(t):j.error(N.source),n.onSearchQuery.call(K,t)):j.hideResults()},search:{local:function(t){var u,s=j.search.object(t,n.content);j.set.loading(),j.save.results(s),j.debug("Returned local search results",s),u=j.generateResults({results:s}),j.remove.loading(),j.addResults(u),j.inject.id(s),j.write.cache(t,{html:u,results:s})},remote:function(t){var s={onSuccess:function(u){j.parse.response.call(K,u,t)},onFailure:function(){j.displayMessage(N.serverError)},urlData:{query:t}};i.api("get request")||j.setup.api(),h.extend(!0,s,n.apiSettings),j.debug("Executing search",s),j.cancel.query(),i.api("setting",s).api("query")},object:function(t,z,E){var u=[],s=[],F=t.toString().replace(J.escape,"\\$&"),D=new RegExp(J.beginsWith+F,"i"),B=function(P,H){var G=-1==h.inArray(H,u),I=-1==h.inArray(H,s);G&&I&&P.push(H)};return z=z||n.source,E=E!==f?E:n.searchFields,h.isArray(E)||(E=[E]),z===f||z===!1?(j.error(N.source),[]):(h.each(E,function(G,H){h.each(z,function(Q,I){var R="string"==typeof I[H];R&&(-1!==I[H].search(D)?B(u,I):n.searchFullText&&j.fuzzySearch(t,I[H])&&B(s,I))})}),h.merge(u,s))}},fuzzySearch:function(t,s){var B=s.length,u=t.length;if("string"!=typeof t){return !1}if(t=t.toLowerCase(),s=s.toLowerCase(),u>B){return !1}if(u===B){return t===s}t:for(var D=0,z=0;u>D;D++){for(var E=t.charCodeAt(D);B>z;){if(s.charCodeAt(z++)===E){continue t}}return !1}return !0},parse:{response:function(t,u){var s=j.generateResults(t);j.verbose("Parsing server response",t),t!==f&&u!==f&&t.results!==f&&(j.addResults(s),j.inject.id(t.results),j.write.cache(u,{html:s,results:t.results}),j.save.results(t.results))}},cancel:{query:function(){j.can.useAPI()&&i.api("abort")}},has:{minimumCharacters:function(){var s=j.get.value(),t=s.length;return t>=n.minCharacters}},clear:{cache:function(s){var t=i.data(y.cache);s?s&&t&&t[s]&&(j.debug("Removing value from cache",s),delete t[s],i.data(y.cache,t)):(j.debug("Clearing cache",s),i.removeData(y.cache))}},read:{cache:function(s){var t=i.data(y.cache);return n.cache?(j.verbose("Checking cache for generated html for query",s),"object"==typeof t&&t[s]!==f?t[s]:!1):!1}},create:{id:function(t,u){var s,B,z=t+1;return u!==f?(s=String.fromCharCode(97+u),B=s+z,j.verbose("Creating category result id",B)):(B=z,j.verbose("Creating result id",B)),B},results:function(){0===p.length&&(p=h("<div />").addClass(v.results).appendTo(i))}},inject:{result:function(t,u,z){j.verbose("Injecting result into results");var s=z!==f?p.children().eq(z).children(L.result).eq(u):p.children(L.result).eq(u);j.verbose("Injecting results metadata",s),s.data(y.result,t)},id:function(u){j.debug("Injecting unique ids into results");var s=0,t=0;return"category"===n.type?h.each(u,function(z,B){t=0,h.each(B.results,function(D,F){var E=B.results[D];E.id===f&&(E.id=j.create.id(t,s)),j.inject.result(E,t,s),t++}),s++}):h.each(u,function(z,B){var D=u[z];D.id===f&&(D.id=j.create.id(t)),j.inject.result(D,t),t++}),u}},save:{results:function(s){j.verbose("Saving current search results to metadata",s),i.data(y.results,s)}},write:{cache:function(t,u){var s=i.data(y.cache)!==f?i.data(y.cache):{};n.cache&&(j.verbose("Writing generated html to cache",t,u),s[t]=u,i.data(y.cache,s))}},addResults:function(s){return h.isFunction(n.onResultsAdd)&&n.onResultsAdd.call(p,s)===!1?(j.debug("onResultsAdd callback cancelled default action"),!1):(p.html(s),void j.showResults())},showResults:function(){j.is.visible()||!j.is.focused()||j.is.empty()||(j.can.transition()?(j.debug("Showing results with css animations"),p.transition({animation:n.transition+" in",debug:n.debug,verbose:n.verbose,duration:n.duration,queue:!0})):(j.debug("Showing results with javascript"),p.stop().fadeIn(n.duration,n.easing)),n.onResultsOpen.call(p))},hideResults:function(){j.is.visible()&&(j.can.transition()?(j.debug("Hiding results with css animations"),p.transition({animation:n.transition+" out",debug:n.debug,verbose:n.verbose,duration:n.duration,queue:!0})):(j.debug("Hiding results with javascript"),p.stop().fadeOut(n.duration,n.easing)),n.onResultsClose.call(p))},generateResults:function(t){j.debug("Generating html from response",t);var s=n.templates[n.type],u=h.isPlainObject(t.results)&&!h.isEmptyObject(t.results),B=h.isArray(t.results)&&t.results.length>0,z="";return u||B?(n.maxResults>0&&(u?"standard"==n.type&&j.error(N.maxResults):t.results=t.results.slice(0,n.maxResults)),h.isFunction(s)?z=s(t):j.error(N.noTemplate,!1)):z=j.displayMessage(N.noResults,"empty"),n.onResults.call(K,t),z},displayMessage:function(s,t){return t=t||"standard",j.debug("Displaying message",s,t),j.addResults(n.templates.message(s,t)),n.templates.message(s,t)},setting:function(t,s){if(h.isPlainObject(t)){h.extend(!0,n,t)}else{if(s===f){return n[t]}n[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,j,t)}else{if(s===f){return j[t]}j[t]=s}},debug:function(){n.debug&&(n.performance?j.performance.log(arguments):(j.debug=Function.prototype.bind.call(console.info,console,n.name+":"),j.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?j.performance.log(arguments):(j.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),j.verbose.apply(console,arguments)))},error:function(){j.error=Function.prototype.bind.call(console.error,console,n.name+":"),j.error.apply(console,arguments)},performance:{log:function(s){var t,z,u;n.performance&&(t=(new Date).getTime(),u=d||t,z=t-u,d=t,m.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:K,"Execution Time":z})),clearTimeout(j.performance.timer),j.performance.timer=setTimeout(j.performance.display,500)},display:function(){var t=n.name+":",s=0;d=!1,clearTimeout(j.performance.timer),h.each(m,function(z,u){s+=u["Execution Time"]}),t+=" "+s+"ms",a&&(t+=" '"+a+"'"),r.length>1&&(t+=" ("+r.length+")"),(console.group!==f||console.table!==f)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):h.each(m,function(z,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(u,B,t){var E,s,D,z=x;return B=B||o,t=K||t,"string"==typeof u&&z!==f&&(u=u.split(/[\. ]/),E=u.length-1,h.each(u,function(H,F){var G=H!=E?F+u[H+1].charAt(0).toUpperCase()+u[H+1].slice(1):u;if(h.isPlainObject(z[G])&&H!=E){z=z[G]}else{if(z[G]!==f){return s=z[G],!1}if(!h.isPlainObject(z[F])||H==E){return z[F]!==f?(s=z[F],!1):!1}z=z[F]}})),h.isFunction(s)?D=s.apply(t,B):s!==f&&(D=s),h.isArray(c)?c.push(D):c!==f?c=[c,D]:D!==f&&(c=D),s}},l?(x===f&&j.initialize(),j.invoke(b)):(x!==f&&x.invoke("destroy"),j.initialize())}),c!==f?c:this},h.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(){},onResults:function(a){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(c){var d=/[&<>"'`]/g,a=/[&<>"'`]/,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=function(j){return i[j]};return a.test(c)?c.replace(d,b):c},message:function(b,c){var a="";return b!==f&&c!==f&&(a+='<div class="message '+c+'">',a+="empty"==c?'<div class="header">No Results</div class="header"><div class="description">'+b+'</div class="description">':' <div class="description">'+b+"</div>",a+="</div>"),a},category:function(c){var a="",b=h.fn.search.settings.templates.escape;return c.results!==f?(h.each(c.results,function(d,j){j.results!==f&&j.results.length>0&&(a+='<div class="category"><div class="name">'+j.name+"</div>",h.each(j.results,function(i,l){a+='<div class="result">',l.url&&(a+='<a href="'+l.url+'"></a>'),l.image!==f&&(l.image=b(l.image),a+='<div class="image"> <img src="'+l.image+'" alt=""></div>'),a+='<div class="content">',l.price!==f&&(l.price=b(l.price),a+='<div class="price">'+l.price+"</div>"),l.title!==f&&(l.title=b(l.title),a+='<div class="title">'+l.title+"</div>"),l.description!==f&&(a+='<div class="description">'+l.description+"</div>"),a+="</div></div>"}),a+="</div>")}),c.action&&(a+='<a href="'+c.action.url+'" class="action">'+c.action.text+"</a>"),a):!1},standard:function(b){var a="";return b.results!==f?(h.each(b.results,function(c,d){a+=d.url?'<a class="result" href="'+d.url+'">':'<a class="result">',d.image!==f&&(a+='<div class="image"> <img src="'+d.image+'"></div>'),a+='<div class="content">',d.price!==f&&(a+='<div class="price">'+d.price+"</div>"),d.title!==f&&(a+='<div class="title">'+d.title+"</div>"),d.description!==f&&(a+='<div class="description">'+d.description+"</div>"),a+="</div>",a+="</a>"}),b.action&&(a+='<a href="'+b.action.url+'" class="action">'+b.action.text+"</a>"),a):!1}}}}(jQuery,window,document),function(h,e,g,f){h.fn.shape=function(q){var c,r=h(this),a=(h("body"),(new Date).getTime()),d=[],m=arguments[0],b="string"==typeof m,l=[].slice.call(arguments,1),o=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)};return r.each(function(){var x,P,j,t=r.selector||"",y=h.isPlainObject(q)?h.extend(!0,{},h.fn.shape.settings,q):h.extend({},h.fn.shape.settings),w=y.namespace,M=y.selector,N=y.error,C=y.className,v="."+w,A="module-"+w,i=h(this),O=i.find(M.sides),k=i.find(M.side),p=!1,L=this,n=i.data(A);j={initialize:function(){j.verbose("Initializing module for",L),j.set.defaultSide(),j.instantiate()},instantiate:function(){j.verbose("Storing instance of module",j),n=j,i.data(A,n)},destroy:function(){j.verbose("Destroying previous module for",L),i.removeData(A).off(v)},refresh:function(){j.verbose("Refreshing selector cache for",L),i=h(L),O=h(this).find(M.shape),k=h(this).find(M.side)},repaint:function(){j.verbose("Forcing repaint event");var s=O[0]||g.createElement("div");s.offsetWidth},animate:function(u,s){j.verbose("Animating box with properties",u),s=s||function(z){j.verbose("Executing animation callback"),z!==f&&z.stopPropagation(),j.reset(),j.set.active()},y.beforeChange.call(P[0]),j.get.transitionEvent()?(j.verbose("Starting CSS animation"),i.addClass(C.animating),O.css(u).one(j.get.transitionEvent(),s),j.set.duration(y.duration),o(function(){i.addClass(C.animating),x.addClass(C.hidden)})):s()},queue:function(s){j.debug("Queueing animation of",s),O.one(j.get.transitionEvent(),function(){j.debug("Executing queued animation"),setTimeout(function(){i.shape(s)},0)})},reset:function(){j.verbose("Animating states reset"),i.removeClass(C.animating).attr("style","").removeAttr("style"),O.attr("style","").removeAttr("style"),k.attr("style","").removeAttr("style").removeClass(C.hidden),P.removeClass(C.animating).attr("style","").removeAttr("style")},is:{complete:function(){return k.filter("."+C.active)[0]==P[0]},animating:function(){return i.hasClass(C.animating)}},set:{defaultSide:function(){x=i.find("."+y.className.active),P=x.next(M.side).length>0?x.next(M.side):i.find(M.side).first(),p=!1,j.verbose("Active side set to",x),j.verbose("Next side set to",P)},duration:function(s){s=s||y.duration,s="number"==typeof s?s+"ms":s,j.verbose("Setting animation duration",s),(y.duration||0===y.duration)&&O.add(k).css({"-webkit-transition-duration":s,"-moz-transition-duration":s,"-ms-transition-duration":s,"-o-transition-duration":s,"transition-duration":s})},currentStageSize:function(){var u=i.find("."+y.className.active),z=u.outerWidth(!0),s=u.outerHeight(!0);i.css({width:z,height:s})},stageSize:function(){var s=i.clone().addClass(C.loading),u=s.find("."+y.className.active),B=p?s.find(M.side).eq(p):u.next(M.side).length>0?u.next(M.side):s.find(M.side).first(),z={};j.set.currentStageSize(),u.removeClass(C.active),B.addClass(C.active),s.insertAfter(i),z={width:B.outerWidth(!0),height:B.outerHeight(!0)},s.remove(),i.css(z),j.verbose("Resizing stage to fit new content",z)},nextSide:function(s){p=s,P=k.filter(s),p=k.index(P),0===P.length&&(j.set.defaultSide(),j.error(N.side)),j.verbose("Next side manually set to",P)},active:function(){j.verbose("Setting new side to active",P),k.removeClass(C.active),P.addClass(C.active),y.onChange.call(P[0]),j.set.defaultSide()}},flip:{up:function(){return !j.is.complete()||j.is.animating()||y.allowRepeats?void (j.is.animating()?j.queue("flip up"):(j.debug("Flipping up",P),j.set.stageSize(),j.stage.above(),j.animate(j.get.transform.up()))):void j.debug("Side already visible",P)},down:function(){return !j.is.complete()||j.is.animating()||y.allowRepeats?void (j.is.animating()?j.queue("flip down"):(j.debug("Flipping down",P),j.set.stageSize(),j.stage.below(),j.animate(j.get.transform.down()))):void j.debug("Side already visible",P)},left:function(){return !j.is.complete()||j.is.animating()||y.allowRepeats?void (j.is.animating()?j.queue("flip left"):(j.debug("Flipping left",P),j.set.stageSize(),j.stage.left(),j.animate(j.get.transform.left()))):void j.debug("Side already visible",P)},right:function(){return !j.is.complete()||j.is.animating()||y.allowRepeats?void (j.is.animating()?j.queue("flip right"):(j.debug("Flipping right",P),j.set.stageSize(),j.stage.right(),j.animate(j.get.transform.right()))):void j.debug("Side already visible",P)},over:function(){return !j.is.complete()||j.is.animating()||y.allowRepeats?void (j.is.animating()?j.queue("flip over"):(j.debug("Flipping over",P),j.set.stageSize(),j.stage.behind(),j.animate(j.get.transform.over()))):void j.debug("Side already visible",P)},back:function(){return !j.is.complete()||j.is.animating()||y.allowRepeats?void (j.is.animating()?j.queue("flip back"):(j.debug("Flipping back",P),j.set.stageSize(),j.stage.behind(),j.animate(j.get.transform.back()))):void j.debug("Side already visible",P)}},get:{transform:{up:function(){var s={y:-((x.outerHeight(!0)-P.outerHeight(!0))/2),z:-(x.outerHeight(!0)/2)};return{transform:"translateY("+s.y+"px) translateZ("+s.z+"px) rotateX(-90deg)"}},down:function(){var s={y:-((x.outerHeight(!0)-P.outerHeight(!0))/2),z:-(x.outerHeight(!0)/2)};return{transform:"translateY("+s.y+"px) translateZ("+s.z+"px) rotateX(90deg)"}},left:function(){var s={x:-((x.outerWidth(!0)-P.outerWidth(!0))/2),z:-(x.outerWidth(!0)/2)};return{transform:"translateX("+s.x+"px) translateZ("+s.z+"px) rotateY(90deg)"}},right:function(){var s={x:-((x.outerWidth(!0)-P.outerWidth(!0))/2),z:-(x.outerWidth(!0)/2)};return{transform:"translateX("+s.x+"px) translateZ("+s.z+"px) rotateY(-90deg)"}},over:function(){var s={x:-((x.outerWidth(!0)-P.outerWidth(!0))/2)};return{transform:"translateX("+s.x+"px) rotateY(180deg)"}},back:function(){var s={x:-((x.outerWidth(!0)-P.outerWidth(!0))/2)};return{transform:"translateX("+s.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var u,z=g.createElement("element"),s={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(u in s){if(z.style[u]!==f){return s[u]}}},nextSide:function(){return x.next(M.side).length>0?x.next(M.side):i.find(M.side).first()}},stage:{above:function(){var s={origin:(x.outerHeight(!0)-P.outerHeight(!0))/2,depth:{active:P.outerHeight(!0)/2,next:x.outerHeight(!0)/2}};j.verbose("Setting the initial animation position as above",P,s),O.css({transform:"translateZ(-"+s.depth.active+"px)"}),x.css({transform:"rotateY(0deg) translateZ("+s.depth.active+"px)"}),P.addClass(C.animating).css({top:s.origin+"px",transform:"rotateX(90deg) translateZ("+s.depth.next+"px)"})},below:function(){var s={origin:(x.outerHeight(!0)-P.outerHeight(!0))/2,depth:{active:P.outerHeight(!0)/2,next:x.outerHeight(!0)/2}};j.verbose("Setting the initial animation position as below",P,s),O.css({transform:"translateZ(-"+s.depth.active+"px)"}),x.css({transform:"rotateY(0deg) translateZ("+s.depth.active+"px)"}),P.addClass(C.animating).css({top:s.origin+"px",transform:"rotateX(-90deg) translateZ("+s.depth.next+"px)"})},left:function(){var u={active:x.outerWidth(!0),next:P.outerWidth(!0)},s={origin:(u.active-u.next)/2,depth:{active:u.next/2,next:u.active/2}};j.verbose("Setting the initial animation position as left",P,s),O.css({transform:"translateZ(-"+s.depth.active+"px)"}),x.css({transform:"rotateY(0deg) translateZ("+s.depth.active+"px)"}),P.addClass(C.animating).css({left:s.origin+"px",transform:"rotateY(-90deg) translateZ("+s.depth.next+"px)"})},right:function(){var u={active:x.outerWidth(!0),next:P.outerWidth(!0)},s={origin:(u.active-u.next)/2,depth:{active:u.next/2,next:u.active/2}};j.verbose("Setting the initial animation position as left",P,s),O.css({transform:"translateZ(-"+s.depth.active+"px)"}),x.css({transform:"rotateY(0deg) translateZ("+s.depth.active+"px)"}),P.addClass(C.animating).css({left:s.origin+"px",transform:"rotateY(90deg) translateZ("+s.depth.next+"px)"})},behind:function(){var u={active:x.outerWidth(!0),next:P.outerWidth(!0)},s={origin:(u.active-u.next)/2,depth:{active:u.next/2,next:u.active/2}};j.verbose("Setting the initial animation position as behind",P,s),x.css({transform:"rotateY(0deg)"}),P.addClass(C.animating).css({left:s.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(u,s){if(j.debug("Changing setting",u,s),h.isPlainObject(u)){h.extend(!0,y,u)}else{if(s===f){return y[u]}y[u]=s}},internal:function(u,s){if(h.isPlainObject(u)){h.extend(!0,j,u)}else{if(s===f){return j[u]}j[u]=s}},debug:function(){y.debug&&(y.performance?j.performance.log(arguments):(j.debug=Function.prototype.bind.call(console.info,console,y.name+":"),j.debug.apply(console,arguments)))},verbose:function(){y.verbose&&y.debug&&(y.performance?j.performance.log(arguments):(j.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),j.verbose.apply(console,arguments)))},error:function(){j.error=Function.prototype.bind.call(console.error,console,y.name+":"),j.error.apply(console,arguments)},performance:{log:function(s){var u,B,z;y.performance&&(u=(new Date).getTime(),z=a||u,B=u-z,a=u,d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:L,"Execution Time":B})),clearTimeout(j.performance.timer),j.performance.timer=setTimeout(j.performance.display,500)},display:function(){var u=y.name+":",s=0;a=!1,clearTimeout(j.performance.timer),h.each(d,function(B,z){s+=z["Execution Time"]}),u+=" "+s+"ms",t&&(u+=" '"+t+"'"),r.length>1&&(u+=" ("+r.length+")"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(u),console.table?console.table(d):h.each(d,function(B,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(B,z,u){var F,s,E,D=n;return z=z||l,u=L||u,"string"==typeof B&&D!==f&&(B=B.split(/[\. ]/),F=B.length-1,h.each(B,function(H,I){var G=H!=F?I+B[H+1].charAt(0).toUpperCase()+B[H+1].slice(1):B;if(h.isPlainObject(D[G])&&H!=F){D=D[G]}else{if(D[G]!==f){return s=D[G],!1}if(!h.isPlainObject(D[I])||H==F){return D[I]!==f?(s=D[I],!1):!1}D=D[I]}})),h.isFunction(s)?E=s.apply(u,z):s!==f&&(E=s),h.isArray(c)?c.push(E):c!==f?c=[c,E]:E!==f&&(c=E),s}},b?(n===f&&j.initialize(),j.invoke(m)):(n!==f&&n.invoke("destroy"),j.initialize())}),c!==f?c:this},h.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(h,e,g,f){h.fn.sidebar=function(o){var s,r=h(this),b=h(e),u=h(g),l=h("html"),c=h("head"),v=r.selector||"",m=(new Date).getTime(),D=[],E=arguments[0],p="string"==typeof E,d=[].slice.call(arguments,1),a=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)};return r.each(function(){var t,i,F,B,w,A,k=h.isPlainObject(o)?h.extend(!0,{},h.fn.sidebar.settings,o):h.extend({},h.fn.sidebar.settings),S=k.selector,T=k.className,n=k.namespace,R=k.regExp,P=k.error,y="."+n,O="module-"+n,z=h(this),x=h(k.context),q=z.children(S.sidebar),j=x.children(S.fixed),I=x.children(S.pusher),C=this,N=z.data(O);A={initialize:function(){A.debug("Initializing sidebar",o),A.create.id(),w=A.get.transitionEvent(),A.is.ios()&&A.set.ios(),k.delaySetup?a(A.setup.layout):A.setup.layout(),a(function(){A.setup.cache()}),A.instantiate()},instantiate:function(){A.verbose("Storing instance of module",A),N=A,z.data(O,A)},create:{id:function(){F=(Math.random().toString(16)+"000000000").substr(2,8),i="."+F,A.verbose("Creating unique id for element",F)}},destroy:function(){A.verbose("Destroying previous module for",z),A.remove.direction(),z.off(y).removeData(O),A.is.ios()&&A.remove.ios(),x.off(i),b.off(i),u.off(i)},event:{clickaway:function(J){var G=I.find(J.target).length>0||I.is(J.target),H=x.is(J.target);G&&(A.verbose("User clicked on dimmed page"),A.hide()),H&&(A.verbose("User clicked on dimmable context (scaled out page)"),A.hide())},touch:function(G){},containScroll:function(G){C.scrollTop<=0&&(C.scrollTop=1),C.scrollTop+C.offsetHeight>=C.scrollHeight&&(C.scrollTop=C.scrollHeight-C.offsetHeight-1)},scroll:function(G){0===h(G.target).closest(S.sidebar).length&&G.preventDefault()}},bind:{clickaway:function(){A.verbose("Adding clickaway events to context",x),k.closable&&x.on("click"+i,A.event.clickaway).on("touchend"+i,A.event.clickaway)},scrollLock:function(){k.scrollLock&&(A.debug("Disabling page scroll"),b.on("DOMMouseScroll"+i,A.event.scroll)),A.verbose("Adding events to contain sidebar scroll"),u.on("touchmove"+i,A.event.touch),z.on("scroll"+y,A.event.containScroll)}},unbind:{clickaway:function(){A.verbose("Removing clickaway events from context",x),x.off(i)},scrollLock:function(){A.verbose("Removing scroll lock from page"),u.off(i),b.off(i),z.off("scroll"+y)}},add:{inlineCSS:function(){var K,M=A.cache.width||z.outerWidth(),L=A.cache.height||z.outerHeight(),G=A.is.rtl(),J=A.get.direction(),H={left:M,right:-M,top:L,bottom:-L};G&&(A.verbose("RTL detected, flipping widths"),H.left=-M,H.right=M),K="<style>","left"===J||"right"===J?(A.debug("Adding CSS rules for animation distance",M),K+=" .ui.visible."+J+".sidebar ~ .fixed, .ui.visible."+J+".sidebar ~ .pusher {   -webkit-transform: translate3d("+H[J]+"px, 0, 0);           transform: translate3d("+H[J]+"px, 0, 0); }"):("top"===J||"bottom"==J)&&(K+=" .ui.visible."+J+".sidebar ~ .fixed, .ui.visible."+J+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+H[J]+"px, 0);           transform: translate3d(0, "+H[J]+"px, 0); }"),A.is.ie()&&("left"===J||"right"===J?(A.debug("Adding CSS rules for animation distance",M),K+=" body.pushable > .ui.visible."+J+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+H[J]+"px, 0, 0);           transform: translate3d("+H[J]+"px, 0, 0); }"):("top"===J||"bottom"==J)&&(K+=" body.pushable > .ui.visible."+J+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+H[J]+"px, 0);           transform: translate3d(0, "+H[J]+"px, 0); }"),K+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),K+="</style>",t=h(K).appendTo(c),A.debug("Adding sizing css to head",t)}},refresh:function(){A.verbose("Refreshing selector cache"),x=h(k.context),q=x.children(S.sidebar),I=x.children(S.pusher),j=x.children(S.fixed),A.clear.cache()},refreshSidebars:function(){A.verbose("Refreshing other sidebars"),q=x.children(S.sidebar)},repaint:function(){A.verbose("Forcing repaint event"),C.style.display="none";C.offsetHeight;C.scrollTop=C.scrollTop,C.style.display=""},setup:{cache:function(){A.cache={width:z.outerWidth(),height:z.outerHeight(),rtl:"rtl"==z.css("direction")}},layout:function(){0===x.children(S.pusher).length&&(A.debug("Adding wrapper element for sidebar"),A.error(P.pusher),I=h('<div class="pusher" />'),x.children().not(S.omitted).not(q).wrapAll(I),A.refresh()),(0===z.nextAll(S.pusher).length||z.nextAll(S.pusher)[0]!==I[0])&&(A.debug("Moved sidebar to correct parent element"),A.error(P.movedSidebar,C),z.detach().prependTo(x),A.refresh()),A.clear.cache(),A.set.pushable(),A.set.direction()}},attachEvents:function(J,H){var G=h(J);H=h.isFunction(A[H])?A[H]:A.toggle,G.length>0?(A.debug("Attaching sidebar events to element",J,H),G.on("click"+y,H)):A.error(P.notFound,J)},show:function(G){if(G=h.isFunction(G)?G:function(){},A.is.hidden()){if(A.refreshSidebars(),k.overlay&&(A.error(P.overlay),k.transition="overlay"),A.refresh(),A.othersActive()){if(A.debug("Other sidebars currently visible"),k.exclusive){if("overlay"!=k.transition){return void A.hideOthers(A.show)}A.hideOthers()}else{k.transition="overlay"}}A.pushPage(function(){G.call(C),k.onShow.call(C)}),k.onChange.call(C),k.onVisible.call(C)}else{A.debug("Sidebar is already visible")}},hide:function(G){G=h.isFunction(G)?G:function(){},(A.is.visible()||A.is.animating())&&(A.debug("Hiding sidebar",G),A.refreshSidebars(),A.pullPage(function(){G.call(C),k.onHidden.call(C)}),k.onChange.call(C),k.onHide.call(C))},othersAnimating:function(){return q.not(z).filter("."+T.animating).length>0},othersVisible:function(){return q.not(z).filter("."+T.visible).length>0},othersActive:function(){return A.othersVisible()||A.othersAnimating()},hideOthers:function(J){var K=q.not(z).filter("."+T.visible),H=K.length,G=0;J=J||function(){},K.sidebar("hide",function(){G++,G==H&&J()})},toggle:function(){A.verbose("Determining toggled direction"),A.is.hidden()?A.show():A.hide()},pushPage:function(H){var L,J,M,K=A.get.transition(),G="overlay"===K||A.othersActive()?z:I;H=h.isFunction(H)?H:function(){},"scale down"==k.transition&&A.scrollToTop(),A.set.transition(K),A.repaint(),L=function(){A.bind.clickaway(),A.add.inlineCSS(),A.set.animating(),A.set.visible()},J=function(){A.set.dimmed()},M=function(Q){Q.target==G[0]&&(G.off(w+i,M),A.remove.animating(),A.bind.scrollLock(),H.call(C))},G.off(w+i),G.on(w+i,M),a(L),k.dimPage&&!A.othersVisible()&&a(J)},pullPage:function(K){var G,L,J=A.get.transition(),H="overlay"==J||A.othersActive()?z:I;K=h.isFunction(K)?K:function(){},A.verbose("Removing context push state",A.get.direction()),A.unbind.clickaway(),A.unbind.scrollLock(),G=function(){A.set.transition(J),A.set.animating(),A.remove.visible(),k.dimPage&&!A.othersVisible()&&I.removeClass(T.dimmed)},L=function(M){M.target==H[0]&&(H.off(w+i,L),A.remove.animating(),A.remove.transition(),A.remove.inlineCSS(),("scale down"==J||k.returnScroll&&A.is.mobile())&&A.scrollBack(),K.call(C))},H.off(w+i),H.on(w+i,L),a(G)},scrollToTop:function(){A.verbose("Scrolling to top of page to avoid animation issues"),B=h(e).scrollTop(),z.scrollTop(0),e.scrollTo(0,0)},scrollBack:function(){A.verbose("Scrolling back to original page position"),e.scrollTo(0,B)},clear:{cache:function(){A.verbose("Clearing cached dimensions"),A.cache={}}},set:{ios:function(){l.addClass(T.ios)},pushed:function(){x.addClass(T.pushed)},pushable:function(){x.addClass(T.pushable)},dimmed:function(){I.addClass(T.dimmed)},active:function(){z.addClass(T.active)},animating:function(){z.addClass(T.animating)},transition:function(G){G=G||A.get.transition(),z.addClass(G)},direction:function(G){G=G||A.get.direction(),z.addClass(T[G])},visible:function(){z.addClass(T.visible)},overlay:function(){z.addClass(T.overlay)}},remove:{inlineCSS:function(){A.debug("Removing inline css styles",t),t&&t.length>0&&t.remove()},ios:function(){l.removeClass(T.ios)},pushed:function(){x.removeClass(T.pushed)},pushable:function(){x.removeClass(T.pushable)},active:function(){z.removeClass(T.active)},animating:function(){z.removeClass(T.animating)},transition:function(G){G=G||A.get.transition(),z.removeClass(G)},direction:function(G){G=G||A.get.direction(),z.removeClass(T[G])},visible:function(){z.removeClass(T.visible)},overlay:function(){z.removeClass(T.overlay)}},get:{direction:function(){return z.hasClass(T.top)?T.top:z.hasClass(T.right)?T.right:z.hasClass(T.bottom)?T.bottom:T.left},transition:function(){var H,G=A.get.direction();return H=A.is.mobile()?"auto"==k.mobileTransition?k.defaultTransition.mobile[G]:k.mobileTransition:"auto"==k.transition?k.defaultTransition.computer[G]:k.transition,A.verbose("Determined transition",H),H},transitionEvent:function(){var J,G=g.createElement("element"),H={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(J in H){if(G.style[J]!==f){return H[J]}}}},is:{ie:function(){var G=!e.ActiveXObject&&"ActiveXObject" in e,H="ActiveXObject" in e;return G||H},ios:function(){var J=navigator.userAgent,G=J.match(R.ios),H=J.match(R.mobileChrome);return G&&!H?(A.verbose("Browser was found to be iOS",J),!0):!1},mobile:function(){var H=navigator.userAgent,G=H.match(R.mobile);return G?(A.verbose("Browser was found to be mobile",H),!0):(A.verbose("Browser is not mobile, using regular transition",H),!1)},hidden:function(){return !A.is.visible()},visible:function(){return z.hasClass(T.visible)},open:function(){return A.is.visible()},closed:function(){return A.is.hidden()},vertical:function(){return z.hasClass(T.top)},animating:function(){return x.hasClass(T.animating)},rtl:function(){return A.cache.rtl===f&&(A.cache.rtl="rtl"==z.css("direction")),A.cache.rtl}},setting:function(G,H){if(A.debug("Changing setting",G,H),h.isPlainObject(G)){h.extend(!0,k,G)}else{if(H===f){return k[G]}k[G]=H}},internal:function(G,H){if(h.isPlainObject(G)){h.extend(!0,A,G)}else{if(H===f){return A[G]}A[G]=H}},debug:function(){k.debug&&(k.performance?A.performance.log(arguments):(A.debug=Function.prototype.bind.call(console.info,console,k.name+":"),A.debug.apply(console,arguments)))},verbose:function(){k.verbose&&k.debug&&(k.performance?A.performance.log(arguments):(A.verbose=Function.prototype.bind.call(console.info,console,k.name+":"),A.verbose.apply(console,arguments)))},error:function(){A.error=Function.prototype.bind.call(console.error,console,k.name+":"),A.error.apply(console,arguments)},performance:{log:function(J){var K,H,G;k.performance&&(K=(new Date).getTime(),G=m||K,H=K-G,m=K,D.push({Name:J[0],Arguments:[].slice.call(J,1)||"",Element:C,"Execution Time":H})),clearTimeout(A.performance.timer),A.performance.timer=setTimeout(A.performance.display,500)},display:function(){var G=k.name+":",H=0;m=!1,clearTimeout(A.performance.timer),h.each(D,function(J,K){H+=K["Execution Time"]}),G+=" "+H+"ms",v&&(G+=" '"+v+"'"),(console.group!==f||console.table!==f)&&D.length>0&&(console.groupCollapsed(G),console.table?console.table(D):h.each(D,function(J,K){console.log(K.Name+": "+K["Execution Time"]+"ms")}),console.groupEnd()),D=[]}},invoke:function(K,J,Q){var G,H,M,L=N;return J=J||d,Q=C||Q,"string"==typeof K&&L!==f&&(K=K.split(/[\. ]/),G=K.length-1,h.each(K,function(U,V){var W=U!=G?V+K[U+1].charAt(0).toUpperCase()+K[U+1].slice(1):K;if(h.isPlainObject(L[W])&&U!=G){L=L[W]}else{if(L[W]!==f){return H=L[W],!1}if(!h.isPlainObject(L[V])||U==G){return L[V]!==f?(H=L[V],!1):(A.error(P.method,K),!1)}L=L[V]}})),h.isFunction(H)?M=H.apply(Q,J):H!==f&&(M=H),h.isArray(s)?s.push(M):s!==f?s=[s,M]:M!==f&&(s=M),H}},p?(N===f&&A.initialize(),A.invoke(E)):(N!==f&&A.invoke("destroy"),A.initialize())}),s!==f?s:this},h.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(h,e,g,f){h.fn.sticky=function(o){var q,c=h(this),r=c.selector||"",a=(new Date).getTime(),d=[],n=arguments[0],b="string"==typeof n,l=[].slice.call(arguments,1);return c.each(function(){var C,k,m,x,v=h.isPlainObject(o)?h.extend(!0,{},h.fn.sticky.settings,o):h.extend({},h.fn.sticky.settings),y=v.className,J=v.namespace,N=v.error,j="."+J,L="module-"+J,w=h(this),A=h(e),M=h(v.scrollContext),K=(w.selector||"",w.data(L)),i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)},p=this;x={initialize:function(){x.determineContainer(),x.determineContext(),x.verbose("Initializing sticky",v,C),x.save.positions(),x.checkErrors(),x.bind.events(),v.observeChanges&&x.observeChanges(),x.instantiate()},instantiate:function(){x.verbose("Storing instance of module",x),K=x,w.data(L,x)},destroy:function(){x.verbose("Destroying previous instance"),x.reset(),m&&m.disconnect(),A.off("load"+j,x.event.load).off("resize"+j,x.event.resize),M.off("scrollchange"+j,x.event.scrollchange),w.removeData(L)},observeChanges:function(){var s=k[0];"MutationObserver" in e&&(m=new MutationObserver(function(t){clearTimeout(x.timer),x.timer=setTimeout(function(){x.verbose("DOM tree modified, updating sticky menu",t),x.refresh()},100)}),m.observe(p,{childList:!0,subtree:!0}),m.observe(s,{childList:!0,subtree:!0}),x.debug("Setting up mutation observer",m))},determineContainer:function(){C=w.offsetParent()},determineContext:function(){return k=v.context?h(v.context):C,0===k.length?void x.error(N.invalidContext,v.context,w):void 0},checkErrors:function(){return x.is.hidden()&&x.error(N.visible,w),x.cache.element.height>x.cache.context.height?(x.reset(),void x.error(N.elementSize,w)):void 0},bind:{events:function(){A.on("load"+j,x.event.load).on("resize"+j,x.event.resize),M.off("scroll"+j).on("scroll"+j,x.event.scroll).on("scrollchange"+j,x.event.scrollchange)}},event:{load:function(){x.verbose("Page contents finished loading"),i(x.refresh)},resize:function(){x.verbose("Window resized"),i(x.refresh)},scroll:function(){i(function(){M.triggerHandler("scrollchange"+j,M.scrollTop())})},scrollchange:function(s,t){x.stick(t),v.onScroll.call(p)}},refresh:function(s){x.reset(),v.context||x.determineContext(),s&&x.determineContainer(),x.save.positions(),x.stick(),v.onReposition.call(p)},supports:{sticky:function(){var s=h("<div/>");s[0];return s.addClass(y.supported),s.css("position").match("sticky")}},save:{lastScroll:function(s){x.lastScroll=s},elementScroll:function(s){x.elementScroll=s},positions:function(){var t={height:A.height()},u={margin:{top:parseInt(w.css("margin-top"),10),bottom:parseInt(w.css("margin-bottom"),10)},offset:w.offset(),width:w.outerWidth(),height:w.outerHeight()},s={offset:k.offset(),height:k.outerHeight(),bottomPadding:parseInt(k.css("padding-bottom"),10)};({height:C.outerHeight()});x.cache={fits:u.height<t.height,window:{height:t.height},element:{margin:u.margin,top:u.offset.top-u.margin.top,left:u.offset.left,width:u.width,height:u.height,bottom:u.offset.top+u.height},context:{top:s.offset.top,height:s.height,bottomPadding:s.bottomPadding,bottom:s.offset.top+s.height-s.bottomPadding}},x.set.containerSize(),x.set.size(),x.stick(),x.debug("Caching element positions",x.cache)}},get:{direction:function(s){var t="down";return s=s||M.scrollTop(),x.lastScroll!==f&&(x.lastScroll<s?t="down":x.lastScroll>s&&(t="up")),t},scrollChange:function(s){return s=s||M.scrollTop(),x.lastScroll?s-x.lastScroll:0},currentElementScroll:function(){return x.elementScroll?x.elementScroll:x.is.top()?Math.abs(parseInt(w.css("top"),10))||0:Math.abs(parseInt(w.css("bottom"),10))||0},elementScroll:function(t){t=t||M.scrollTop();var s=x.cache.element,B=x.cache.window,u=x.get.scrollChange(t),D=s.height-B.height+v.offset,z=x.get.currentElementScroll(),E=z+u;return z=x.cache.fits||0>E?0:E>D?D:E}},remove:{lastScroll:function(){delete x.lastScroll},elementScroll:function(s){delete x.elementScroll},offset:function(){w.css("margin-top","")}},set:{offset:function(){x.verbose("Setting offset on element",v.offset),w.css("margin-top",v.offset)},containerSize:function(){var s=C.get(0).tagName;"HTML"===s||"body"==s?x.determineContainer():Math.abs(C.outerHeight()-x.cache.context.height)>v.jitter&&(x.debug("Context has padding, specifying exact height for container",x.cache.context.height),C.css({height:x.cache.context.height}))},minimumSize:function(){var s=x.cache.element;C.css("min-height",s.height)},scroll:function(s){x.debug("Setting scroll on element",s),x.elementScroll!=s&&(x.is.top()&&w.css("bottom","").css("top",-s),x.is.bottom()&&w.css("top","").css("bottom",s))},size:function(){0!==x.cache.element.height&&0!==x.cache.element.width&&w.css({width:x.cache.element.width,height:x.cache.element.height})}},is:{top:function(){return w.hasClass(y.top)},bottom:function(){return w.hasClass(y.bottom)},initialPosition:function(){return !x.is.fixed()&&!x.is.bound()},hidden:function(){return !w.is(":visible")},bound:function(){return w.hasClass(y.bound)},fixed:function(){return w.hasClass(y.fixed)}},stick:function(s){var z=s||M.scrollTop(),G=x.cache,t=G.fits,H=G.element,E=G.window,I=G.context,u=x.is.bottom()&&v.pushing?v.bottomOffset:v.offset,s={top:z+u,bottom:z+u+E.height},F=(x.get.direction(s.top),t?0:x.get.elementScroll(s.top)),D=!t,B=0!==H.height;B&&(x.is.initialPosition()?s.top>I.bottom?(x.debug("Element bottom of container"),x.bindBottom()):s.top>H.top&&(x.debug("Element passed, fixing element to page"),x.fixTop()):x.is.fixed()?x.is.top()?s.top<H.top?(x.debug("Fixed element reached top of container"),x.setInitialPosition()):H.height+s.top-F>I.bottom?(x.debug("Fixed element reached bottom of container"),x.bindBottom()):D&&x.set.scroll(F):x.is.bottom()&&(s.bottom-H.height<H.top?(x.debug("Bottom fixed rail has reached top of container"),x.setInitialPosition()):s.bottom>I.bottom?(x.debug("Bottom fixed rail has reached bottom of container"),x.bindBottom()):D&&x.set.scroll(F)):x.is.bottom()&&(v.pushing?x.is.bound()&&s.bottom<I.bottom&&(x.debug("Fixing bottom attached element to bottom of browser."),x.fixBottom()):x.is.bound()&&s.top<I.bottom-H.height&&(x.debug("Fixing bottom attached element to top of browser."),x.fixTop()))),x.save.lastScroll(s.top),x.save.elementScroll(F)},bindTop:function(){x.debug("Binding element to top of parent container"),x.remove.offset(),w.css({left:"",top:"",marginBottom:""}).removeClass(y.fixed).removeClass(y.bottom).addClass(y.bound).addClass(y.top),v.onTop.call(p),v.onUnstick.call(p)},bindBottom:function(){x.debug("Binding element to bottom of parent container"),x.remove.offset(),w.css({left:"",top:"",marginBottom:x.cache.context.bottomPadding}).removeClass(y.fixed).removeClass(y.top).addClass(y.bound).addClass(y.bottom),v.onBottom.call(p),v.onUnstick.call(p)},setInitialPosition:function(){x.unfix(),x.unbind()},fixTop:function(){x.debug("Fixing element to top of page"),x.set.minimumSize(),x.set.offset(),w.css({left:x.cache.element.left,bottom:"",marginBottom:""}).removeClass(y.bound).removeClass(y.bottom).addClass(y.fixed).addClass(y.top),v.onStick.call(p)},fixBottom:function(){x.debug("Sticking element to bottom of page"),x.set.minimumSize(),x.set.offset(),w.css({left:x.cache.element.left,bottom:"",marginBottom:""}).removeClass(y.bound).removeClass(y.top).addClass(y.fixed).addClass(y.bottom),v.onStick.call(p)},unbind:function(){x.debug("Removing absolute position on element"),x.remove.offset(),w.removeClass(y.bound).removeClass(y.top).removeClass(y.bottom)},unfix:function(){x.debug("Removing fixed position on element"),x.remove.offset(),w.removeClass(y.fixed).removeClass(y.top).removeClass(y.bottom),v.onUnstick.call(p)},reset:function(){x.debug("Reseting elements position"),x.unbind(),x.unfix(),x.resetCSS(),x.remove.offset(),x.remove.lastScroll()},resetCSS:function(){w.css({width:"",height:""}),C.css({height:""})},setting:function(t,s){if(h.isPlainObject(t)){h.extend(!0,v,t)}else{if(s===f){return v[t]}v[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,x,t)}else{if(s===f){return x[t]}x[t]=s}},debug:function(){v.debug&&(v.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,v.name+":"),x.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),x.verbose.apply(console,arguments)))},error:function(){x.error=Function.prototype.bind.call(console.error,console,v.name+":"),x.error.apply(console,arguments)},performance:{log:function(s){var t,z,u;v.performance&&(t=(new Date).getTime(),u=a||t,z=t-u,a=t,d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:p,"Execution Time":z})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,0)},display:function(){var t=v.name+":",s=0;a=!1,clearTimeout(x.performance.timer),h.each(d,function(z,u){s+=u["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):h.each(d,function(z,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,B,u){var s,E,D,z=K;return B=B||l,u=p||u,"string"==typeof t&&z!==f&&(t=t.split(/[\. ]/),s=t.length-1,h.each(t,function(H,F){var G=H!=s?F+t[H+1].charAt(0).toUpperCase()+t[H+1].slice(1):t;if(h.isPlainObject(z[G])&&H!=s){z=z[G]}else{if(z[G]!==f){return E=z[G],!1}if(!h.isPlainObject(z[F])||H==s){return z[F]!==f?(E=z[F],!1):!1}z=z[F]}})),h.isFunction(E)?D=E.apply(u,B):E!==f&&(D=E),h.isArray(q)?q.push(D):q!==f?q=[q,D]:D!==f&&(q=D),E}},b?(K===f&&x.initialize(),x.invoke(n)):(K!==f&&K.invoke("destroy"),x.initialize())}),q!==f?q:this},h.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:e,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(h,e,g,f){h.fn.tab=function(r){var b,s=h(h.isFunction(this)?e:this),u=s.selector||"",c=(new Date).getTime(),m=[],a=arguments[0],d="string"==typeof a,o=[].slice.call(arguments,1),l=!1;return s.each(function(){var j,p,E,k,i,C,A=h.isPlainObject(r)?h.extend(!0,{},h.fn.tab.settings,r):h.extend({},h.fn.tab.settings),v=A.className,t=A.metadata,n=A.selector,P=A.error,R="."+A.namespace,q="module-"+A.namespace,O=h(this),F={},x=!0,D=0,y=this,w=O.data(q);i={initialize:function(){i.debug("Initializing tab menu item",O),i.fix.callbacks(),i.determineTabs(),i.debug("Determining tabs",A.context,p),A.auto&&i.set.auto(),i.bind.events(),A.history&&!l&&(i.initializeHistory(),l=!0),i.instantiate()},instantiate:function(){i.verbose("Storing instance of module",i),w=i,O.data(q,i)},destroy:function(){i.debug("Destroying tabs",O),O.removeData(q).off(R)},bind:{events:function(){h.isWindow(y)||(i.debug("Attaching tab activation events to element",O),O.on("click"+R,i.event.click))}},determineTabs:function(){var z;"parent"===A.context?(O.closest(n.ui).length>0?(z=O.closest(n.ui),i.verbose("Using closest UI element as parent",z)):z=O,j=z.parent(),i.verbose("Determined parent element for creating context",j)):A.context?(j=h(A.context),i.verbose("Using selector for tab context",A.context,j)):j=h("body"),A.childrenOnly?(p=j.children(n.tabs),i.debug("Searching tab context children for tabs",j,p)):(p=j.find(n.tabs),i.debug("Searching tab context for tabs",j,p))},fix:{callbacks:function(){h.isPlainObject(r)&&(r.onTabLoad||r.onTabInit)&&(r.onTabLoad&&(r.onLoad=r.onTabLoad,delete r.onTabLoad,i.error(P.legacyLoad,r.onLoad)),r.onTabInit&&(r.onFirstLoad=r.onTabInit,delete r.onTabInit,i.error(P.legacyInit,r.onFirstLoad)),A=h.extend(!0,{},h.fn.tab.settings,r))}},initializeHistory:function(){if(i.debug("Initializing page state"),h.address===f){return i.error(P.state),!1}if("state"==A.historyType){if(i.debug("Using HTML5 to manage state"),A.path===!1){return i.error(P.path),!1}h.address.history(!0).state(A.path)}h.address.bind("change",i.event.history.change)},event:{click:function(B){var z=h(this).data(t.tab);z!==f?(A.history?(i.verbose("Updating page state",B),h.address.value(z)):(i.verbose("Changing tab",B),i.changeTab(z)),B.preventDefault()):i.debug("No tab specified")},history:{change:function(G){var z=G.pathNames.join("/")||i.get.initialPath(),B=A.templates.determineTitle(z)||!1;i.performance.display(),i.debug("History change event",z,G),C=G,z!==f&&i.changeTab(z),B&&h.address.title(B)}}},refresh:function(){E&&(i.debug("Refreshing tab",E),i.changeTab(E))},cache:{read:function(z){return z!==f?F[z]:!1},add:function(z,B){z=z||E,i.debug("Adding cached content for",z),F[z]=B},remove:function(z){z=z||E,i.debug("Removing cached content for",z),delete F[z]}},set:{auto:function(){var z="string"==typeof A.path?A.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";i.verbose("Setting up automatic tab retrieval from server",z),h.isPlainObject(A.apiSettings)?A.apiSettings.url=z:A.apiSettings={url:z}},loading:function(B){var G=i.get.tabElement(B),z=G.hasClass(v.loading);z||(i.verbose("Setting loading state for",G),G.addClass(v.loading).siblings(p).removeClass(v.active+" "+v.loading),G.length>0&&A.onRequest.call(G[0],B))},state:function(z){h.address.value(z)}},changeTab:function(B){var G=e.history&&e.history.pushState,I=G&&A.ignoreFirstLoad&&x,H=A.auto||h.isPlainObject(A.apiSettings),z=H&&!I?i.utilities.pathToArray(B):i.get.defaultPathArray(B);B=i.utilities.arrayToPath(z),h.each(z,function(M,Z){var L,U,aa,N,X=z.slice(0,M+1),J=i.utilities.arrayToPath(X),Y=i.is.tab(J),K=M+1==z.length,Q=i.get.tabElement(J);if(i.verbose("Looking for tab",Z),Y){if(i.verbose("Tab was found",Z),E=J,k=i.utilities.filterArray(z,X),K?N=!0:(U=z.slice(0,M+2),aa=i.utilities.arrayToPath(U),N=!i.is.tab(aa),N&&i.verbose("Tab parameters found",U)),N&&H){return I?(i.debug("Ignoring remote content on first tab load",J),x=!1,i.cache.add(B,Q.html()),i.activate.all(J),A.onFirstLoad.call(Q[0],J,k,C),A.onLoad.call(Q[0],J,k,C)):(i.activate.navigation(J),i.fetch.content(J,B)),!1}i.debug("Opened local tab",J),i.activate.all(J),i.cache.read(J)||(i.cache.add(J,!0),i.debug("First time tab loaded calling tab init"),A.onFirstLoad.call(Q[0],J,k,C)),A.onLoad.call(Q[0],J,k,C)}else{if(-1!=B.search("/")||""===B){return i.error(P.missingTab,O,j,J),!1}if(L=h("#"+B+', a[name="'+B+'"]'),J=L.closest("[data-tab]").data("tab"),Q=i.get.tabElement(J),L&&L.length>0&&J){return i.debug("Anchor link used, opening parent tab",Q,L),Q.hasClass(v.active)||setTimeout(function(){i.scrollTo(L)},0),i.activate.all(J),i.cache.read(J)||(i.cache.add(J,!0),i.debug("First time tab loaded calling tab init"),A.onFirstLoad.call(Q[0],J,k,C)),A.onLoad.call(Q[0],J,k,C),!1}}})},scrollTo:function(z){var B=z&&z.length>0?z.offset().top:!1;B!==!1&&(i.debug("Forcing scroll to an in-page link in a hidden tab",B,z),h(g).scrollTop(B))},update:{content:function(B,G,z){var I=i.get.tabElement(B),H=I[0];z=z!==f?z:A.evaluateScripts,z?(i.debug("Updating HTML and evaluating inline scripts",B,G),I.html(G)):(i.debug("Updating HTML",B,G),H.innerHTML=G)}},fetch:{content:function(B,I){var K,G,z=i.get.tabElement(B),L={dataType:"html",on:"now",cache:A.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(M){i.cache.add(I,M),i.update.content(B,M),B==E?(i.debug("Content loaded",B),i.activate.tab(B)):i.debug("Content loaded in background",B),A.onFirstLoad.call(z[0],B,k,C),A.onLoad.call(z[0],B,k,C)},urlData:{tab:I}},J=z.api("get request")||!1,H=J&&"pending"===J.state();I=I||B,G=i.cache.read(I),A.cache&&G?(i.activate.tab(B),i.debug("Adding cached content",I),"once"==A.evaluateScripts?i.update.content(B,G,!1):i.update.content(B,G),A.onLoad.call(z[0],B,k,C)):H?(i.set.loading(B),i.debug("Content is already loading",I)):h.api!==f?(K=h.extend(!0,{},A.apiSettings,L),i.debug("Retrieving remote content",I,K),i.set.loading(B),z.api(K)):i.error(P.api)}},activate:{all:function(z){i.activate.tab(z),i.activate.navigation(z)},tab:function(B){var G=i.get.tabElement(B),z=G.hasClass(v.active);i.verbose("Showing tab content for",G),z||(G.addClass(v.active).siblings(p).removeClass(v.active+" "+v.loading),G.length>0&&A.onVisible.call(G[0],B))},navigation:function(B){var G=i.get.navElement(B),z=G.hasClass(v.active);i.verbose("Activating tab navigation for",G,B),z||G.addClass(v.active).siblings(s).removeClass(v.active+" "+v.loading)}},deactivate:{all:function(){i.deactivate.navigation(),i.deactivate.tabs()},navigation:function(){s.removeClass(v.active)},tabs:function(){p.removeClass(v.active+" "+v.loading)}},is:{tab:function(z){return z!==f?i.get.tabElement(z).length>0:!1}},get:{initialPath:function(){return s.eq(0).data(t.tab)||p.eq(0).data(t.tab)},path:function(){return h.address.value()},defaultPathArray:function(z){return i.utilities.pathToArray(i.get.defaultPath(z))},defaultPath:function(B){var G=s.filter("[data-"+t.tab+'^="'+B+'/"]').eq(0),z=G.data(t.tab)||!1;if(z){if(i.debug("Found default tab",z),D<A.maxDepth){return D++,i.get.defaultPath(z)}i.error(P.recursion)}else{i.debug("No default tabs found for",B,p)}return D=0,B},navElement:function(z){return z=z||E,s.filter("[data-"+t.tab+'="'+z+'"]')},tabElement:function(B){var G,z,H,I;return B=B||E,H=i.utilities.pathToArray(B),I=i.utilities.last(H),G=p.filter("[data-"+t.tab+'="'+I+'"]'),z=p.filter("[data-"+t.tab+'="'+B+'"]'),G.length>0?G:z},tab:function(){return E}},utilities:{filterArray:function(B,z){return h.grep(B,function(G){return -1==h.inArray(G,z)})},last:function(z){return h.isArray(z)?z[z.length-1]:!1},pathToArray:function(z){return z===f&&(z=E),"string"==typeof z?z.split("/"):[z]},arrayToPath:function(z){return h.isArray(z)?z.join("/"):!1}},setting:function(B,z){if(i.debug("Changing setting",B,z),h.isPlainObject(B)){h.extend(!0,A,B)}else{if(z===f){return A[B]}A[B]=z}},internal:function(B,z){if(h.isPlainObject(B)){h.extend(!0,i,B)}else{if(z===f){return i[B]}i[B]=z}},debug:function(){A.debug&&(A.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,A.name+":"),i.debug.apply(console,arguments)))},verbose:function(){A.verbose&&A.debug&&(A.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,A.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,A.name+":"),i.error.apply(console,arguments)},performance:{log:function(z){var B,H,G;A.performance&&(B=(new Date).getTime(),G=c||B,H=B-G,c=B,m.push({Name:z[0],Arguments:[].slice.call(z,1)||"",Element:y,"Execution Time":H})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,500)},display:function(){var B=A.name+":",z=0;c=!1,clearTimeout(i.performance.timer),h.each(m,function(H,G){z+=G["Execution Time"]}),B+=" "+z+"ms",u&&(B+=" '"+u+"'"),(console.group!==f||console.table!==f)&&m.length>0&&(console.groupCollapsed(B),console.table?console.table(m):h.each(m,function(H,G){console.log(G.Name+": "+G["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(G,I,B){var K,z,J,H=w;return I=I||o,B=y||B,"string"==typeof G&&H!==f&&(G=G.split(/[\. ]/),K=G.length-1,h.each(G,function(N,L){var M=N!=K?L+G[N+1].charAt(0).toUpperCase()+G[N+1].slice(1):G;if(h.isPlainObject(H[M])&&N!=K){H=H[M]}else{if(H[M]!==f){return z=H[M],!1}if(!h.isPlainObject(H[L])||N==K){return H[L]!==f?(z=H[L],!1):(i.error(P.method,G),!1)}H=H[L]}})),h.isFunction(z)?J=z.apply(B,I):z!==f&&(J=z),h.isArray(b)?b.push(J):b!==f?b=[b,J]:J!==f&&(b=J),z}},d?(w===f&&i.initialize(),i.invoke(a)):(w!==f&&w.invoke("destroy"),i.initialize())}),b!==f?b:this},h.tab=function(){h(e).tab.apply(this,arguments)},h.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(b,c,a){},onLoad:function(b,c,a){},onVisible:function(b,c,a){},onRequest:function(b,c,a){},templates:{determineTitle:function(a){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(h,e,g,f){h.fn.transition=function(){var q,c=h(this),r=c.selector||"",a=(new Date).getTime(),d=[],m=arguments,b=m[0],l=[].slice.call(arguments,1),o="string"==typeof b;e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)};return c.each(function(C){var F,j,v,i,k,x,y,t,w,n=h(this),p=this;w={initialize:function(){F=w.get.settings.apply(p,m),i=F.className,v=F.error,k=F.metadata,t="."+F.namespace,y="module-"+F.namespace,j=n.data(y)||w,x=w.get.animationEndEvent(),o&&(o=w.invoke(b)),o===!1&&(w.verbose("Converted arguments into settings object",F),F.interval?w.delay(F.animate):w.animate(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of module",w),j=w,n.data(y,j)},destroy:function(){w.verbose("Destroying previous module for",p),n.removeData(y)},refresh:function(){w.verbose("Refreshing display type on next animation"),delete w.displayType},forceRepaint:function(){w.verbose("Forcing element repaint");var s=n.parent(),u=n.next();0===u.length?n.detach().appendTo(s):n.detach().insertBefore(u)},repaint:function(){w.verbose("Repainting element");p.offsetWidth},delay:function(z){var s,u,A=w.get.animationDirection();A||(A=w.can.transition()?w.get.direction():"static"),z=z!==f?z:F.interval,s="auto"==F.reverse&&A==i.outward,u=s||1==F.reverse?(c.length-C)*F.interval:C*F.interval,w.debug("Delaying animation by",u),setTimeout(w.animate,u)},animate:function(s){if(F=s||F,!w.is.supported()){return w.error(v.support),!1}if(w.debug("Preparing animation",F.animation),w.is.animating()){if(F.queue){return !F.allowRepeats&&w.has.direction()&&w.is.occurring()&&w.queuing!==!0?w.debug("Animation is currently occurring, preventing queueing same animation",F.animation):w.queue(F.animation),!1}if(!F.allowRepeats&&w.is.occurring()){return w.debug("Animation is already occurring, will not execute repeated animation",F.animation),!1}w.debug("New animation started, completing previous early",F.animation),j.complete()}w.can.animate()?w.set.animating(F.animation):w.error(v.noAnimation,F.animation,p)},reset:function(){w.debug("Resetting animation to beginning conditions"),w.remove.animationCallbacks(),w.restore.conditions(),w.remove.animating()},queue:function(s){w.debug("Queueing animation of",s),w.queuing=!0,n.one(x+".queue"+t,function(){w.queuing=!1,w.repaint(),w.animate.apply(this,F)})},complete:function(s){w.debug("Animation complete",F.animation),w.remove.completeCallback(),w.remove.failSafe(),w.is.looping()||(w.is.outward()?(w.verbose("Animation is outward, hiding element"),w.restore.conditions(),w.hide()):w.is.inward()?(w.verbose("Animation is outward, showing element"),w.restore.conditions(),w.show()):w.restore.conditions())},force:{visible:function(){var D=n.attr("style"),u=w.get.userStyle(),A=w.get.displayType(),B=u+"display: "+A+" !important;",z=n.css("display"),s=D===f||""===D;z!==A?(w.verbose("Overriding default display to show element",A),n.attr("style",B)):s&&n.removeAttr("style")},hidden:function(){var u=n.attr("style"),z=n.css("display"),s=u===f||""===u;"none"===z||w.is.hidden()?s&&n.removeAttr("style"):(w.verbose("Overriding default display to hide element"),n.css("display","none"))}},has:{direction:function(u){var s=!1;return u=u||F.animation,"string"==typeof u&&(u=u.split(" "),h.each(u,function(A,z){(z===i.inward||z===i.outward)&&(s=!0)})),s},inlineDisplay:function(){var s=n.attr("style")||"";return h.isArray(s.match(/display.*?;/,""))}},set:{animating:function(s){var u;w.remove.completeCallback(),s=s||F.animation,u=w.get.animationClass(s),w.save.animation(u),w.force.visible(),w.remove.hidden(),w.remove.direction(),w.start.animation(u)},duration:function(s,u){u=u||F.duration,u="number"==typeof u?u+"ms":u,(u||0===u)&&(w.verbose("Setting animation duration",u),n.css({"animation-duration":u}))},direction:function(s){s=s||w.get.direction(),s==i.inward?w.set.inward():w.set.outward()},looping:function(){w.debug("Transition set to loop"),n.addClass(i.looping)},hidden:function(){n.addClass(i.transition).addClass(i.hidden)},inward:function(){w.debug("Setting direction to inward"),n.removeClass(i.outward).addClass(i.inward)},outward:function(){w.debug("Setting direction to outward"),n.removeClass(i.inward).addClass(i.outward)},visible:function(){n.addClass(i.transition).addClass(i.visible)}},start:{animation:function(s){s=s||w.get.animationClass(),w.debug("Starting tween",s),n.addClass(s).one(x+".complete"+t,w.complete),F.useFailSafe&&w.add.failSafe(),w.set.duration(F.duration),F.onStart.call(this)}},save:{animation:function(s){w.cache||(w.cache={}),w.cache.animation=s},displayType:function(s){"none"!==s&&n.data(k.displayType,s)},transitionExists:function(u,s){h.fn.transition.exists[u]=s,w.verbose("Saving existence of transition",u,s)}},restore:{conditions:function(){var s=w.get.currentAnimation();s&&(n.removeClass(s),w.verbose("Removing animation class",w.cache)),w.remove.duration()}},add:{failSafe:function(){var s=w.get.duration();w.timer=setTimeout(function(){n.triggerHandler(x)},s+F.failSafeDelay),w.verbose("Adding fail safe timer",w.timer)}},remove:{animating:function(){n.removeClass(i.animating)},animationCallbacks:function(){w.remove.queueCallback(),w.remove.completeCallback()},queueCallback:function(){n.off(".queue"+t)},completeCallback:function(){n.off(".complete"+t)},display:function(){n.css("display","")},direction:function(){n.removeClass(i.inward).removeClass(i.outward)},duration:function(){n.css("animation-duration","")},failSafe:function(){w.verbose("Removing fail safe timer",w.timer),w.timer&&clearTimeout(w.timer)},hidden:function(){n.removeClass(i.hidden)},visible:function(){n.removeClass(i.visible)},looping:function(){w.debug("Transitions are no longer looping"),w.is.looping()&&(w.reset(),n.removeClass(i.looping))},transition:function(){n.removeClass(i.visible).removeClass(i.hidden)}},get:{settings:function(u,s,z){return"object"==typeof u?h.extend(!0,{},h.fn.transition.settings,u):"function"==typeof z?h.extend({},h.fn.transition.settings,{animation:u,onComplete:z,duration:s}):"string"==typeof s||"number"==typeof s?h.extend({},h.fn.transition.settings,{animation:u,duration:s}):"object"==typeof s?h.extend({},h.fn.transition.settings,s,{animation:u}):"function"==typeof s?h.extend({},h.fn.transition.settings,{animation:u,onComplete:s}):h.extend({},h.fn.transition.settings,{animation:u})},animationClass:function(u){var z=u||F.animation,s=w.can.transition()&&!w.has.direction()?w.get.direction()+" ":"";return i.animating+" "+i.transition+" "+s+z},currentAnimation:function(){return w.cache.animation||!1},currentDirection:function(){return w.is.inward()?i.inward:i.outward},direction:function(){return w.is.hidden()||!w.is.visible()?i.inward:i.outward},animationDirection:function(u){var s;return u=u||F.animation,"string"==typeof u&&(u=u.split(" "),h.each(u,function(A,z){z===i.inward?s=i.inward:z===i.outward&&(s=i.outward)})),s?s:!1},duration:function(s){return s=s||F.duration,s===!1&&(s=n.css("animation-duration")||0),"string"==typeof s?s.indexOf("ms")>-1?parseFloat(s):1000*parseFloat(s):s},displayType:function(){return F.displayType?F.displayType:(n.data(k.displayType)===f&&w.can.transition(!0),n.data(k.displayType))},userStyle:function(s){return s=s||n.attr("style")||"",s.replace(/display.*?;/,"")},transitionExists:function(s){return h.fn.transition.exists[s]},animationStartEvent:function(){var u,z=g.createElement("div"),s={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(u in s){if(z.style[u]!==f){return s[u]}}return !1},animationEndEvent:function(){var u,z=g.createElement("div"),s={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(u in s){if(z.style[u]!==f){return s[u]}}return !1}},can:{transition:function(B){var A,D,L,K,z,M,u,E=F.animation,s=w.get.transitionExists(E);if(s===f||B){if(w.verbose("Determining whether animation exists"),A=n.attr("class"),D=n.prop("tagName"),L=h("<"+D+" />").addClass(A).insertAfter(n),K=L.addClass(E).removeClass(i.inward).removeClass(i.outward).addClass(i.animating).addClass(i.transition).css("animationName"),z=L.addClass(i.inward).css("animationName"),u=L.attr("class",A).removeAttr("style").removeClass(i.hidden).removeClass(i.visible).show().css("display"),w.verbose("Determining final display state",u),w.save.displayType(u),L.remove(),K!=z){w.debug("Direction exists for animation",E),M=!0}else{if("none"==K||!K){return void w.debug("No animation defined in css",E)}w.debug("Static animation found",E,u),M=!1}w.save.transitionExists(E,M)}return s!==f?s:M},animate:function(){return w.can.transition()!==f}},is:{animating:function(){return n.hasClass(i.animating)},inward:function(){return n.hasClass(i.inward)},outward:function(){return n.hasClass(i.outward)},looping:function(){return n.hasClass(i.looping)},occurring:function(s){return s=s||F.animation,s="."+s.replace(" ","."),n.filter(s).length>0},visible:function(){return n.is(":visible")},hidden:function(){return"hidden"===n.css("visibility")},supported:function(){return x!==!1}},hide:function(){w.verbose("Hiding element"),w.is.animating()&&w.reset(),p.blur(),w.remove.display(),w.remove.visible(),w.set.hidden(),F.onHide.call(this),F.onComplete.call(this),w.force.hidden()},show:function(s){w.verbose("Showing element",s),w.remove.hidden(),w.set.visible(),F.onShow.call(this),F.onComplete.call(this),w.force.visible()},toggle:function(){w.is.visible()?w.hide():w.show()},stop:function(){w.debug("Stopping current animation"),n.triggerHandler(x)},stopAll:function(){w.debug("Stopping all animation"),w.remove.queueCallback(),n.triggerHandler(x)},clear:{queue:function(){w.debug("Clearing animation queue"),w.remove.queueCallback()}},enable:function(){w.verbose("Starting animation"),n.removeClass(i.disabled)},disable:function(){w.debug("Stopping animation"),n.addClass(i.disabled)},setting:function(u,s){if(w.debug("Changing setting",u,s),h.isPlainObject(u)){h.extend(!0,F,u)}else{if(s===f){return F[u]}F[u]=s}},internal:function(u,s){if(h.isPlainObject(u)){h.extend(!0,w,u)}else{if(s===f){return w[u]}w[u]=s}},debug:function(){F.debug&&(F.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,F.name+":"),w.debug.apply(console,arguments)))},verbose:function(){F.verbose&&F.debug&&(F.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,F.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,F.name+":"),w.error.apply(console,arguments)},performance:{log:function(s){var u,A,z;F.performance&&(u=(new Date).getTime(),z=a||u,A=u-z,a=u,d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:p,"Execution Time":A})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var u=F.name+":",s=0;a=!1,clearTimeout(w.performance.timer),h.each(d,function(A,z){s+=z["Execution Time"]}),u+=" "+s+"ms",r&&(u+=" '"+r+"'"),c.length>1&&(u+=" ("+c.length+")"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(u),console.table?console.table(d):h.each(d,function(A,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(s,A,u){var D,E,B,z=j;return A=A||l,u=p||u,"string"==typeof s&&z!==f&&(s=s.split(/[\. ]/),D=s.length-1,h.each(s,function(G,K){var J=G!=D?K+s[G+1].charAt(0).toUpperCase()+s[G+1].slice(1):s;if(h.isPlainObject(z[J])&&G!=D){z=z[J]}else{if(z[J]!==f){return E=z[J],!1}if(!h.isPlainObject(z[K])||G==D){return z[K]!==f?(E=z[K],!1):!1}z=z[K]}})),h.isFunction(E)?B=E.apply(u,A):E!==f&&(B=E),h.isArray(q)?q.push(B):q!==f?q=[q,B]:B!==f&&(q=B),E!==f?E:!1}},w.initialize()}),q!==f?q:this},h.fn.transition.exists={},h.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(h,e,g,f){h.api=h.fn.api=function(o){var q,c=h(h.isFunction(this)?e:this),r=c.selector||"",a=(new Date).getTime(),d=[],n=arguments[0],b="string"==typeof n,l=[].slice.call(arguments,1);return c.each(function(){var i,x,k,m,y,p,v=h.isPlainObject(o)?h.extend(!0,{},h.fn.api.settings,o):h.extend({},h.fn.api.settings),j=v.namespace,O=v.metadata,E=v.selector,P=v.error,C=v.className,w="."+j,U="module-"+j,V=h(this),A=V.closest(E.form),T=v.stateContext?h(v.stateContext):V,S=this,R=T[0],Q=V.data(U);p={initialize:function(){b||p.bind.events(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),Q=p,V.data(U,Q)},destroy:function(){p.verbose("Destroying previous module for",S),V.removeData(U).off(w)},bind:{events:function(){var s=p.get.event();s?(p.verbose("Attaching API events to element",s),V.on(s+w,p.event.trigger)):"now"==v.on&&(p.debug("Querying API now",s),p.query())}},read:{cachedResponse:function(u){var s;if(e.Storage===f){return void p.error(P.noStorage)}if(s=sessionStorage.getItem(u),p.debug("Using cached response",u,s),s!==f){try{s=JSON.parse(s)}catch(t){}return s}return !1}},write:{cachedResponse:function(s,t){return t&&""===t?void p.debug("Response empty, not caching",t):e.Storage===f?void p.error(P.noStorage):(h.isPlainObject(t)&&(t=JSON.stringify(t)),sessionStorage.setItem(s,t),void p.verbose("Storing cached response for url",s,t))}},query:function(){if(p.is.disabled()){return void p.debug("Element is disabled API request aborted")}if(p.is.loading()){if(!v.interruptRequests){return void p.debug("Cancelling request, previous request is still pending")}p.debug("Interrupting previous request"),p.abort()}return v.defaultData&&h.extend(!0,v.urlData,p.get.defaultData()),v.serializeForm&&(v.data=p.add.formData(v.data)),x=p.get.settings(),x===!1?(p.cancelled=!0,void p.error(P.beforeSend)):(p.cancelled=!1,k=p.get.templatedURL(),k||p.is.mocked()?(k=p.add.urlData(k),k||p.is.mocked()?(i=h.extend(!0,{},v,{type:v.method||v.type,data:m,url:v.base+k,beforeSend:v.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),p.debug("Querying URL",i.url),p.verbose("Using AJAX settings",i),"local"===v.cache&&p.read.cachedResponse(k)?(p.debug("Response returned from local cache"),p.request=p.create.request(),void p.request.resolveWith(R,[p.read.cachedResponse(k)])):void (v.throttle?v.throttleFirstRequest||p.timer?(p.debug("Throttling request",v.throttle),clearTimeout(p.timer),p.timer=setTimeout(function(){p.timer&&delete p.timer,p.debug("Sending throttled request",m,i.method),p.send.request()},v.throttle)):(p.debug("Sending request",m,i.method),p.send.request(),p.timer=setTimeout(function(){},v.throttle)):(p.debug("Sending request",m,i.method),p.send.request()))):void 0):void p.error(P.missingURL))},is:{disabled:function(){return V.filter(E.disabled).length>0},form:function(){return V.is("form")},mocked:function(){return v.mockResponse||v.mockResponseAsync},input:function(){return V.is("input")},loading:function(){return p.request&&"pending"==p.request.state()},abortedRequest:function(s){return s&&s.readyState!==f&&0===s.readyState?(p.verbose("XHR request determined to be aborted"),!0):(p.verbose("XHR request was not aborted"),!1)},validResponse:function(s){return"json"===v.dataType&&h.isFunction(v.successTest)?(p.debug("Checking JSON returned success",v.successTest,s),v.successTest(s)?(p.debug("Response passed success test",s),!0):(p.debug("Response failed success test",s),!1)):(p.verbose("Response is not JSON, skipping validation",v.successTest,s),!0)}},was:{cancelled:function(){return p.cancelled||!1},succesful:function(){return p.request&&"resolved"==p.request.state()},failure:function(){return p.request&&"rejected"==p.request.state()},complete:function(){return p.request&&("resolved"==p.request.state()||"rejected"==p.request.state())}},add:{urlData:function(t,z){var s,u;return t&&(s=t.match(v.regExp.required),u=t.match(v.regExp.optional),z=z||v.urlData,s&&(p.debug("Looking for required URL variables",s),h.each(s,function(F,B){var D=-1!==B.indexOf("$")?B.substr(2,B.length-3):B.substr(1,B.length-2),G=h.isPlainObject(z)&&z[D]!==f?z[D]:V.data(D)!==f?V.data(D):T.data(D)!==f?T.data(D):z[D];return G===f?(p.error(P.requiredParameter,D,t),t=!1,!1):(p.verbose("Found required variable",D,G),void (t=t.replace(B,G)))})),u&&(p.debug("Looking for optional URL variables",s),h.each(u,function(F,B){var D=-1!==B.indexOf("$")?B.substr(3,B.length-4):B.substr(2,B.length-3),G=h.isPlainObject(z)&&z[D]!==f?z[D]:V.data(D)!==f?V.data(D):T.data(D)!==f?T.data(D):z[D];G!==f?(p.verbose("Optional variable Found",D,G),t=t.replace(B,G)):(p.verbose("Optional variable not found",D),t=-1!==t.indexOf("/"+B)?t.replace("/"+B,""):t.replace(B,""))}))),t},formData:function(t){var z,s=h.fn.serializeObject!==f,u=s?A.serializeObject():A.serialize();return t=t||v.data,z=h.isPlainObject(t),z?s?(p.debug("Extending existing data with form data",t,u),t=h.extend(!0,{},t,u)):(p.error(P.missingSerialize),p.debug("Cant extend data. Replacing data with form data",t,u),t=u):(p.debug("Adding form data",u),t=u),t}},send:{request:function(){p.set.loading(),p.request=p.create.request(),p.is.mocked()?p.mockedXHR=p.create.mockedXHR():p.xhr=p.create.xhr(),v.onRequest.call(R,p.request,p.xhr)}},event:{trigger:function(s){p.query(),("submit"==s.type||"click"==s.type)&&s.preventDefault()},xhr:{always:function(){},done:function(t,B,u){var D=this,z=(new Date).getTime()-y,s=v.loadingDuration-z,F=h.isFunction(v.onResponse)?v.onResponse.call(D,h.extend(!0,{},t)):!1;s=s>0?s:0,F&&(p.debug("Modified API response in onResponse callback",v.onResponse,F,t),t=F),s>0&&p.debug("Response completed early delaying state change by",s),setTimeout(function(){p.is.validResponse(t)?p.request.resolveWith(D,[t]):p.request.rejectWith(D,[u,"invalid"])},s)},fail:function(D,t,B){var u=this,s=(new Date).getTime()-y,z=v.loadingDuration-s;z=z>0?z:0,z>0&&p.debug("Response completed early delaying state change by",z),setTimeout(function(){p.is.abortedRequest(D)?p.request.rejectWith(u,[D,"aborted",B]):p.request.rejectWith(u,[D,"error",t,B])},z)}},request:{complete:function(s){p.remove.loading(),v.onComplete.call(R,s,V)},done:function(s){p.debug("Successful API Response",s),"local"===v.cache&&k&&(p.write.cachedResponse(k,s),p.debug("Saving server response locally",p.cache)),v.onSuccess.call(R,s,V)},fail:function(z,t,B){var s=h.isPlainObject(z)?z.responseText:!1,u=h.isPlainObject(s)&&s.error!==f?s.error:v.error[t]!==f?v.error[t]:B;"aborted"==t?(p.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,B),v.onAbort.call(R,t,V)):"invalid"==t?p.debug("JSON did not pass success test. A server-side error has most likely occurred",s):"error"==t&&z!==f&&(p.debug("XHR produced a server error",t,B),200!=z.status&&B!==f&&""!==B&&p.error(P.statusMessage+B,i.url),v.onError.call(R,u,V)),v.errorDuration&&"aborted"!==t&&(p.debug("Adding error state"),p.set.error(),setTimeout(p.remove.error,v.errorDuration)),p.debug("API Request failed",u,z),v.onFailure.call(R,s,V)}}},create:{request:function(){return h.Deferred().always(p.event.request.complete).done(p.event.request.done).fail(p.event.request.fail)},mockedXHR:function(){var t,B,u,s=!1,z=!1,D=!1;return u=h.Deferred().always(p.event.xhr.complete).done(p.event.xhr.done).fail(p.event.xhr.fail),v.mockResponse?(h.isFunction(v.mockResponse)?(p.debug("Using mocked callback returning response",v.mockResponse),B=v.mockResponse.call(R,v)):(p.debug("Using specified response",v.mockResponse),B=v.mockResponse),u.resolveWith(R,[B,s,{responseText:B}])):h.isFunction(v.mockResponseAsync)&&(t=function(F){p.debug("Async callback returned response",F),F?u.resolveWith(R,[F,s,{responseText:F}]):u.rejectWith(R,[{responseText:F},z,D])},p.debug("Using async mocked response",v.mockResponseAsync),v.mockResponseAsync.call(R,v,t)),u},xhr:function(){var s;return s=h.ajax(i).always(p.event.xhr.always).done(p.event.xhr.done).fail(p.event.xhr.fail),p.verbose("Created server request",s),s}},set:{error:function(){p.verbose("Adding error state to element",T),T.addClass(C.error)},loading:function(){p.verbose("Adding loading state to element",T),T.addClass(C.loading),y=(new Date).getTime()}},remove:{error:function(){p.verbose("Removing error state from element",T),T.removeClass(C.error)},loading:function(){p.verbose("Removing loading state from element",T),T.removeClass(C.loading)}},get:{request:function(){return p.request||!1},xhr:function(){return p.xhr||!1},settings:function(){var s;return s=v.beforeSend.call(R,v),s&&(s.success!==f&&(p.debug("Legacy success callback detected",s),p.error(P.legacyParameters,s.success),s.onSuccess=s.success),s.failure!==f&&(p.debug("Legacy failure callback detected",s),p.error(P.legacyParameters,s.failure),s.onFailure=s.failure),s.complete!==f&&(p.debug("Legacy complete callback detected",s),p.error(P.legacyParameters,s.complete),s.onComplete=s.complete)),s===f&&p.error(P.noReturnedValue),s!==f?s:v},defaultData:function(){var s={};return h.isWindow(S)||(p.is.input()?s.value=V.val():p.is.form()&&(s.text=V.text())),s},event:function(){return h.isWindow(S)||"now"==v.on?(p.debug("API called without element, no events attached"),!1):"auto"==v.on?V.is("input")?S.oninput!==f?"input":S.onpropertychange!==f?"propertychange":"keyup":V.is("form")?"submit":"click":v.on},templatedURL:function(s){if(s=s||V.data(O.action)||v.action||!1,k=V.data(O.url)||v.url||!1){return p.debug("Using specified url",k),k}if(s){if(p.debug("Looking up url for action",s,v.api),v.api[s]===f&&!p.is.mocked()){return void p.error(P.missingAction,v.action,v.api)}k=v.api[s]}else{p.is.form()&&(k=V.attr("action")||!1,p.debug("No url or action specified, defaulting to form action",k))}return k}},abort:function(){var s=p.get.xhr();s&&"resolved"!==s.state()&&(p.debug("Cancelling API request"),s.abort())},reset:function(){p.remove.error(),p.remove.loading()},setting:function(t,s){if(p.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,v,t)}else{if(s===f){return v[t]}v[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,p,t)}else{if(s===f){return p[t]}p[t]=s}},debug:function(){v.debug&&(v.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,v.name+":"),p.debug.apply(console,arguments)))},verbose:function(){v.verbose&&v.debug&&(v.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,v.name+":"),p.error.apply(console,arguments)},performance:{log:function(s){var t,z,u;v.performance&&(t=(new Date).getTime(),u=a||t,z=t-u,a=t,d.push({Name:s[0],Arguments:[].slice.call(s,1)||"","Execution Time":z})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var t=v.name+":",s=0;a=!1,clearTimeout(p.performance.timer),h.each(d,function(z,u){s+=u["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),(console.group!==f||console.table!==f)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):h.each(d,function(z,u){console.log(u.Name+": "+u["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,B,u){var s,F,D,z=Q;return B=B||l,u=S||u,"string"==typeof t&&z!==f&&(t=t.split(/[\. ]/),s=t.length-1,h.each(t,function(G,H){var I=G!=s?H+t[G+1].charAt(0).toUpperCase()+t[G+1].slice(1):t;if(h.isPlainObject(z[I])&&G!=s){z=z[I]}else{if(z[I]!==f){return F=z[I],!1}if(!h.isPlainObject(z[H])||G==s){return z[H]!==f?(F=z[H],!1):(p.error(P.method,t),!1)}z=z[H]}})),h.isFunction(F)?D=F.apply(u,B):F!==f&&(D=F),h.isArray(q)?q.push(D):q!==f?q=[q,D]:D!==f&&(q=D),F}},b?(Q===f&&p.initialize(),p.invoke(n)):(Q!==f&&Q.invoke("destroy"),p.initialize())}),q!==f?q:this},h.api.settings={name:"API",namespace:"api",debug:!0,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,errorDuration:2000,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,beforeSend:function(a){return a},beforeXHR:function(a){},onRequest:function(a,b){},onResponse:!1,onSuccess:function(a,b){},onComplete:function(a,b){},onFailure:function(a,b){},onError:function(a,b){},onAbort:function(a,b){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching respopnses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(h,e,g,f){h.fn.state=function(b){var q,d=h(this),r=d.selector||"",a=("ontouchstart" in g.documentElement,(new Date).getTime()),l=[],p=arguments[0],c="string"==typeof p,o=[].slice.call(arguments,1);return d.each(function(){var k,j=h.isPlainObject(b)?h.extend(!0,{},h.fn.state.settings,b):h.extend({},h.fn.state.settings),x=j.error,y=j.metadata,v=j.className,C=j.namespace,G=j.states,m=j.text,n="."+C,i=C+"-module",w=h(this),I=this,H=w.data(i);k={initialize:function(){k.verbose("Initializing module"),j.automatic&&k.add.defaults(),j.context&&""!==r?h(j.context).on(r,"mouseenter"+n,k.change.text).on(r,"mouseleave"+n,k.reset.text).on(r,"click"+n,k.toggle.state):w.on("mouseenter"+n,k.change.text).on("mouseleave"+n,k.reset.text).on("click"+n,k.toggle.state),k.instantiate()},instantiate:function(){k.verbose("Storing instance of module",k),H=k,w.data(i,k)},destroy:function(){k.verbose("Destroying previous module",H),w.off(n).removeData(i)},refresh:function(){k.verbose("Refreshing selector cache"),w=h(I)},add:{defaults:function(){var s=b&&h.isPlainObject(b.states)?b.states:{};h.each(j.defaults,function(t,u){k.is[t]!==f&&k.is[t]()&&(k.verbose("Adding default states",t,I),h.extend(j.states,u,s))})}},is:{active:function(){return w.hasClass(v.active)},loading:function(){return w.hasClass(v.loading)},inactive:function(){return !w.hasClass(v.active)},state:function(s){return v[s]===f?!1:w.hasClass(v[s])},enabled:function(){return !w.is(j.filter.active)},disabled:function(){return w.is(j.filter.active)},textEnabled:function(){return !w.is(j.filter.text)},button:function(){return w.is(".button:not(a, .submit)")},input:function(){return w.is("input")},progress:function(){return w.is(".ui.progress")}},allow:function(s){k.debug("Now allowing state",s),G[s]=!0},disallow:function(s){k.debug("No longer allowing",s),G[s]=!1},allows:function(s){return G[s]||!1},enable:function(){w.removeClass(v.disabled)},disable:function(){w.addClass(v.disabled)},setState:function(s){k.allows(s)&&w.addClass(v[s])},removeState:function(s){k.allows(s)&&w.removeClass(v[s])},toggle:{state:function(){var t,s;if(k.allows("active")&&k.is.enabled()){if(k.refresh(),h.fn.api!==f){if(t=w.api("get request"),s=w.api("was cancelled")){k.debug("API Request cancelled by beforesend"),j.activateTest=function(){return !1},j.deactivateTest=function(){return !1}}else{if(t){return void k.listenTo(t)}}}k.change.state()}}},listenTo:function(s){k.debug("API request detected, waiting for state signal",s),s&&(m.loading&&k.update.text(m.loading),h.when(s).then(function(){"resolved"==s.state()?(k.debug("API request succeeded"),j.activateTest=function(){return !0},j.deactivateTest=function(){return !0}):(k.debug("API request failed"),j.activateTest=function(){return !1},j.deactivateTest=function(){return !1}),k.change.state()}))},change:{state:function(){k.debug("Determining state change direction"),k.is.inactive()?k.activate():k.deactivate(),j.sync&&k.sync(),j.onChange.call(I)},text:function(){k.is.textEnabled()&&(k.is.disabled()?(k.verbose("Changing text to disabled text",m.hover),k.update.text(m.disabled)):k.is.active()?m.hover?(k.verbose("Changing text to hover text",m.hover),k.update.text(m.hover)):m.deactivate&&(k.verbose("Changing text to deactivating text",m.deactivate),k.update.text(m.deactivate)):m.hover?(k.verbose("Changing text to hover text",m.hover),k.update.text(m.hover)):m.activate&&(k.verbose("Changing text to activating text",m.activate),k.update.text(m.activate)))}},activate:function(){j.activateTest.call(I)&&(k.debug("Setting state to active"),w.addClass(v.active),k.update.text(m.active),j.onActivate.call(I))},deactivate:function(){j.deactivateTest.call(I)&&(k.debug("Setting state to inactive"),w.removeClass(v.active),k.update.text(m.inactive),j.onDeactivate.call(I))},sync:function(){k.verbose("Syncing other buttons to current state"),d.not(w).state(k.is.active()?"activate":"deactivate")},get:{text:function(){return j.selector.text?w.find(j.selector.text).text():w.html()},textFor:function(s){return m[s]||!1}},flash:{text:function(t,u,z){var s=k.get.text();k.debug("Flashing text message",t,u),t=t||j.text.flash,u=u||j.flashDuration,z=z||function(){},k.update.text(t),setTimeout(function(){k.update.text(s),z.call(I)},u)}},reset:{text:function(){var s=m.active||w.data(y.storedText),t=m.inactive||w.data(y.storedText);k.is.textEnabled()&&(k.is.active()&&s?(k.verbose("Resetting active text",s),k.update.text(s)):t&&(k.verbose("Resetting inactive text",s),k.update.text(t)))}},update:{text:function(s){var t=k.get.text();s&&s!==t?(k.debug("Updating text",s),j.selector.text?w.data(y.storedText,s).find(j.selector.text).text(s):w.data(y.storedText,s).html(s)):k.debug("Text is already set, ignoring update",s)}},setting:function(t,s){if(k.debug("Changing setting",t,s),h.isPlainObject(t)){h.extend(!0,j,t)}else{if(s===f){return j[t]}j[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,k,t)}else{if(s===f){return k[t]}k[t]=s}},debug:function(){j.debug&&(j.performance?k.performance.log(arguments):(k.debug=Function.prototype.bind.call(console.info,console,j.name+":"),k.debug.apply(console,arguments)))},verbose:function(){j.verbose&&j.debug&&(j.performance?k.performance.log(arguments):(k.verbose=Function.prototype.bind.call(console.info,console,j.name+":"),k.verbose.apply(console,arguments)))},error:function(){k.error=Function.prototype.bind.call(console.error,console,j.name+":"),k.error.apply(console,arguments)},performance:{log:function(t){var u,z,s;j.performance&&(u=(new Date).getTime(),s=a||u,z=u-s,a=u,l.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:I,"Execution Time":z})),clearTimeout(k.performance.timer),k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var t=j.name+":",s=0;a=!1,clearTimeout(k.performance.timer),h.each(l,function(u,z){s+=z["Execution Time"]}),t+=" "+s+"ms",r&&(t+=" '"+r+"'"),(console.group!==f||console.table!==f)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):h.each(l,function(u,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(s,u,B){var D,z,A,t=H;return u=u||o,B=I||B,"string"==typeof s&&t!==f&&(s=s.split(/[\. ]/),D=s.length-1,h.each(s,function(E,K){var F=E!=D?K+s[E+1].charAt(0).toUpperCase()+s[E+1].slice(1):s;if(h.isPlainObject(t[F])&&E!=D){t=t[F]}else{if(t[F]!==f){return z=t[F],!1}if(!h.isPlainObject(t[K])||E==D){return t[K]!==f?(z=t[K],!1):(k.error(x.method,s),!1)}t=t[K]}})),h.isFunction(z)?A=z.apply(B,u):z!==f&&(A=z),h.isArray(q)?q.push(A):q!==f?q=[q,A]:A!==f&&(q=A),z}},c?(H===f&&k.initialize(),k.invoke(p)):(H!==f&&H.invoke("destroy"),k.initialize())}),q!==f?q:this},h.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return !0},deactivateTest:function(){return !0},automatic:!0,sync:!1,flashDuration:1000,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(h,e,g,f){h.fn.visibility=function(q){var c,r=h(this),a=r.selector||"",d=(new Date).getTime(),m=[],b=arguments[0],l="string"==typeof b,o=[].slice.call(arguments,1);return r.each(function(){var v,O,Q,n=h.isPlainObject(q)?h.extend(!0,{},h.fn.visibility.settings,q):h.extend({},h.fn.visibility.settings),x=n.className,k=n.namespace,C=n.error,M=n.metadata,A="."+k,p="module-"+k,y=h(e),N=h(this),L=h(n.context),P=(N.selector||"",N.data(p)),j=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)},w=this,i=!1;Q={initialize:function(){Q.debug("Initializing",n),Q.setup.cache(),Q.should.trackChanges()&&("image"==n.type&&Q.setup.image(),"fixed"==n.type&&Q.setup.fixed(),n.observeChanges&&Q.observeChanges(),Q.bind.events()),Q.save.position(),Q.is.visible()||Q.error(C.visible,N),n.initialCheck&&Q.checkVisibility(),Q.instantiate()},instantiate:function(){Q.debug("Storing instance",Q),N.data(p,Q),P=Q},destroy:function(){Q.verbose("Destroying previous module"),O&&O.disconnect(),y.off("load"+A,Q.event.load).off("resize"+A,Q.event.resize),L.off("scrollchange"+A,Q.event.scrollchange),N.off(A).removeData(p)},observeChanges:function(){"MutationObserver" in e&&(O=new MutationObserver(function(s){Q.verbose("DOM tree modified, updating visibility calculations"),Q.timer=setTimeout(function(){Q.verbose("DOM tree modified, updating sticky menu"),Q.refresh()},100)}),O.observe(w,{childList:!0,subtree:!0}),Q.debug("Setting up mutation observer",O))},bind:{events:function(){Q.verbose("Binding visibility events to scroll and resize"),n.refreshOnLoad&&y.on("load"+A,Q.event.load),y.on("resize"+A,Q.event.resize),L.off("scroll"+A).on("scroll"+A,Q.event.scroll).on("scrollchange"+A,Q.event.scrollchange)}},event:{resize:function(){Q.debug("Window resized"),n.refreshOnResize&&j(Q.refresh)},load:function(){Q.debug("Page finished loading"),j(Q.refresh)},scroll:function(){n.throttle?(clearTimeout(Q.timer),Q.timer=setTimeout(function(){L.triggerHandler("scrollchange"+A,[L.scrollTop()])},n.throttle)):j(function(){L.triggerHandler("scrollchange"+A,[L.scrollTop()])})},scrollchange:function(s,t){Q.checkVisibility(t)}},precache:function(u,z){u instanceof Array||(u=[u]);for(var D=u.length,B=0,t=[],E=g.createElement("img"),s=function(){B++,B>=u.length&&h.isFunction(z)&&z()};D--;){E=g.createElement("img"),E.onload=s,E.onerror=s,E.src=u[D],t.push(E)}},enableCallbacks:function(){Q.debug("Allowing callbacks to occur"),i=!1},disableCallbacks:function(){Q.debug("Disabling all callbacks temporarily"),i=!0},should:{trackChanges:function(){return l?(Q.debug("One time query, no need to bind events"),!1):(Q.debug("Callbacks being attached"),!0)}},setup:{cache:function(){Q.cache={occurred:{},screen:{},element:{}}},image:function(){var s=N.data(M.src);s&&(Q.verbose("Lazy loading image",s),n.once=!0,n.observeChanges=!1,n.onOnScreen=function(){Q.debug("Image on screen",w),Q.precache(s,function(){Q.set.image(s)})})},fixed:function(){Q.debug("Setting up fixed"),n.once=!1,n.observeChanges=!1,n.initialCheck=!0,n.refreshOnLoad=!0,q.transition||(n.transition=!1),Q.create.placeholder(),Q.debug("Added placeholder",v),n.onTopPassed=function(){Q.debug("Element passed, adding fixed position",N),Q.show.placeholder(),Q.set.fixed(),n.transition&&h.fn.transition!==f&&N.transition(n.transition,n.duration)},n.onTopPassedReverse=function(){Q.debug("Element returned to position, removing fixed",N),Q.hide.placeholder(),Q.remove.fixed()}}},create:{placeholder:function(){Q.verbose("Creating fixed position placeholder"),v=N.clone(!1).css("display","none").addClass(x.placeholder).insertAfter(N)}},show:{placeholder:function(){Q.verbose("Showing placeholder"),v.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){Q.verbose("Hiding placeholder"),v.css("display","none").css("visibility","")}},set:{fixed:function(){Q.verbose("Setting element to fixed position"),N.addClass(x.fixed).css({position:"fixed",top:n.offset+"px",left:"auto",zIndex:"1"})},image:function(s){N.attr("src",s),n.transition?h.fn.transition!==f?N.transition(n.transition,n.duration):N.fadeIn(n.duration):N.show()}},is:{onScreen:function(){var s=Q.get.elementCalculations();return s.onScreen},offScreen:function(){var s=Q.get.elementCalculations();return s.offScreen},visible:function(){return Q.cache&&Q.cache.element?!(0===Q.cache.element.width&&0===Q.cache.element.offset.top):!1}},refresh:function(){Q.debug("Refreshing constants (width/height)"),"fixed"==n.type&&(Q.remove.fixed(),Q.remove.occurred()),Q.reset(),Q.save.position(),n.checkOnRefresh&&Q.checkVisibility(),n.onRefresh.call(w)},reset:function(){Q.verbose("Reseting all cached values"),h.isPlainObject(Q.cache)&&(Q.cache.screen={},Q.cache.element={})},checkVisibility:function(s){Q.verbose("Checking visibility of element",Q.cache.element),!i&&Q.is.visible()&&(Q.save.scroll(s),Q.save.calculations(),Q.passed(),Q.passingReverse(),Q.topVisibleReverse(),Q.bottomVisibleReverse(),Q.topPassedReverse(),Q.bottomPassedReverse(),Q.onScreen(),Q.offScreen(),Q.passing(),Q.topVisible(),Q.bottomVisible(),Q.topPassed(),Q.bottomPassed(),n.onUpdate&&n.onUpdate.call(w,Q.get.elementCalculations()))},passed:function(u,s){var t=Q.get.elementCalculations();if(u&&s){n.onPassed[u]=s}else{if(u!==f){return Q.get.pixelsPassed(u)>t.pixelsPassed}t.passing&&h.each(n.onPassed,function(B,z){t.bottomVisible||t.pixelsPassed>Q.get.pixelsPassed(B)?Q.execute(z,B):n.once||Q.remove.occurred(z)})}},onScreen:function(u){var z=Q.get.elementCalculations(),s=u||n.onOnScreen,t="onScreen";return u&&(Q.debug("Adding callback for onScreen",u),n.onOnScreen=u),z.onScreen?Q.execute(s,t):n.once||Q.remove.occurred(t),u!==f?z.onOnScreen:void 0},offScreen:function(u){var z=Q.get.elementCalculations(),s=u||n.onOffScreen,t="offScreen";return u&&(Q.debug("Adding callback for offScreen",u),n.onOffScreen=u),z.offScreen?Q.execute(s,t):n.once||Q.remove.occurred(t),u!==f?z.onOffScreen:void 0},passing:function(u){var z=Q.get.elementCalculations(),s=u||n.onPassing,t="passing";return u&&(Q.debug("Adding callback for passing",u),n.onPassing=u),z.passing?Q.execute(s,t):n.once||Q.remove.occurred(t),u!==f?z.passing:void 0},topVisible:function(u){var z=Q.get.elementCalculations(),s=u||n.onTopVisible,t="topVisible";return u&&(Q.debug("Adding callback for top visible",u),n.onTopVisible=u),z.topVisible?Q.execute(s,t):n.once||Q.remove.occurred(t),u===f?z.topVisible:void 0},bottomVisible:function(u){var z=Q.get.elementCalculations(),s=u||n.onBottomVisible,t="bottomVisible";return u&&(Q.debug("Adding callback for bottom visible",u),n.onBottomVisible=u),z.bottomVisible?Q.execute(s,t):n.once||Q.remove.occurred(t),u===f?z.bottomVisible:void 0},topPassed:function(u){var z=Q.get.elementCalculations(),s=u||n.onTopPassed,t="topPassed";return u&&(Q.debug("Adding callback for top passed",u),n.onTopPassed=u),z.topPassed?Q.execute(s,t):n.once||Q.remove.occurred(t),u===f?z.topPassed:void 0},bottomPassed:function(u){var z=Q.get.elementCalculations(),s=u||n.onBottomPassed,t="bottomPassed";return u&&(Q.debug("Adding callback for bottom passed",u),n.onBottomPassed=u),z.bottomPassed?Q.execute(s,t):n.once||Q.remove.occurred(t),u===f?z.bottomPassed:void 0},passingReverse:function(u){var z=Q.get.elementCalculations(),s=u||n.onPassingReverse,t="passingReverse";return u&&(Q.debug("Adding callback for passing reverse",u),n.onPassingReverse=u),z.passing?n.once||Q.remove.occurred(t):Q.get.occurred("passing")&&Q.execute(s,t),u!==f?!z.passing:void 0},topVisibleReverse:function(u){var z=Q.get.elementCalculations(),s=u||n.onTopVisibleReverse,t="topVisibleReverse";return u&&(Q.debug("Adding callback for top visible reverse",u),n.onTopVisibleReverse=u),z.topVisible?n.once||Q.remove.occurred(t):Q.get.occurred("topVisible")&&Q.execute(s,t),u===f?!z.topVisible:void 0},bottomVisibleReverse:function(u){var z=Q.get.elementCalculations(),s=u||n.onBottomVisibleReverse,t="bottomVisibleReverse";return u&&(Q.debug("Adding callback for bottom visible reverse",u),n.onBottomVisibleReverse=u),z.bottomVisible?n.once||Q.remove.occurred(t):Q.get.occurred("bottomVisible")&&Q.execute(s,t),u===f?!z.bottomVisible:void 0},topPassedReverse:function(u){var z=Q.get.elementCalculations(),s=u||n.onTopPassedReverse,t="topPassedReverse";return u&&(Q.debug("Adding callback for top passed reverse",u),n.onTopPassedReverse=u),z.topPassed?n.once||Q.remove.occurred(t):Q.get.occurred("topPassed")&&Q.execute(s,t),u===f?!z.onTopPassed:void 0},bottomPassedReverse:function(u){var z=Q.get.elementCalculations(),s=u||n.onBottomPassedReverse,t="bottomPassedReverse";return u&&(Q.debug("Adding callback for bottom passed reverse",u),n.onBottomPassedReverse=u),z.bottomPassed?n.once||Q.remove.occurred(t):Q.get.occurred("bottomPassed")&&Q.execute(s,t),u===f?!z.bottomPassed:void 0},execute:function(t,u){var s=Q.get.elementCalculations(),z=Q.get.screenCalculations();t=t||!1,t&&(n.continuous?(Q.debug("Callback being called continuously",u,s),t.call(w,s,z)):Q.get.occurred(u)||(Q.debug("Conditions met",u,s),t.call(w,s,z))),Q.save.occurred(u)},remove:{fixed:function(){Q.debug("Removing fixed position"),N.removeClass(x.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(s){if(s){var t=Q.cache.occurred;t[s]!==f&&t[s]===!0&&(Q.debug("Callback can now be called again",s),Q.cache.occurred[s]=!1)}else{Q.cache.occurred={}}}},save:{calculations:function(){Q.verbose("Saving all calculations necessary to determine positioning"),Q.save.direction(),Q.save.screenCalculations(),Q.save.elementCalculations()},occurred:function(s){s&&(Q.cache.occurred[s]===f||Q.cache.occurred[s]!==!0)&&(Q.verbose("Saving callback occurred",s),Q.cache.occurred[s]=!0)},scroll:function(s){s=s+n.offset||L.scrollTop()+n.offset,Q.cache.scroll=s},direction:function(){var t,u=Q.get.scroll(),s=Q.get.lastScroll();return t=u>s&&s?"down":s>u&&s?"up":"static",Q.cache.direction=t,Q.cache.direction},elementPosition:function(){var s=Q.cache.element,t=Q.get.screenSize();return Q.verbose("Saving element position"),s.fits=s.height<t.height,s.offset=N.offset(),s.width=N.outerWidth(),s.height=N.outerHeight(),Q.cache.element=s,s},elementCalculations:function(){var s=Q.get.screenCalculations(),t=Q.get.elementPosition();return n.includeMargin?(t.margin={},t.margin.top=parseInt(N.css("margin-top"),10),t.margin.bottom=parseInt(N.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=s.bottom>=t.top,t.topPassed=s.top>=t.top,t.bottomVisible=s.bottom>=t.bottom,t.bottomPassed=s.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=s.top-t.top,t.percentagePassed=(s.top-t.top)/t.height),Q.cache.element=t,Q.verbose("Updated element calculations",t),t},screenCalculations:function(){var s=Q.get.scroll();return Q.save.direction(),Q.cache.screen.top=s,Q.cache.screen.bottom=s+Q.cache.screen.height,Q.cache.screen},screenSize:function(){Q.verbose("Saving window position"),Q.cache.screen={height:L.height()}},position:function(){Q.save.screenSize(),Q.save.elementPosition()}},get:{pixelsPassed:function(s){var t=Q.get.elementCalculations();return s.search("%")>-1?t.height*(parseInt(s,10)/100):parseInt(s,10)},occurred:function(s){return Q.cache.occurred!==f?Q.cache.occurred[s]||!1:!1},direction:function(){return Q.cache.direction===f&&Q.save.direction(),Q.cache.direction},elementPosition:function(){return Q.cache.element===f&&Q.save.elementPosition(),Q.cache.element},elementCalculations:function(){return Q.cache.element===f&&Q.save.elementCalculations(),Q.cache.element},screenCalculations:function(){return Q.cache.screen===f&&Q.save.screenCalculations(),Q.cache.screen},screenSize:function(){return Q.cache.screen===f&&Q.save.screenSize(),Q.cache.screen},scroll:function(){return Q.cache.scroll===f&&Q.save.scroll(),Q.cache.scroll},lastScroll:function(){return Q.cache.screen===f?(Q.debug("First scroll event, no last scroll could be found"),!1):Q.cache.screen.top}},setting:function(t,s){if(h.isPlainObject(t)){h.extend(!0,n,t)}else{if(s===f){return n[t]}n[t]=s}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(!0,Q,t)}else{if(s===f){return Q[t]}Q[t]=s}},debug:function(){n.debug&&(n.performance?Q.performance.log(arguments):(Q.debug=Function.prototype.bind.call(console.info,console,n.name+":"),Q.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?Q.performance.log(arguments):(Q.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),Q.verbose.apply(console,arguments)))},error:function(){Q.error=Function.prototype.bind.call(console.error,console,n.name+":"),Q.error.apply(console,arguments)},performance:{log:function(t){var u,s,z;n.performance&&(u=(new Date).getTime(),z=d||u,s=u-z,d=u,m.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:w,"Execution Time":s})),clearTimeout(Q.performance.timer),Q.performance.timer=setTimeout(Q.performance.display,500)},display:function(){var t=n.name+":",s=0;d=!1,clearTimeout(Q.performance.timer),h.each(m,function(u,z){s+=z["Execution Time"]}),t+=" "+s+"ms",a&&(t+=" '"+a+"'"),(console.group!==f||console.table!==f)&&m.length>0&&(console.groupCollapsed(t),console.table?console.table(m):h.each(m,function(u,z){console.log(z.Name+": "+z["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(z,u,t){var E,s,D,B=P;return u=u||o,t=w||t,"string"==typeof z&&B!==f&&(z=z.split(/[\. ]/),E=z.length-1,h.each(z,function(G,H){var F=G!=E?H+z[G+1].charAt(0).toUpperCase()+z[G+1].slice(1):z;if(h.isPlainObject(B[F])&&G!=E){B=B[F]}else{if(B[F]!==f){return s=B[F],!1}if(!h.isPlainObject(B[H])||G==E){return B[H]!==f?(s=B[H],!1):(Q.error(C.method,z),!1)}B=B[H]}})),h.isFunction(s)?D=s.apply(t,u):s!==f&&(D=s),h.isArray(c)?c.push(D):c!==f?c=[c,D]:D!==f&&(c=D),s}},l?(P===f&&Q.initialize(),P.save.scroll(),P.save.calculations(),Q.invoke(b)):(P!==f&&P.invoke("destroy"),Q.initialize())}),c!==f?c:this},h.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,refreshOnLoad:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:e,initialCheck:!0,throttle:!1,type:!1,transition:"fade in",duration:1000,onPassed:{},checkOnRefresh:!0,onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);
/*!
 * # Semantic UI x.x - Site
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.site=h.fn.site=function(G){var C=new Date().getTime(),b=[],d=arguments[0],E=(typeof d=="string"),H=[].slice.call(arguments,1),A=(h.isPlainObject(G))?h.extend(true,{},h.site.settings,G):h.extend({},h.site.settings),z=A.namespace,v=A.error,F="."+z,w="module-"+z,y=h(f),c=y,x=this,a=c.data(w),D,B;D={initialize:function(){D.instantiate()},instantiate:function(){D.verbose("Storing instance of site",D);a=D;c.data(w,D)},normalize:function(){D.fix.console();D.fix.requestAnimationFrame()},fix:{console:function(){D.debug("Normalizing window.console");if(console===g||console.log===g){D.verbose("Console not available, normalizing events");D.disable.console()}if(typeof console.group=="undefined"||typeof console.groupEnd=="undefined"||typeof console.groupCollapsed=="undefined"){D.verbose("Console group not available, normalizing events");e.console.group=function(){};e.console.groupEnd=function(){};e.console.groupCollapsed=function(){}}if(typeof console.markTimeline=="undefined"){D.verbose("Mark timeline not available, normalizing events");e.console.markTimeline=function(){}}},consoleClear:function(){D.debug("Disabling programmatic console clearing");e.console.clear=function(){}},requestAnimationFrame:function(){D.debug("Normalizing requestAnimationFrame");if(e.requestAnimationFrame===g){D.debug("RequestAnimationFrame not available, normailizing event");e.requestAnimationFrame=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)}}}},moduleExists:function(i){return(h.fn[i]!==g&&h.fn[i].settings!==g)},enabled:{modules:function(i){var j=[];i=i||A.modules;h.each(i,function(l,k){if(D.moduleExists(k)){j.push(k)}});return j}},disabled:{modules:function(j){var i=[];j=j||A.modules;h.each(j,function(l,k){if(!D.moduleExists(k)){i.push(k)}});return i}},change:{setting:function(i,l,j,k){j=(typeof j==="string")?(j==="all")?A.modules:[j]:j||A.modules;k=(k!==g)?k:true;h.each(j,function(m,o){var p=(D.moduleExists(o))?h.fn[o].settings.namespace||false:true,n;if(D.moduleExists(o)){D.verbose("Changing default setting",i,l,o);h.fn[o].settings[i]=l;if(k&&p){n=h(":data(module-"+p+")");if(n.length>0){D.verbose("Modifying existing settings",n);n[o]("setting",i,l)}}}})},settings:function(k,i,j){i=(typeof i==="string")?[i]:i||A.modules;j=(j!==g)?j:true;h.each(i,function(m,n){var l;if(D.moduleExists(n)){D.verbose("Changing default setting",k,n);h.extend(true,h.fn[n].settings,k);if(j&&z){l=h(":data(module-"+z+")");if(l.length>0){D.verbose("Modifying existing settings",l);l[n]("setting",k)}}}})}},enable:{console:function(){D.console(true)},debug:function(i,j){i=i||A.modules;D.debug("Enabling debug for modules",i);D.change.setting("debug",true,i,j)},verbose:function(i,j){i=i||A.modules;D.debug("Enabling verbose debug for modules",i);D.change.setting("verbose",true,i,j)}},disable:{console:function(){D.console(false)},debug:function(i,j){i=i||A.modules;D.debug("Disabling debug for modules",i);D.change.setting("debug",false,i,j)},verbose:function(i,j){i=i||A.modules;D.debug("Disabling verbose debug for modules",i);D.change.setting("verbose",false,i,j)}},console:function(i){if(i){if(a.cache.console===g){D.error(v.console);return}D.debug("Restoring console function");e.console=a.cache.console}else{D.debug("Disabling console function");a.cache.console=e.console;e.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}}},destroy:function(){D.verbose("Destroying previous site for",c);c.removeData(w)},cache:{},setting:function(j,i){if(h.isPlainObject(j)){h.extend(true,A,j)}else{if(i!==g){A[j]=i}else{return A[j]}}},internal:function(j,i){if(h.isPlainObject(j)){h.extend(true,D,j)}else{if(i!==g){D[j]=i}else{return D[j]}}},debug:function(){if(A.debug){if(A.performance){D.performance.log(arguments)}else{D.debug=Function.prototype.bind.call(console.info,console,A.name+":");D.debug.apply(console,arguments)}}},verbose:function(){if(A.verbose&&A.debug){if(A.performance){D.performance.log(arguments)}else{D.verbose=Function.prototype.bind.call(console.info,console,A.name+":");D.verbose.apply(console,arguments)}}},error:function(){D.error=Function.prototype.bind.call(console.error,console,A.name+":");D.error.apply(console,arguments)},performance:{log:function(i){var j,l,k;if(A.performance){j=new Date().getTime();k=C||j;l=j-k;C=j;b.push({Element:x,Name:i[0],Arguments:[].slice.call(i,1)||"","Execution Time":l})}clearTimeout(D.performance.timer);D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var i=A.name+":",j=0;C=false;clearTimeout(D.performance.timer);h.each(b,function(k,l){j+=l["Execution Time"]});i+=" "+j+"ms";if((console.group!==g||console.table!==g)&&b.length>0){console.groupCollapsed(i);if(console.table){console.table(b)}else{h.each(b,function(k,l){console.log(l.Name+": "+l["Execution Time"]+"ms")})}console.groupEnd()}b=[]}},invoke:function(j,k,o){var i=a,n,m,l;k=k||H;o=x||o;if(typeof j=="string"&&i!==g){j=j.split(/[\. ]/);n=j.length-1;h.each(j,function(p,q){var r=(p!=n)?q+j[p+1].charAt(0).toUpperCase()+j[p+1].slice(1):j;if(h.isPlainObject(i[r])&&(p!=n)){i=i[r]}else{if(i[r]!==g){m=i[r];return false}else{if(h.isPlainObject(i[q])&&(p!=n)){i=i[q]}else{if(i[q]!==g){m=i[q];return false}else{D.error(v.method,j);return false}}}}})}if(h.isFunction(m)){l=m.apply(o,k)}else{if(m!==g){l=m}}if(h.isArray(B)){B.push(l)}else{if(B!==g){B=[B,l]}else{if(l!==g){B=l}}}return m}};if(E){if(a===g){D.initialize()}D.invoke(d)}else{if(a!==g){D.destroy()}D.initialize()}return(B!==g)?B:this};h.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:false,verbose:false,performance:true,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}};h.extend(h.expr[":"],{data:(h.expr.createPseudo)?h.expr.createPseudo(function(a){return function(b){return !!h.data(b,a)}}):function(a,b,c){return !!h.data(a,c[3])}})})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Form Validation
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.form=function(a){var c=h(this),p=c.selector||"",s=new Date().getTime(),d=[],o=arguments[0],q=arguments[1],t=(typeof o=="string"),b=[].slice.call(arguments,1),r;c.each(function(){var Q=h(this),Y=this,n=[],U=false,V,k,l,S,X,R,m,N,O,K,P,W,T,M,j,i,L,Z;Z={initialize:function(){Z.get.settings();if(t){if(L===g){Z.instantiate()}Z.invoke(o)}else{Z.verbose("Initializing form validation",Q,N);Z.bindEvents();Z.set.defaults();Z.instantiate()}},instantiate:function(){Z.verbose("Storing instance of module",Z);L=Z;Q.data(j,Z)},destroy:function(){Z.verbose("Destroying previous module",L);Z.removeEvents();Q.removeData(j)},refresh:function(){Z.verbose("Refreshing selector cache");V=Q.find(P.field);k=Q.find(P.group);l=Q.find(P.message);S=Q.find(P.prompt);X=Q.find(P.submit);R=Q.find(P.clear);m=Q.find(P.reset)},submit:function(){Z.verbose("Submitting form",Q);Q.submit()},attachEvents:function(v,u){u=u||"submit";h(v).on("click"+i,function(w){Z[u]();w.preventDefault()})},bindEvents:function(){Z.verbose("Attaching form events");Q.on("submit"+i,Z.validate.form).on("blur"+i,P.field,Z.event.field.blur).on("click"+i,P.submit,Z.submit).on("click"+i,P.reset,Z.reset).on("click"+i,P.clear,Z.clear);if(N.keyboardShortcuts){Q.on("keydown"+i,P.field,Z.event.field.keydown)}V.each(function(){var w=h(this),v=w.prop("type"),u=Z.get.changeEvent(v,w);h(this).on(u+i,Z.event.field.change)})},clear:function(){V.each(function(){var z=h(this),u=z.parent(),y=z.closest(k),B=y.find(P.prompt),v=z.data(K.defaultValue)||"",A=u.is(P.uiCheckbox),x=u.is(P.uiDropdown),w=y.hasClass(W.error);if(w){Z.verbose("Resetting error on field",y);y.removeClass(W.error);B.remove()}if(x){Z.verbose("Resetting dropdown value",u,v);u.dropdown("clear")}else{if(A){z.prop("checked",false)}else{Z.verbose("Resetting field value",z,v);z.val("")}}})},reset:function(){V.each(function(){var z=h(this),u=z.parent(),y=z.closest(k),B=y.find(P.prompt),v=z.data(K.defaultValue),A=u.is(P.uiCheckbox),x=u.is(P.uiDropdown),w=y.hasClass(W.error);if(v===g){return}if(w){Z.verbose("Resetting error on field",y);y.removeClass(W.error);B.remove()}if(x){Z.verbose("Resetting dropdown value",u,v);u.dropdown("restore defaults")}else{if(A){Z.verbose("Resetting checkbox value",u,v);z.prop("checked",v)}else{Z.verbose("Resetting field value",z,v);z.val(v)}}})},is:{valid:function(){var u=true;Z.verbose("Checking if form is valid");h.each(O,function(w,v){if(!(Z.validate.field(v))){u=false}});return u}},removeEvents:function(){Q.off(i);V.off(i);X.off(i);V.off(i)},event:{field:{keydown:function(x){var u=h(this),v=x.which,w={enter:13,escape:27};if(v==w.escape){Z.verbose("Escape key pressed blurring field");u.blur()}if(!x.ctrlKey&&v==w.enter&&u.is(P.input)&&u.not(P.checkbox).length>0){if(!U){u.one("keyup"+i,Z.event.field.keyup);Z.submit();Z.debug("Enter pressed on input submitting form")}U=true}},keyup:function(){U=false},blur:function(){var u=h(this),w=u.closest(k),v=Z.get.validation(u);if(w.hasClass(W.error)){Z.debug("Revalidating field",u,v);Z.validate.field(v)}else{if(N.on=="blur"||N.on=="change"){Z.validate.field(v)}}},change:function(){var v=h(this),u=v.closest(k);if(N.on=="change"||(u.hasClass(W.error)&&N.revalidate)){clearTimeout(Z.timer);Z.timer=setTimeout(function(){Z.debug("Revalidating field",v,Z.get.validation(v));Z.validate.field(Z.get.validation(v))},N.delay)}}}},get:{changeEvent:function(v,u){if(v=="checkbox"||v=="radio"||v=="hidden"||u.is("select")){return"change"}else{return Z.get.inputEvent()}},inputEvent:function(){return(f.createElement("input").oninput!==g)?"input":(f.createElement("input").onpropertychange!==g)?"propertychange":"keyup"},settings:function(){var u;if(h.isPlainObject(a)){var w=Object.keys(a),v=(w.length>0)?(a[w[0]].identifier!==g):false;if(v){N=h.extend(true,{},h.fn.form.settings,q);O=h.extend({},h.fn.form.settings.defaults,a);Z.error(N.error.oldSyntax,Y);Z.verbose("Extending settings from legacy parameters",O,N)}else{N=h.extend(true,{},h.fn.form.settings,a);O=h.extend({},h.fn.form.settings.defaults,N.fields);Z.verbose("Extending settings",O,N)}}else{N=h.fn.form.settings;O=h.fn.form.settings.defaults;Z.verbose("Using default form validation",O,N)}M=N.namespace;K=N.metadata;P=N.selector;W=N.className;T=N.error;j="module-"+M;i="."+M;L=Q.data(j);Z.refresh()},field:function(u){Z.verbose("Finding field with identifier",u);if(V.filter("#"+u).length>0){return V.filter("#"+u)}else{if(V.filter('[name="'+u+'"]').length>0){return V.filter('[name="'+u+'"]')}else{if(V.filter('[name="'+u+'[]"]').length>0){return V.filter('[name="'+u+'[]"]')}else{if(V.filter("[data-"+K.validate+'="'+u+'"]').length>0){return V.filter("[data-"+K.validate+'="'+u+'"]')}}}}return h("<input/>")},fields:function(v){var u=h();h.each(v,function(w,x){u=u.add(Z.get.field(x))});return u},validation:function(v){var u;if(!O){return false}h.each(O,function(w,x){if(Z.get.field(x.identifier)[0]==v[0]){u=x}});return u||false},value:function(w){var v=[],u;v.push(w);u=Z.get.values.call(Y,v);return u[w]},values:function(v){var w=h.isArray(v)?Z.get.fields(v):V,u={};w.each(function(B,y){var z=h(y),A=z.prop("type"),F=z.prop("name"),x=z.val(),E=z.is(P.checkbox),G=z.is(P.radio),C=(F.indexOf("[]")!==-1),D=(E)?z.is(":checked"):false;if(F){if(C){F=F.replace("[]","");if(!u[F]){u[F]=[]}if(E){if(D){u[F].push(x)}else{Z.debug("Omitted unchecked checkbox",z);return true}}else{u[F].push(x)}}else{if(G){if(D){u[F]=x}}else{if(E){if(D){u[F]=true}else{Z.debug("Omitted unchecked checkbox",z);return true}}else{u[F]=x}}}}});return u}},has:{field:function(u){Z.verbose("Checking for existence of a field with identifier",u);if(V.filter("#"+u).length>0){return true}else{if(V.filter('[name="'+u+'"]').length>0){return true}else{if(V.filter("[data-"+K.validate+'="'+u+'"]').length>0){return true}}}return false}},add:{prompt:function(z,w){var y=Z.get.field(z),x=y.closest(k),u=x.children(P.prompt),v=(u.length!==0);w=(typeof w=="string")?[w]:w;Z.verbose("Adding field error state",z);x.addClass(W.error);if(N.inline){if(!v){u=N.templates.prompt(w);u.appendTo(x)}u.html(w[0]);if(!v){if(N.transition&&h.fn.transition!==g&&Q.transition("is supported")){Z.verbose("Displaying error with css transition",N.transition);u.transition(N.transition+" in",N.duration)}else{Z.verbose("Displaying error with fallback javascript animation");u.fadeIn(N.duration)}}else{Z.verbose("Inline errors are disabled, no inline error added",z)}}},errors:function(u){Z.debug("Adding form error messages",u);l.html(N.templates.error(u))}},remove:{prompt:function(w){var u=Z.get.field(w.identifier),x=u.closest(k),v=x.children(P.prompt);x.removeClass(W.error);if(N.inline&&v.is(":visible")){Z.verbose("Removing prompt for field",w);if(N.transition&&h.fn.transition!==g&&Q.transition("is supported")){v.transition(N.transition+" out",N.duration,function(){v.remove()})}else{v.fadeOut(N.duration,function(){v.remove()})}}}},set:{success:function(){Q.removeClass(W.error).addClass(W.success)},defaults:function(){V.each(function(){var u=h(this),v=(u.filter(P.checkbox).length>0),w=(v)?u.is(":checked"):u.val();u.data(K.defaultValue,w)})},error:function(){Q.removeClass(W.success).addClass(W.error)},value:function(w,u){var v={};v[w]=u;return Z.set.values.call(Y,v)},values:function(u){if(h.isEmptyObject(u)){return}h.each(u,function(w,x){var z=Z.get.field(w),v=z.parent(),C=h.isArray(x),D=v.is(P.uiCheckbox),A=v.is(P.uiDropdown),E=(z.is(P.radio)&&D),y=(z.length>0),B;if(y){if(C&&D){Z.verbose("Selecting multiple",x,z);v.checkbox("uncheck");h.each(x,function(G,F){B=z.filter('[value="'+F+'"]');v=B.parent();if(B.length>0){v.checkbox("check")}})}else{if(E){Z.verbose("Selecting radio value",x,z);z.filter('[value="'+x+'"]').parent(P.uiCheckbox).checkbox("check")}else{if(D){Z.verbose("Setting checkbox value",x,v);if(x===true){v.checkbox("check")}else{v.checkbox("uncheck")}}else{if(A){Z.verbose("Setting dropdown value",x,v);v.dropdown("set selected",x)}else{Z.verbose("Setting field value",x,z);z.val(x)}}}}}})}},validate:{form:function(u){var v;if(U){return false}n=[];if(Z.is.valid()){Z.debug("Form has no validation errors, submitting");Z.set.success();return N.onSuccess.call(Y,u)}else{Z.debug("Form has errors");Z.set.error();if(!N.inline){Z.add.errors(n)}if(Q.data("moduleApi")!==g){u.stopImmediatePropagation()}return N.onFailure.call(Y,n)}},field:function(w){var u=Z.get.field(w.identifier),x=true,v=[];if(u.prop("disabled")){Z.debug("Field is disabled. Skipping",w.identifier);x=true}else{if(w.optional&&h.trim(u.val())===""){Z.debug("Field is optional and empty. Skipping",w.identifier);x=true}else{if(w.rules!==g){h.each(w.rules,function(z,y){if(Z.has.field(w.identifier)&&!(Z.validate.rule(w,y))){Z.debug("Field is invalid",w.identifier,y.type);v.push(y.prompt);x=false}})}}}if(x){Z.remove.prompt(w,v);N.onValid.call(u)}else{n=n.concat(v);Z.add.prompt(w.identifier,v);N.onInvalid.call(u,v);return false}return true},rule:function(w,B){var x=Z.get.field(w.identifier),z=B.type,v=x.val(),D=z.match(N.regExp.bracket),u=true,y,A,C;v=h.trim(x.val()+"");if(D){A=""+D[1];C=z.replace(D[0],"");y=N.rules[C];if(!h.isFunction(y)){Z.error(T.noRule,C);return}u=y.call(x,v,A)}else{y=N.rules[z];if(!h.isFunction(y)){Z.error(T.noRule,z);return}u=y.call(x,v)}return u}},setting:function(v,u){if(h.isPlainObject(v)){h.extend(true,N,v)}else{if(u!==g){N[v]=u}else{return N[v]}}},internal:function(v,u){if(h.isPlainObject(v)){h.extend(true,Z,v)}else{if(u!==g){Z[v]=u}else{return Z[v]}}},debug:function(){if(N.debug){if(N.performance){Z.performance.log(arguments)}else{Z.debug=Function.prototype.bind.call(console.info,console,N.name+":");Z.debug.apply(console,arguments)}}},verbose:function(){if(N.verbose&&N.debug){if(N.performance){Z.performance.log(arguments)}else{Z.verbose=Function.prototype.bind.call(console.info,console,N.name+":");Z.verbose.apply(console,arguments)}}},error:function(){Z.error=Function.prototype.bind.call(console.error,console,N.name+":");Z.error.apply(console,arguments)},performance:{log:function(x){var u,w,v;if(N.performance){u=new Date().getTime();v=s||u;w=u-v;s=u;d.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:Y,"Execution Time":w})}clearTimeout(Z.performance.timer);Z.performance.timer=setTimeout(Z.performance.display,500)},display:function(){var u=N.name+":",v=0;s=false;clearTimeout(Z.performance.timer);h.each(d,function(x,w){v+=w["Execution Time"]});u+=" "+v+"ms";if(p){u+=" '"+p+"'"}if(c.length>1){u+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(u);if(console.table){console.table(d)}else{h.each(d,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(x,u,z){var A=L,w,y,v;u=u||b;z=Y||z;if(typeof x=="string"&&A!==g){x=x.split(/[\. ]/);w=x.length-1;h.each(x,function(B,C){var D=(B!=w)?C+x[B+1].charAt(0).toUpperCase()+x[B+1].slice(1):x;if(h.isPlainObject(A[D])&&(B!=w)){A=A[D]}else{if(A[D]!==g){y=A[D];return false}else{if(h.isPlainObject(A[C])&&(B!=w)){A=A[C]}else{if(A[C]!==g){y=A[C];return false}else{return false}}}}})}if(h.isFunction(y)){v=y.apply(z,u)}else{if(y!==g){v=y}}if(h.isArray(r)){r.push(v)}else{if(r!==g){r=[r,v]}else{if(v!==g){r=v}}}return y}};Z.initialize()});return(r!==g)?r:this};h.fn.form.settings={name:"Form",namespace:"form",debug:false,verbose:false,performance:true,fields:false,keyboardShortcuts:true,on:"submit",inline:false,delay:200,revalidate:true,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return true},onFailure:function(){return false},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",integer:/^\-?\d+$/,flags:/^\/(.*)\/(.*)?/,url:/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically.",noRule:"There is no rule matching the one you specified",method:"The method you called is not defined."},templates:{error:function(a){var b='<ul class="list">';h.each(a,function(d,c){b+="<li>"+c+"</li>"});b+="</ul>";return h(b)},prompt:function(a){return h("<div/>").addClass("ui red pointing prompt label").html(a[0])}},rules:{checked:function(){return(h(this).filter(":checked").length>0)},contains:function(b,a){a=a.replace(h.fn.form.settings.regExp.escape,"\\$&");return(b.search(new RegExp(a,"i"))!==-1)},containsExactly:function(b,a){a=a.replace(h.fn.form.settings.regExp.escape,"\\$&");return(b.search(new RegExp(a))!==-1)},email:function(b){var a=new RegExp(h.fn.form.settings.regExp.email,"i");return a.test(b)},empty:function(a){return !(a===g||""===a||h.isArray(a)&&a.length===0)},integer:function(b,k){var c=h.fn.form.settings.regExp.integer,d,l,a;if(k===g||k===""||k===".."){}else{if(k.indexOf("..")==-1){if(c.test(k)){d=l=k-0}}else{a=k.split("..",2);if(c.test(a[0])){d=a[0]-0}if(c.test(a[1])){l=a[1]-0}}}return(c.test(b)&&(d===g||b>=d)&&(l===g||b<=l))},is:function(b,a){a=(typeof a=="string")?a.toLowerCase():a;b=(typeof b=="string")?b.toLowerCase():b;return(b==a)},isExactly:function(b,a){return(b==a)},length:function(a,b){return(a!==g)?(a.length>=b):false},different:function(a,c){var d=h(this),b;if(h('[data-validate="'+c+'"]').length>0){b=h('[data-validate="'+c+'"]').val()}else{if(h("#"+c).length>0){b=h("#"+c).val()}else{if(h('[name="'+c+'"]').length>0){b=h('[name="'+c+'"]').val()}else{if(h('[name="'+c+'[]"]').length>0){b=h('[name="'+c+'[]"]')}}}}return(b!==g)?(a.toString()!==b.toString()):false},match:function(a,c){var d=h(this),b;if(h('[data-validate="'+c+'"]').length>0){b=h('[data-validate="'+c+'"]').val()}else{if(h("#"+c).length>0){b=h("#"+c).val()}else{if(h('[name="'+c+'"]').length>0){b=h('[name="'+c+'"]').val()}else{if(h('[name="'+c+'[]"]').length>0){b=h('[name="'+c+'[]"]')}}}}return(b!==g)?(a.toString()==b.toString()):false},maxCount:function(a,b){a=a.split(",");return(h.isArray(a)&&a.length<=b)},exactCount:function(a,b){a=a.split(",");return(h.isArray(a)&&a.length==b)},minCount:function(a,b){a=a.split(",");return(h.isArray(a)&&a.length>=b)},regExp:function(a,b){var c=b.match(h.fn.form.settings.regExp.flags),d;if(c){b=(c.length>=2)?c[1]:b;d=(c.length>=3)?c[2]:""}return a.match(new RegExp(b,d))},maxLength:function(a,b){return(a!==g)?(a.length<=b):false},not:function(a,b){a=(typeof a=="string")?a.toLowerCase():a;b=(typeof b=="string")?b.toLowerCase():b;return(a!=b)},notExactly:function(a,b){return(a!=b)},url:function(a){return h.fn.form.settings.regExp.url.match(a)}}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Accordion
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.accordion=function(a){var c=h(this),q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),o=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},p;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.accordion.settings,a):h.extend({},h.fn.accordion.settings),H=l.className,j=l.namespace,i=l.selector,G=l.error,k="."+j,K="module-"+j,I=c.selector||"",E=h(this),F=E.find(i.title),D=E.find(i.content),L=this,C=E.data(K),J,m;m={initialize:function(){m.debug("Initializing",E);m.bind.events();m.observeChanges();m.instantiate()},instantiate:function(){C=m;E.data(K,m)},destroy:function(){m.debug("Destroying previous instance",E);E.off(k).removeData(K)},refresh:function(){F=E.find(i.title);D=E.find(i.content)},observeChanges:function(){if("MutationObserver" in e){J=new MutationObserver(function(s){m.debug("DOM tree modified, updating selector cache");m.refresh()});J.observe(L,{childList:true,subtree:true});m.debug("Setting up mutation observer",J)}},bind:{events:function(){m.debug("Binding delegated events");E.on(l.on+k,i.trigger,m.event.click)}},event:{click:function(){m.toggle.call(this)}},toggle:function(s){var y=(s!==g)?(typeof s==="number")?F.eq(s):h(s).closest(i.title):h(this).closest(i.title),x=y.next(D),t=x.hasClass(H.animating),u=x.hasClass(H.active),v=(u&&!t),w=(!u&&t);m.debug("Toggling visibility of content",y);if(v||w){if(l.collapsible){m.close.call(y)}else{m.debug("Cannot close accordion content collapsing is disabled")}}else{m.open.call(y)}},open:function(s){var x=(s!==g)?(typeof s==="number")?F.eq(s):h(s).closest(i.title):h(this).closest(i.title),w=x.next(D),t=w.hasClass(H.animating),u=w.hasClass(H.active),v=(u||t);if(v){m.debug("Accordion already open, skipping",w);return}m.debug("Opening accordion content",x);l.onOpening.call(w);if(l.exclusive){m.closeOthers.call(x)}x.addClass(H.active);w.stop(true,true).addClass(H.animating);if(l.animateChildren){if(h.fn.transition!==g&&E.transition("is supported")){w.children().transition({animation:"fade in",queue:false,useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration})}else{w.children().stop(true,true).animate({opacity:1},l.duration,m.resetOpacity)}}w.slideDown(l.duration,l.easing,function(){w.removeClass(H.animating).addClass(H.active);m.reset.display.call(this);l.onOpen.call(this);l.onChange.call(this)})},close:function(t){var y=(t!==g)?(typeof t==="number")?F.eq(t):h(t).closest(i.title):h(this).closest(i.title),x=y.next(D),u=x.hasClass(H.animating),v=x.hasClass(H.active),w=(!v&&u),s=(v&&u);if((v||w)&&!s){m.debug("Closing accordion content",x);l.onClosing.call(x);y.removeClass(H.active);x.stop(true,true).addClass(H.animating);if(l.animateChildren){if(h.fn.transition!==g&&E.transition("is supported")){x.children().transition({animation:"fade out",queue:false,useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration})}else{x.children().stop(true,true).animate({opacity:0},l.duration,m.resetOpacity)}}x.slideUp(l.duration,l.easing,function(){x.removeClass(H.animating).removeClass(H.active);m.reset.display.call(this);l.onClose.call(this);l.onChange.call(this)})}},closeOthers:function(y){var u=(y!==g)?F.eq(y):h(this).closest(i.title),t=u.parents(i.content).prev(i.title),x=u.closest(i.accordion),A=i.title+"."+H.active+":visible",z=i.content+"."+H.active+":visible",v,s,w;if(l.closeNested){v=x.find(A).not(t);w=v.next(D)}else{v=x.find(A).not(t);s=x.find(z).find(A).not(t);v=v.not(s);w=v.next(D)}if((v.length>0)){m.debug("Exclusive enabled, closing other content",v);v.removeClass(H.active);w.removeClass(H.animating).stop(true,true);if(l.animateChildren){if(h.fn.transition!==g&&E.transition("is supported")){w.children().transition({animation:"fade out",useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration})}else{w.children().stop(true,true).animate({opacity:0},l.duration,m.resetOpacity)}}w.slideUp(l.duration,l.easing,function(){h(this).removeClass(H.active);m.reset.display.call(this)})}},reset:{display:function(){m.verbose("Removing inline display from element",this);h(this).css("display","");if(h(this).attr("style")===""){h(this).attr("style","").removeAttr("style")}},opacity:function(){m.verbose("Removing inline opacity from element",this);h(this).css("opacity","");if(h(this).attr("style")===""){h(this).attr("style","").removeAttr("style")}}},setting:function(t,s){m.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,l,t)}else{if(s!==g){l[t]=s}else{return l[t]}}},internal:function(t,s){m.debug("Changing internal",t,s);if(s!==g){if(h.isPlainObject(t)){h.extend(true,m,t)}else{m[t]=s}}else{return m[t]}},debug:function(){if(l.debug){if(l.performance){m.performance.log(arguments)}else{m.debug=Function.prototype.bind.call(console.info,console,l.name+":");m.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){m.performance.log(arguments)}else{m.verbose=Function.prototype.bind.call(console.info,console,l.name+":");m.verbose.apply(console,arguments)}}},error:function(){m.error=Function.prototype.bind.call(console.error,console,l.name+":");m.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:L,"Execution Time":s})}clearTimeout(m.performance.timer);m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(m.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(I){s+=" '"+I+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=C,s,u,y;x=x||b;v=L||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{m.error(G.method,t);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(C===g){m.initialize()}m.invoke(n)}else{if(C!==g){C.invoke("destroy")}m.initialize()}});return(p!==g)?p:this};h.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:false,verbose:false,performance:true,on:"click",exclusive:true,collapsible:true,closeNested:false,animateChildren:true,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}};h.extend(h.easing,{easeOutQuad:function(d,c,j,a,b){return -a*(c/=b)*(c-2)+j}})})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Checkbox
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.checkbox=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var l=h.extend(true,{},h.fn.checkbox.settings,a),H=l.className,k=l.namespace,j=l.selector,G=l.error,m="."+k,J="module-"+k,D=h(this),E=h(this).children(j.label),F=h(this).children(j.input),C=D.data(J),I,i=this,B;B={initialize:function(){B.verbose("Initializing checkbox",l);B.create.label();B.bind.events();B.set.tabbable();B.hide.input();B.observeChanges();B.instantiate();B.setup()},instantiate:function(){B.verbose("Storing instance of module",B);C=B;D.data(J,B)},destroy:function(){B.verbose("Destroying module");B.unbind.events();B.show.input();D.removeData(J)},fix:{reference:function(){if(D.is(j.input)){B.debug("Behavior called on <input> adjusting invoked element");D=D.closest(j.checkbox);B.refresh()}}},setup:function(){if(B.is.indeterminate()){B.debug("Initial value is indeterminate");B.set.indeterminate();if(l.fireOnInit){l.onIndeterminate.call(F[0]);l.onChange.call(F[0])}}else{if(B.is.checked()){B.debug("Initial value is checked");B.set.checked();if(l.fireOnInit){l.onChecked.call(F[0]);l.onChange.call(F[0])}}else{B.debug("Initial value is unchecked");B.set.unchecked();if(l.fireOnInit){l.onUnchecked.call(F[0]);l.onChange.call(F[0])}}}},refresh:function(){E=D.children(j.label);F=D.children(j.input)},hide:{input:function(){B.verbose("Modfying <input> z-index to be unselectable");F.addClass(H.hidden)}},show:{input:function(){B.verbose("Modfying <input> z-index to be selectable");F.removeClass(H.hidden)}},observeChanges:function(){if("MutationObserver" in e){I=new MutationObserver(function(s){B.debug("DOM tree modified, updating selector cache");B.refresh()});I.observe(i,{childList:true,subtree:true});B.debug("Setting up mutation observer",I)}},attachEvents:function(u,s){var t=h(u);s=h.isFunction(B[s])?B[s]:B.toggle;if(t.length>0){B.debug("Attaching checkbox events to element",u,s);t.on("click"+m,s)}else{B.error(G.notFound)}},event:{click:function(s){if(h(s.target).is(j.input)){B.verbose("Using default check action on initialized checkbox");return}B.toggle()},keydown:function(t){var u=t.which,s={enter:13,space:32,escape:27};if(u==s.escape){B.verbose("Escape key pressed blurring field");F.blur();t.preventDefault()}if(!t.ctrlKey&&(u==s.enter||u==s.space)){B.verbose("Enter key pressed, toggling checkbox");B.toggle();t.preventDefault()}}},check:function(){if(!B.is.indeterminate()&&B.is.checked()){B.debug("Checkbox is already checked");return}B.debug("Checking checkbox",F);B.set.checked();l.onChecked.call(F[0]);l.onChange.call(F[0])},uncheck:function(){if(!B.is.indeterminate()&&B.is.unchecked()){B.debug("Checkbox is already unchecked");return}B.debug("Unchecking checkbox");B.set.unchecked();l.onUnchecked.call(F[0]);l.onChange.call(F[0])},indeterminate:function(){if(B.is.indeterminate()){B.debug("Checkbox is already indeterminate");return}B.debug("Making checkbox indeterminate");B.set.indeterminate();l.onIndeterminate.call(F[0]);l.onChange.call(F[0])},determinate:function(){if(B.is.determinate()){B.debug("Checkbox is already determinate");return}B.debug("Making checkbox determinate");B.set.determinate();l.onDeterminate.call(F[0]);l.onChange.call(F[0])},enable:function(){if(B.is.enabled()){B.debug("Checkbox is already enabled");return}B.debug("Enabling checkbox");B.set.enabled();l.onEnable.call(F[0])},disable:function(){if(B.is.disabled()){B.debug("Checkbox is already disabled");return}B.debug("Disabling checkbox");B.set.disabled();l.onDisable.call(F[0])},get:{radios:function(){var s=B.get.name();return h('input[name="'+s+'"]').closest(j.checkbox)},otherRadios:function(){return B.get.radios().not(D)},name:function(){return F.attr("name")}},is:{radio:function(){return(F.hasClass(H.radio)||F.attr("type")=="radio")},indeterminate:function(){return F.prop("indeterminate")!==g&&F.prop("indeterminate")},checked:function(){return F.prop("checked")!==g&&F.prop("checked")},disabled:function(){return F.prop("disabled")!==g&&F.prop("disabled")},enabled:function(){return !B.is.disabled()},determinate:function(){return !B.is.indeterminate()},unchecked:function(){return !B.is.checked()}},can:{change:function(){return !(D.hasClass(H.disabled)||D.hasClass(H.readOnly)||F.prop("disabled")||F.prop("readonly"))},uncheck:function(){return(typeof l.uncheckable==="boolean")?l.uncheckable:!B.is.radio()}},set:{checked:function(){B.verbose("Setting class to checked");D.removeClass(H.indeterminate).addClass(H.checked);if(B.is.radio()){B.uncheckOthers()}if(!B.is.indeterminate()&&B.is.checked()){B.debug("Input is already checked, skipping input property change");return}B.verbose("Setting state to checked",F[0]);F.prop("indeterminate",false).prop("checked",true);B.trigger.change()},unchecked:function(){B.verbose("Removing checked class");D.removeClass(H.indeterminate).removeClass(H.checked);if(!B.is.indeterminate()&&B.is.unchecked()){B.debug("Input is already unchecked");return}B.debug("Setting state to unchecked");F.prop("indeterminate",false).prop("checked",false);B.trigger.change()},indeterminate:function(){B.verbose("Setting class to indeterminate");D.addClass(H.indeterminate);if(B.is.indeterminate()){B.debug("Input is already indeterminate, skipping input property change");return}B.debug("Setting state to indeterminate");F.prop("indeterminate",true);B.trigger.change()},determinate:function(){B.verbose("Removing indeterminate class");D.removeClass(H.indeterminate);if(B.is.determinate()){B.debug("Input is already determinate, skipping input property change");return}B.debug("Setting state to determinate");F.prop("indeterminate",false)},disabled:function(){B.verbose("Setting class to disabled");D.addClass(H.disabled);if(B.is.disabled()){B.debug("Input is already disabled, skipping input property change");return}B.debug("Setting state to disabled");F.prop("disabled","disabled");B.trigger.change()},enabled:function(){B.verbose("Removing disabled class");D.removeClass(H.disabled);if(B.is.enabled()){B.debug("Input is already enabled, skipping input property change");return}B.debug("Setting state to enabled");F.prop("disabled",false);B.trigger.change()},tabbable:function(){B.verbose("Adding tabindex to checkbox");if(F.attr("tabindex")===g){F.attr("tabindex",0)}}},trigger:{change:function(){B.verbose("Triggering change event from programmatic change");F.trigger("change")}},create:{label:function(){if(F.prevAll(j.label).length>0){F.prev(j.label).detach().insertAfter(F);B.debug("Moving existing label",E)}else{if(!B.has.label()){E=h("<label>").insertAfter(F);B.debug("Creating label",E)}}}},has:{label:function(){return(E.length>0)}},bind:{events:function(){B.verbose("Attaching checkbox events");D.on("click"+m,B.event.click).on("keydown"+m,j.input,B.event.keydown)}},unbind:{events:function(){B.debug("Removing events");D.off(m)}},uncheckOthers:function(){var s=B.get.otherRadios();B.debug("Unchecking other radios",s);s.removeClass(H.checked)},toggle:function(){if(!B.can.change()){if(!B.is.radio()){B.debug("Checkbox is read-only or disabled, ignoring toggle")}return}if(B.is.indeterminate()||B.is.unchecked()){B.debug("Currently unchecked");B.check()}else{if(B.is.checked()&&B.can.uncheck()){B.debug("Currently checked");B.uncheck()}}},setting:function(t,s){B.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,l,t)}else{if(s!==g){l[t]=s}else{return l[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,B,t)}else{if(s!==g){B[t]=s}else{return B[t]}}},debug:function(){if(l.debug){if(l.performance){B.performance.log(arguments)}else{B.debug=Function.prototype.bind.call(console.info,console,l.name+":");B.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){B.performance.log(arguments)}else{B.verbose=Function.prototype.bind.call(console.info,console,l.name+":");B.verbose.apply(console,arguments)}}},error:function(){B.error=Function.prototype.bind.call(console.error,console,l.name+":");B.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:i,"Execution Time":s})}clearTimeout(B.performance.timer);B.performance.timer=setTimeout(B.performance.display,500)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(B.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=C,s,u,y;x=x||b;v=i||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var L=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[L])&&(z!=s)){w=w[L]}else{if(w[L]!==g){u=w[L];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{B.error(G.method,t);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(C===g){B.initialize()}B.invoke(n)}else{if(C!==g){C.invoke("destroy")}B.initialize()}});return(p!==g)?p:this};h.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:false,verbose:true,performance:true,uncheckable:"auto",fireOnInit:false,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]'}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Dimmer
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.dimmer=function(o){var b=h(this),c=new Date().getTime(),a=[],m=arguments[0],p=(typeof m=="string"),n=[].slice.call(arguments,1),d;b.each(function(){var l=(h.isPlainObject(o))?h.extend(true,{},h.fn.dimmer.settings,o):h.extend({},h.fn.dimmer.settings),j=l.selector,k=l.namespace,I=l.className,H=l.error,B="."+k,L="module-"+k,J=b.selector||"",E=("ontouchstart" in f.documentElement)?"touchstart":"click",G=h(this),C,K,i=this,F=G.data(L),D;D={preinitialize:function(){if(D.is.dimmer()){K=G.parent();C=G}else{K=G;if(D.has.dimmer()){if(l.dimmerName){C=K.find(j.dimmer).filter("."+l.dimmerName)}else{C=K.find(j.dimmer)}}else{C=D.create()}}},initialize:function(){D.debug("Initializing dimmer",l);D.bind.events();D.set.dimmable();D.instantiate()},instantiate:function(){D.verbose("Storing instance of module",D);F=D;G.data(L,F)},destroy:function(){D.verbose("Destroying previous module",C);D.unbind.events();D.remove.variation();K.off(B)},bind:{events:function(){if(l.on=="hover"){K.on("mouseenter"+B,D.show).on("mouseleave"+B,D.hide)}else{if(l.on=="click"){K.on(E+B,D.toggle)}}if(D.is.page()){D.debug("Setting as a page dimmer",K);D.set.pageDimmer()}if(D.is.closable()){D.verbose("Adding dimmer close event",C);K.on(E+B,j.dimmer,D.event.click)}}},unbind:{events:function(){G.removeData(L)}},event:{click:function(q){D.verbose("Determining if event occured on dimmer",q);if(C.find(q.target).length===0||h(q.target).is(j.content)){D.hide();q.stopImmediatePropagation()}}},addContent:function(q){var r=h(q);D.debug("Add content to dimmer",r);if(r.parent()[0]!==C[0]){r.detach().appendTo(C)}},create:function(){var q=h(l.template.dimmer());if(l.variation){D.debug("Creating dimmer with variation",l.variation);q.addClass(l.variation)}if(l.dimmerName){D.debug("Creating named dimmer",l.dimmerName);q.addClass(l.dimmerName)}q.appendTo(K);return q},show:function(q){q=h.isFunction(q)?q:function(){};D.debug("Showing dimmer",C,l);if((!D.is.dimmed()||D.is.animating())&&D.is.enabled()){D.animate.show(q);l.onShow.call(i);l.onChange.call(i)}else{D.debug("Dimmer is already shown or disabled")}},hide:function(q){q=h.isFunction(q)?q:function(){};if(D.is.dimmed()||D.is.animating()){D.debug("Hiding dimmer",C);D.animate.hide(q);l.onHide.call(i);l.onChange.call(i)}else{D.debug("Dimmer is not visible")}},toggle:function(){D.verbose("Toggling dimmer visibility",C);if(!D.is.dimmed()){D.show()}else{D.hide()}},animate:{show:function(q){q=h.isFunction(q)?q:function(){};if(l.useCSS&&h.fn.transition!==g&&C.transition("is supported")){if(l.opacity!=="auto"){D.set.opacity()}C.transition({animation:l.transition+" in",queue:false,duration:D.get.duration(),useFailSafe:true,onStart:function(){D.set.dimmed()},onComplete:function(){D.set.active();q()}})}else{D.verbose("Showing dimmer animation with javascript");D.set.dimmed();if(l.opacity=="auto"){l.opacity=0.8}C.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(D.get.duration(),l.opacity,function(){C.removeAttr("style");D.set.active();q()})}},hide:function(q){q=h.isFunction(q)?q:function(){};if(l.useCSS&&h.fn.transition!==g&&C.transition("is supported")){D.verbose("Hiding dimmer with css");C.transition({animation:l.transition+" out",queue:false,duration:D.get.duration(),useFailSafe:true,onStart:function(){D.remove.dimmed()},onComplete:function(){D.remove.active();q()}})}else{D.verbose("Hiding dimmer with javascript");D.remove.dimmed();C.stop().fadeOut(D.get.duration(),function(){D.remove.active();C.removeAttr("style");q()})}}},get:{dimmer:function(){return C},duration:function(){if(typeof l.duration=="object"){if(D.is.active()){return l.duration.hide}else{return l.duration.show}}return l.duration}},has:{dimmer:function(){if(l.dimmerName){return(G.find(j.dimmer).filter("."+l.dimmerName).length>0)}else{return(G.find(j.dimmer).length>0)}}},is:{active:function(){return C.hasClass(I.active)},animating:function(){return(C.is(":animated")||C.hasClass(I.animating))},closable:function(){if(l.closable=="auto"){if(l.on=="hover"){return false}return true}return l.closable},dimmer:function(){return G.hasClass(I.dimmer)},dimmable:function(){return G.hasClass(I.dimmable)},dimmed:function(){return K.hasClass(I.dimmed)},disabled:function(){return K.hasClass(I.disabled)},enabled:function(){return !D.is.disabled()},page:function(){return K.is("body")},pageDimmer:function(){return C.hasClass(I.pageDimmer)}},can:{show:function(){return !C.hasClass(I.disabled)}},set:{opacity:function(r){var s=C.css("background-color"),q=s.split(","),t=(q&&q.length==4);r=l.opacity||r;if(t){q[3]=r+")";s=q.join(",")}else{s="rgba(0, 0, 0, "+r+")"}D.debug("Setting opacity to",r);C.css("background-color",s)},active:function(){C.addClass(I.active)},dimmable:function(){K.addClass(I.dimmable)},dimmed:function(){K.addClass(I.dimmed)},pageDimmer:function(){C.addClass(I.pageDimmer)},disabled:function(){C.addClass(I.disabled)},variation:function(q){q=q||l.variation;if(q){C.addClass(q)}}},remove:{active:function(){C.removeClass(I.active)},dimmed:function(){K.removeClass(I.dimmed)},disabled:function(){C.removeClass(I.disabled)},variation:function(q){q=q||l.variation;if(q){C.removeClass(q)}}},setting:function(r,q){D.debug("Changing setting",r,q);if(h.isPlainObject(r)){h.extend(true,l,r)}else{if(q!==g){l[r]=q}else{return l[r]}}},internal:function(r,q){if(h.isPlainObject(r)){h.extend(true,D,r)}else{if(q!==g){D[r]=q}else{return D[r]}}},debug:function(){if(l.debug){if(l.performance){D.performance.log(arguments)}else{D.debug=Function.prototype.bind.call(console.info,console,l.name+":");D.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){D.performance.log(arguments)}else{D.verbose=Function.prototype.bind.call(console.info,console,l.name+":");D.verbose.apply(console,arguments)}}},error:function(){D.error=Function.prototype.bind.call(console.error,console,l.name+":");D.error.apply(console,arguments)},performance:{log:function(r){var s,q,t;if(l.performance){s=new Date().getTime();t=c||s;q=s-t;c=s;a.push({Name:r[0],Arguments:[].slice.call(r,1)||"",Element:i,"Execution Time":q})}clearTimeout(D.performance.timer);D.performance.timer=setTimeout(D.performance.display,500)},display:function(){var q=l.name+":",r=0;c=false;clearTimeout(D.performance.timer);h.each(a,function(t,s){r+=s["Execution Time"]});q+=" "+r+"ms";if(J){q+=" '"+J+"'"}if(b.length>1){q+=" ("+b.length+")"}if((console.group!==g||console.table!==g)&&a.length>0){console.groupCollapsed(q);if(console.table){console.table(a)}else{h.each(a,function(t,s){console.log(s.Name+": "+s["Execution Time"]+"ms")})}console.groupEnd()}a=[]}},invoke:function(r,v,t){var u=F,q,s,w;v=v||n;t=i||t;if(typeof r=="string"&&u!==g){r=r.split(/[\. ]/);q=r.length-1;h.each(r,function(x,y){var z=(x!=q)?y+r[x+1].charAt(0).toUpperCase()+r[x+1].slice(1):r;if(h.isPlainObject(u[z])&&(x!=q)){u=u[z]}else{if(u[z]!==g){s=u[z];return false}else{if(h.isPlainObject(u[y])&&(x!=q)){u=u[y]}else{if(u[y]!==g){s=u[y];return false}else{D.error(H.method,r);return false}}}}})}if(h.isFunction(s)){w=s.apply(t,v)}else{if(s!==g){w=s}}if(h.isArray(d)){d.push(w)}else{if(d!==g){d=[d,w]}else{if(w!==g){d=w}}}return s}};D.preinitialize();if(p){if(F===g){D.initialize()}D.invoke(m)}else{if(F!==g){F.invoke("destroy")}D.initialize()}});return(d!==g)?d:this};h.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:false,verbose:false,performance:true,dimmerName:false,variation:false,closable:"auto",useCSS:true,transition:"fade",on:false,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return h("<div />").attr("class","ui dimmer")}}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Dropdown
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.dropdown=function(a){var c=h(this),s=h(f),q=c.selector||"",r=("ontouchstart" in f.documentElement),u=new Date().getTime(),d=[],p=arguments[0],v=(typeof p=="string"),b=[].slice.call(arguments,1),t;c.each(function(ad){var j=(h.isPlainObject(a))?h.extend(true,{},h.fn.dropdown.settings,a):h.extend({},h.fn.dropdown.settings),aj=j.className,al=j.message,ag=j.metadata,af=j.namespace,ar=j.regExp,k=j.selector,m=j.error,ah=j.templates,o="."+af,aa="module-"+af,ab=h(this),W=h(j.context),l=ab.find(k.text),V=ab.find(k.search),an=ab.find(k.input),au=ab.find(k.icon),ai=(ab.prev().find(k.text).length>0)?ab.prev().find(k.text):ab.prev(),Z=ab.children(k.menu),ap=Z.find(k.item),X=false,at=false,ak=this,i=ab.data(aa),am,ao,ac,Y,n,ae,aq;aq={initialize:function(){aq.debug("Initializing dropdown",j);if(aq.is.alreadySetup()){aq.setup.reference()}else{aq.setup.layout();aq.refreshData();aq.save.defaults();aq.restore.selected();aq.create.id();if(r){aq.bind.touchEvents()}aq.bind.mouseEvents();aq.bind.keyboardEvents();aq.observeChanges();aq.instantiate()}},instantiate:function(){aq.verbose("Storing instance of dropdown",aq);i=aq;ab.data(aa,aq)},destroy:function(){aq.verbose("Destroying previous dropdown",ab);aq.remove.tabbable();ab.off(o).removeData(aa);Z.off(o);s.off(ac);if(n){n.disconnect()}if(ae){ae.disconnect()}},observeChanges:function(){if("MutationObserver" in e){n=new MutationObserver(function(w){aq.debug("<select> modified, recreating menu");aq.setup.select()});ae=new MutationObserver(function(w){aq.debug("Menu modified, updating selector cache");aq.refresh()});if(aq.has.input()){n.observe(an[0],{childList:true,subtree:true})}if(aq.has.menu()){ae.observe(Z[0],{childList:true,subtree:true})}aq.debug("Setting up mutation observer",n,ae)}},create:{id:function(){Y=(Math.random().toString(16)+"000000000").substr(2,8);ac="."+Y;aq.verbose("Creating unique id for element",Y)},userChoice:function(w){var y,A,x,z;w=w||aq.get.userValues();if(!w){return false}w=h.isArray(w)?w:[w];h.each(w,function(C,B){if(aq.get.item(B)===false){z=j.templates.addition(B);A=h("<div />").html(z).data(ag.value,B).addClass(aj.addition).addClass(aj.item);y=(y===g)?A:y.add(A);aq.verbose("Creating user choices for value",B,A)}});return y},userLabels:function(w){var x=aq.get.userValues();if(x){aq.debug("Adding user labels",x);h.each(x,function(z,y){aq.verbose("Adding custom user value");aq.add.label(y,y)})}}},search:function(w){w=(w!==g)?w:aq.get.query();aq.verbose("Searching for query",w);aq.filter(w)},select:{firstUnfiltered:function(){aq.verbose("Selecting first non-filtered element");aq.remove.selectedItem();ap.not(k.unselectable).eq(0).addClass(aj.selected)},nextAvailable:function(z){z=z.eq(0);var w=z.nextAll(k.item).not(k.unselectable).eq(0),y=z.prevAll(k.item).not(k.unselectable).eq(0),x=(w.length>0);if(x){aq.verbose("Moving selection to",w);w.addClass(aj.selected)}else{aq.verbose("Moving selection to",y);y.addClass(aj.selected)}}},setup:{api:function(){var w={debug:j.debug,on:false};aq.verbose("First request, initializing API");ab.api(w)},layout:function(){if(ab.is("select")){aq.setup.select();aq.setup.returnedObject()}if(aq.is.search()&&!aq.has.search()){aq.verbose("Adding search input");V=h("<input />").addClass(aj.search).insertBefore(l)}if(j.allowTab){aq.set.tabbable()}if(Z.length===0){Z=h("<div />").addClass(aj.menu).appendTo(ab)}},select:function(){var w=aq.get.selectValues();aq.debug("Dropdown initialized on a select",w);if(ab.is("select")){an=ab}if(an.parent(k.dropdown).length>0){aq.debug("UI dropdown already exists. Creating dropdown menu only");ab=an.closest(k.dropdown);Z=ab.children(k.menu);aq.setup.menu(w)}else{aq.debug("Creating entire dropdown from select");ab=h("<div />").attr("class",an.attr("class")).addClass(aj.selection).addClass(aj.dropdown).html(ah.dropdown(w)).insertBefore(an);an.removeAttr("class").detach().prependTo(ab)}if(an.is("[multiple]")){aq.set.multiple()}aq.refresh()},menu:function(w){Z.html(ah.menu(w));ap=Z.find(k.item)},reference:function(){aq.debug("Dropdown behavior was called on select, replacing with closest dropdown");ab=ab.parent(k.dropdown);aq.refresh();aq.setup.returnedObject();if(v){i=aq;aq.invoke(p)}},returnedObject:function(){var w=c.slice(0,ad),x=c.slice(ad+1);c=w.add(ab).add(x)}},refresh:function(){aq.refreshSelectors();aq.refreshData()},refreshSelectors:function(){aq.verbose("Refreshing selector cache");l=ab.find(k.text);V=ab.find(k.search);an=ab.find(k.input);au=ab.find(k.icon);ai=(ab.prev().find(k.text).length>0)?ab.prev().find(k.text):ab.prev();Z=ab.children(k.menu);ap=Z.find(k.item)},refreshData:function(){aq.verbose("Refreshing cached metadata");ap.removeData(ag.text).removeData(ag.value);ab.removeData(ag.defaultText).removeData(ag.defaultValue).removeData(ag.placeholderText)},toggle:function(){aq.verbose("Toggling menu visibility");if(!aq.is.active()){aq.show()}else{aq.hide()}},show:function(w){w=h.isFunction(w)?w:function(){};if(aq.can.show()&&!aq.is.active()){aq.debug("Showing dropdown");if(aq.is.multiple()){if(!aq.has.search()&&aq.is.allFiltered()){return true}}aq.animate.show(function(){if(aq.can.click()){aq.bind.intent()}aq.set.visible();w.call(ak)});j.onShow.call(ak)}},hide:function(w){w=h.isFunction(w)?w:function(){};if(aq.is.active()){aq.debug("Hiding dropdown");aq.animate.hide(function(){aq.remove.visible();w.call(ak)});j.onHide.call(ak)}},hideOthers:function(){aq.verbose("Finding other dropdowns to hide");c.not(ab).has(k.menu+"."+aj.visible).dropdown("hide")},hideMenu:function(){aq.verbose("Hiding menu  instantaneously");aq.remove.active();aq.remove.visible();Z.transition("hide")},hideSubMenus:function(){var w=Z.children(k.item).find(k.menu);aq.verbose("Hiding sub menus",w);w.transition("hide")},bind:{keyboardEvents:function(){aq.debug("Binding keyboard events");ab.on("keydown"+o,aq.event.keydown);if(aq.has.search()){ab.on(aq.get.inputEvent()+o,k.search,aq.event.input)}if(aq.is.multiple()){s.on("keydown"+ac,aq.event.document.keydown)}},touchEvents:function(){aq.debug("Touch device detected binding additional touch events");if(aq.is.searchSelection()){}else{if(aq.is.single()){ab.on("touchstart"+o,aq.event.test.toggle)}}Z.on("touchstart"+o,k.item,aq.event.item.mouseenter)},mouseEvents:function(){aq.debug("Mouse detected binding mouse events");if(aq.is.multiple()){ab.on("click"+o,k.label,aq.event.label.click).on("click"+o,k.remove,aq.event.remove.click)}if(aq.is.searchSelection()){ab.on("mousedown"+o,k.menu,aq.event.menu.mousedown).on("mouseup"+o,k.menu,aq.event.menu.mouseup).on("click"+o,k.icon,aq.event.icon.click).on("click"+o,k.search,aq.show).on("focus"+o,k.search,aq.event.search.focus).on("blur"+o,k.search,aq.event.search.blur).on("click"+o,k.text,aq.event.text.focus);if(aq.is.multiple()){ab.on("click"+o,aq.event.click)}}else{if(j.on=="click"){ab.on("click"+o,k.icon,aq.event.icon.click).on("click"+o,aq.event.test.toggle)}else{if(j.on=="hover"){ab.on("mouseenter"+o,aq.delay.show).on("mouseleave"+o,aq.delay.hide)}else{ab.on(j.on+o,aq.toggle)}}ab.on("mousedown"+o,aq.event.mousedown).on("mouseup"+o,aq.event.mouseup).on("focus"+o,aq.event.focus).on("blur"+o,aq.event.blur)}Z.on("mouseenter"+o,k.item,aq.event.item.mouseenter).on("mouseleave"+o,k.item,aq.event.item.mouseleave).on("click"+o,k.item,aq.event.item.click)},intent:function(){aq.verbose("Binding hide intent event to document");if(r){s.on("touchstart"+ac,aq.event.test.touch).on("touchmove"+ac,aq.event.test.touch)}s.on("click"+ac,aq.event.test.hide)}},unbind:{intent:function(){aq.verbose("Removing hide intent event from document");if(r){s.off("touchstart"+ac).off("touchmove"+ac)}s.off("click"+ac)}},filter:function(y){var x=(y!==g)?y:aq.get.query(),w=function(){if(aq.is.multiple()){aq.filterActive()}aq.select.firstUnfiltered();if(aq.has.allResultsFiltered()){if(j.onNoResults.call(ak,x)){if(!j.allowAdditions){aq.verbose("All items filtered, showing message",x);aq.add.message(al.noResults)}}else{aq.verbose("All items filtered, hiding dropdown",x);aq.hideMenu()}}else{aq.remove.message()}if(j.allowAdditions){aq.add.userSuggestion(y)}if(aq.is.searchSelection()&&aq.can.show()&&aq.is.focusedOnSearch()){aq.show()}};if(aq.has.maxSelections()){return}if(j.apiSettings){if(aq.can.useAPI()){aq.queryRemote(x,function(){w()})}else{aq.error(m.noAPI)}}else{aq.filterItems(x);w()}},queryRemote:function(w,y){var x={errorDuration:false,throttle:j.throttle,cache:"local",urlData:{query:w},onError:function(){aq.add.message(al.serverError);y()},onFailure:function(){aq.add.message(al.serverError);y()},onSuccess:function(z){aq.remove.message();aq.setup.menu({values:z.results});y()}};if(!ab.api("get request")){aq.setup.api()}x=h.extend(true,{},x,j.apiSettings);ab.api("setting",x).api("query")},filterItems:function(y){var A=(y!==g)?y:aq.get.query(),w=h(),x=aq.escape.regExp(A),z=new RegExp("^"+x,"igm");if(A===""){w=ap}else{aq.verbose("Searching for matching values",A);ap.each(function(){var D=h(this),B,C;if(j.match=="both"||j.match=="text"){B=String(aq.get.choiceText(D,false));if(B.search(z)!==-1){w=w.add(D);return true}else{if(j.fullTextSearch&&aq.fuzzySearch(A,B)){w=w.add(D);return true}}}if(j.match=="both"||j.match=="value"){C=String(aq.get.choiceValue(D,B));if(C.search(z)!==-1){w=w.add(D);return true}else{if(j.fullTextSearch&&aq.fuzzySearch(A,C)){w=w.add(D);return true}}}})}aq.debug("Showing only matched items",A);aq.remove.filteredItem();ap.not(w).addClass(aj.filtered)},fuzzySearch:function(A,C){var y=C.length,w=A.length;A=A.toLowerCase();C=C.toLowerCase();if(w>y){return false}if(w===y){return(A===C)}search:for(var z=0,x=0;z<w;z++){var B=A.charCodeAt(z);while(x<y){if(C.charCodeAt(x++)===B){continue search}}return false}return true},filterActive:function(){if(j.useLabels){ap.filter("."+aj.active).addClass(aj.filtered)}},focusSearch:function(){if(aq.is.search()&&!aq.is.focusedOnSearch()){V[0].focus()}},forceSelection:function(){var w=ap.not(aj.filtered).filter("."+aj.selected).eq(0),y=ap.not(aj.filtered).filter("."+aj.active).eq(0),z=(w.length>0)?w:y,x=(z.size()>0);if(x){aq.debug("Forcing partial selection to selected item",z);aq.event.item.click.call(z)}else{aq.hide()}},event:{focus:function(){if(j.showOnFocus&&!X&&aq.is.hidden()&&!ao){aq.show()}},click:function(w){var x=h(w.target);if(x.is(ab)&&!aq.is.focusedOnSearch()){aq.focusSearch()}},blur:function(w){ao=(f.activeElement===this);if(!X&&!ao){aq.remove.activeLabel();aq.hide()}},mousedown:function(){X=true},mouseup:function(){X=false},search:{focus:function(){X=true;if(aq.is.multiple()){aq.remove.activeLabel()}if(j.showOnFocus){aq.show()}},blur:function(w){ao=(f.activeElement===this);if(!at&&!ao){if(aq.is.multiple()){aq.remove.activeLabel();aq.hide()}else{if(j.forceSelection){aq.forceSelection()}else{aq.hide()}}}}},icon:{click:function(w){aq.toggle();w.stopPropagation()}},text:{focus:function(w){X=true;aq.focusSearch()}},input:function(w){if(aq.is.multiple()||aq.is.searchSelection()){aq.set.filtered()}clearTimeout(aq.timer);aq.timer=setTimeout(aq.search,j.delay.search)},label:{click:function(A){var w=h(this),B=ab.find(k.label),x=B.filter("."+aj.active),C=w.nextAll("."+aj.active),z=w.prevAll("."+aj.active),y=(C.length>0)?w.nextUntil(C).add(x).add(w):w.prevUntil(z).add(x).add(w);if(A.shiftKey){x.removeClass(aj.active);y.addClass(aj.active)}else{if(A.ctrlKey){w.toggleClass(aj.active)}else{x.removeClass(aj.active);w.addClass(aj.active)}}j.onLabelSelect.apply(this,B.filter("."+aj.active))}},remove:{click:function(){var w=h(this).parent();if(w.hasClass(aj.active)){aq.remove.activeLabels()}else{aq.remove.activeLabels(w)}}},test:{toggle:function(w){var x=(aq.is.multiple())?aq.show:aq.toggle;if(aq.determine.eventOnElement(w,x)){w.preventDefault()}},touch:function(w){aq.determine.eventOnElement(w,function(){if(w.type=="touchstart"){aq.timer=setTimeout(aq.hide,j.delay.touch)}else{if(w.type=="touchmove"){clearTimeout(aq.timer)}}});w.stopPropagation()},hide:function(w){aq.determine.eventInModule(w,aq.hide)}},menu:{mousedown:function(){at=true},mouseup:function(){at=false}},item:{mouseenter:function(w){var y=h(this).children(k.menu),x=h(this).siblings(k.item).children(k.menu);if(y.length>0){clearTimeout(aq.itemTimer);aq.itemTimer=setTimeout(function(){aq.verbose("Showing sub-menu",y);h.each(x,function(){aq.animate.hide(false,h(this))});aq.animate.show(false,y)},j.delay.show);w.preventDefault()}},mouseleave:function(x){var w=h(this).children(k.menu);if(w.length>0){clearTimeout(aq.itemTimer);aq.itemTimer=setTimeout(function(){aq.verbose("Hiding sub-menu",w);aq.animate.hide(false,w)},j.delay.hide)}},click:function(C){var D=h(this),x=(C)?h(C.target):h(""),y=D.find(k.menu),z=aq.get.choiceText(D),B=aq.get.choiceValue(D,z),A=(y.length>0),w=(y.find(x).length>0);if(!w&&(!A||j.allowCategorySelection)){if(!j.useLabels){aq.remove.filteredItem();aq.remove.searchTerm();aq.set.scrollPosition(D)}aq.determine.selectAction.call(this,z,B)}}},document:{keydown:function(F){var x=F.which,N=aq.get.shortcutKeys(),G=aq.is.inObject(x,N);if(G){var C=ab.find(k.label),E=C.filter("."+aj.active),y=E.data("value"),M=C.index(E),L=C.length,K=(E.length>0),z=(E.length>1),J=(M===0),H=(M+1==L),D=aq.is.searchSelection(),A=aq.is.focusedOnSearch(),w=aq.is.focused(),B=(A&&aq.get.caretPosition()===0),I;if(D&&!K&&!A){return}if(x==N.leftArrow){if((w||B)&&!K){aq.verbose("Selecting previous label");C.last().addClass(aj.active)}else{if(K){if(!F.shiftKey){aq.verbose("Selecting previous label");C.removeClass(aj.active)}else{aq.verbose("Adding previous label to selection")}if(J&&!z){E.addClass(aj.active)}else{E.prev(k.siblingLabel).addClass(aj.active).end()}F.preventDefault()}}}else{if(x==N.rightArrow){if(w&&!K){C.first().addClass(aj.active)}if(K){if(!F.shiftKey){aq.verbose("Selecting next label");C.removeClass(aj.active)}else{aq.verbose("Adding next label to selection")}if(H){if(D){if(!A){aq.focusSearch()}else{C.removeClass(aj.active)}}else{if(z){E.next(k.siblingLabel).addClass(aj.active)}else{E.addClass(aj.active)}}}else{E.next(k.siblingLabel).addClass(aj.active)}F.preventDefault()}}else{if(x==N.deleteKey||x==N.backspace){if(K){aq.verbose("Removing active labels");if(H){if(D&&!A){aq.focusSearch()}}E.last().next(k.siblingLabel).addClass(aj.active);aq.remove.activeLabels(E);F.preventDefault()}else{if(B&&!K&&x==N.backspace){aq.verbose("Removing last label on input backspace");E=C.last().addClass(aj.active);aq.remove.activeLabels(E)}}}else{E.removeClass(aj.active)}}}}}},keydown:function(z){var I=z.which,E=aq.get.shortcutKeys(),L=aq.is.inObject(I,E);if(L){var x=ap.not(k.unselectable).filter("."+aj.selected).eq(0),B=Z.children("."+aj.active).eq(0),y=(x.length>0)?x:B,F=(y.length>0)?y.siblings(":not(."+aj.filtered+")").andSelf():Z.children(":not(."+aj.filtered+")"),G=y.children(k.menu),C=y.closest(k.menu),w=(C.hasClass(aj.visible)||C.hasClass(aj.animating)||C.parent(k.menu).length>0),A=(G.length>0),K=(y.length>0),D=(y.not(k.unselectable).length>0),M,J,H;if(aq.is.visible()){if(I==E.enter||I==E.delimiter){if(I==E.enter&&K&&A&&!j.allowCategorySelection){aq.verbose("Pressed enter on unselectable category, opening sub menu");I=E.rightArrow}else{if(D){aq.verbose("Selecting item from keyboard shortcut",y);aq.event.item.click.call(y,z);if(aq.is.searchSelection()){aq.remove.searchTerm()}}}z.preventDefault()}if(I==E.leftArrow){J=(C[0]!==Z[0]);if(J){aq.verbose("Left key pressed, closing sub-menu");aq.animate.hide(false,C);y.removeClass(aj.selected);C.closest(k.item).addClass(aj.selected);z.preventDefault()}}if(I==E.rightArrow){if(A){aq.verbose("Right key pressed, opening sub-menu");aq.animate.show(false,G);y.removeClass(aj.selected);G.find(k.item).eq(0).addClass(aj.selected);z.preventDefault()}}if(I==E.upArrow){M=(K&&w)?y.prevAll(k.item+":not("+k.unselectable+")").eq(0):ap.eq(0);if(F.index(M)<0){aq.verbose("Up key pressed but reached top of current menu");z.preventDefault();return}else{aq.verbose("Up key pressed, changing active item");y.removeClass(aj.selected);M.addClass(aj.selected);aq.set.scrollPosition(M)}z.preventDefault()}if(I==E.downArrow){M=(K&&w)?M=y.nextAll(k.item+":not("+k.unselectable+")").eq(0):ap.eq(0);if(M.length===0){aq.verbose("Down key pressed but reached bottom of current menu");z.preventDefault();return}else{aq.verbose("Down key pressed, changing active item");ap.removeClass(aj.selected);M.addClass(aj.selected);aq.set.scrollPosition(M)}z.preventDefault()}if(I==E.pageUp){aq.scrollPage("up");z.preventDefault()}if(I==E.pageDown){aq.scrollPage("down");z.preventDefault()}if(I==E.escape){aq.verbose("Escape key pressed, closing dropdown");aq.hide()}}else{if(I==E.delimiter){z.preventDefault()}if(I==E.downArrow){aq.verbose("Down key pressed, showing dropdown");aq.show();z.preventDefault()}}}else{if(aq.is.selection()&&!aq.is.search()){aq.set.selectedLetter(String.fromCharCode(I))}}}},determine:{selectAction:function(w,x){aq.verbose("Determining action",j.action);if(h.isFunction(aq.action[j.action])){aq.verbose("Triggering preset action",j.action,w,x);aq.action[j.action].call(this,w,x)}else{if(h.isFunction(j.action)){aq.verbose("Triggering user action",j.action,w,x);j.action.call(this,w,x)}else{aq.error(m.action,j.action)}}},eventInModule:function(A,y){var x=h(A.target),w=(x.closest(f.documentElement).length>0),z=(x.closest(ab).length>0);y=h.isFunction(y)?y:function(){};if(w&&!z){aq.verbose("Triggering event",y);y();return true}else{aq.verbose("Event occurred in dropdown, canceling callback");return false}},eventOnElement:function(z,y){var x=h(z.target),A=(x.closest(k.siblingLabel).length===0),w=(x.closest(Z).length===0);y=h.isFunction(y)?y:function(){};if(A&&w){aq.verbose("Triggering event",y);y();return true}else{aq.verbose("Event occurred in dropdown menu, canceling callback");return false}}},action:{nothing:function(){},activate:function(w,x){x=(x!==g)?x:w;aq.set.selected(x,h(this));if(aq.is.multiple()&&!aq.is.allFiltered()){return}else{aq.hideAndClear()}},select:function(w,x){aq.action.activate.call(this)},combo:function(w,x){x=(x!==g)?x:w;aq.set.selected(x,h(this));aq.hideAndClear()},hide:function(){aq.hideAndClear()}},get:{id:function(){return Y},text:function(){return l.text()},query:function(){return h.trim(V.val())},searchWidth:function(w){return(w*j.glyphWidth)+"em"},selectionCount:function(){var w=aq.get.values();return(aq.is.multiple())?h.isArray(w)?w.length:0:(aq.get.value()!=="")?1:0},transition:function(w){return(j.transition=="auto")?aq.is.upward(w)?"slide up":"slide down":j.transition},userValues:function(){var w=aq.get.values();if(!w){return false}w=h.isArray(w)?w:[w];return h.grep(w,function(x){return(aq.get.item(x)===false)})},uniqueArray:function(w){return h.grep(w,function(y,x){return h.inArray(y,w)===x})},caretPosition:function(){var w=V.get(0),x,y;if("selectionStart" in w){return w.selectionStart}else{if(f.selection){w.focus();x=f.selection.createRange();y=x.text.length;x.moveStart("character",-w.value.length);return x.text.length-y}}},shortcutKeys:function(){return{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40}},value:function(){return(an.length>0)?an.val():ab.data(ag.value)},values:function(){var w=aq.get.value();if(w===""){return""}return(!an.is("select")&&aq.is.multiple())?typeof w=="string"?w.split(j.delimiter):"":w},remoteValues:function(){var x=aq.get.values(),w=false;if(x){if(typeof x=="string"){x=[x]}w={};h.each(x,function(z,y){var A=aq.read.remoteData(y);aq.verbose("Restoring value from session data",A,y);w[y]=(A)?A:y})}return w},choiceText:function(w,x){x=(x!==g)?x:j.preserveHTML;if(w){if(w.find(k.menu).length>0){aq.verbose("Retreiving text of element with sub-menu");w=w.clone();w.find(k.menu).remove();w.find(k.menuIcon).remove()}return(w.data(ag.text)!==g)?w.data(ag.text):(x)?w.html().trim():w.text().trim()}},choiceValue:function(x,w){w=w||aq.get.choiceText(x);if(!x){return false}return(x.data(ag.value)!==g)?x.data(ag.value):(typeof w==="string")?w.toLowerCase().trim():w},inputEvent:function(){var w=V[0];if(w){return(w.oninput!==g)?"input":(w.onpropertychange!==g)?"propertychange":"keyup"}return false},selectValues:function(){var w={};w.values=[];ab.find("option").each(function(){var y=h(this),x=y.html(),A=y.attr("disabled"),z=(y.attr("value")!==g)?y.attr("value"):x;if(j.placeholder==="auto"&&z===""){w.placeholder=x}else{w.values.push({name:x,value:z,disabled:A})}});if(j.placeholder&&j.placeholder!=="auto"){aq.debug("Setting placeholder value to",j.placeholder);w.placeholder=j.placeholder}if(j.sortSelect){w.values.sort(function(y,x){return(y.name>x.name)?1:-1});aq.debug("Retrieved and sorted values from select",w)}else{aq.debug("Retreived values from select",w)}return w},activeItem:function(){return ap.filter("."+aj.active)},selectedItem:function(){var w=ap.not(k.unselectable).filter("."+aj.selected);return(w.length>0)?w:ap.eq(0)},itemWithAdditions:function(w){var y=aq.get.item(w),z=aq.create.userChoice(w),x=(z&&z.length>0);if(x){y=(y.length>0)?y.add(z):z}return y},item:function(z,x){var A=false,y,w;z=(z!==g)?z:(aq.get.values()!==g)?aq.get.values():aq.get.text();y=(w)?(z.length>0):(z!==g&&z!==""&&z!==null);w=(aq.is.multiple()&&h.isArray(z));x=(z===""||z===0)?true:x||false;if(y){ap.each(function(){var D=h(this),B=aq.get.choiceText(D),C=aq.get.choiceValue(D,B);if(C===null||C===g){return}if(w){if(h.inArray(C.toString(),z)!==-1||h.inArray(B,z)!==-1){A=(A)?A.add(D):D}}else{if(x){aq.verbose("Ambiguous dropdown value using strict type check",D,z);if(C===z||B===z){A=D;return true}}else{if(C.toString()==z.toString()||B==z){aq.verbose("Found select item by value",C,z);A=D;return true}}}})}return A}},check:{maxSelections:function(w){if(j.maxSelections){w=(w!==g)?w:aq.get.selectionCount();if(w>=j.maxSelections){aq.debug("Maximum selection count reached");ap.addClass(aj.filtered);aq.add.message(al.maxSelections);return true}else{aq.verbose("No longer at maximum selection count");aq.remove.message();aq.remove.filteredItem();if(aq.is.searchSelection()){aq.filterItems()}return false}}return true}},restore:{defaults:function(){aq.clear();aq.restore.defaultText();aq.restore.defaultValue()},defaultText:function(){var w=ab.data(ag.defaultText);aq.debug("Restoring default text",w);aq.set.text(w);l.addClass(aj.placeholder)},defaultValue:function(){var w=ab.data(ag.defaultValue);if(w!==g){aq.debug("Restoring default value",w);if(w!==""){aq.set.value(w);aq.set.selected()}else{aq.remove.activeItem();aq.remove.selectedItem()}}},labels:function(){if(j.allowAdditions){if(!j.useLabels){aq.error(m.labels);j.useLabels=true}aq.debug("Restoring selected values");aq.create.userLabels()}aq.check.maxSelections()},selected:function(){aq.restore.values();if(aq.is.multiple()){aq.debug("Restoring previously selected values and labels");aq.restore.labels()}else{aq.debug("Restoring previously selected values")}},values:function(){aq.set.initialLoad();if(j.apiSettings){if(j.saveRemoteData){aq.restore.remoteValues()}else{aq.clearValue()}}else{aq.set.selected()}aq.remove.initialLoad()},remoteValues:function(){var w=aq.get.remoteValues();aq.debug("Recreating selected from session data",w);if(w){if(aq.is.single()){h.each(w,function(y,x){aq.set.text(x)})}else{h.each(w,function(y,x){aq.add.label(y,x)})}}}},read:{remoteData:function(w){var x;if(e.Storage===g){aq.error(m.noStorage);return}x=sessionStorage.getItem(w);return(x!==g)?x:false}},save:{defaults:function(){aq.save.defaultText();aq.save.placeholderText();aq.save.defaultValue()},defaultValue:function(){var w=aq.get.value();aq.verbose("Saving default value as",w);ab.data(ag.defaultValue,w)},defaultText:function(){var w=aq.get.text();aq.verbose("Saving default text as",w);ab.data(ag.defaultText,w)},placeholderText:function(){var w;if(l.hasClass(aj.placeholder)){w=aq.get.text();aq.verbose("Saving placeholder text as",w);ab.data(ag.placeholderText,w)}},remoteData:function(x,w){if(e.Storage===g){aq.error(m.noStorage);return}aq.verbose("Saving remote data to session storage",w,x);sessionStorage.setItem(w,x)}},clear:function(){if(aq.is.multiple()){aq.remove.labels()}else{aq.remove.activeItem();aq.remove.selectedItem()}aq.set.placeholderText();aq.clearValue()},clearValue:function(){aq.set.value("")},scrollPage:function(E,z){var z=z||aq.get.selectedItem(),A=z.closest(k.menu),w=A.outerHeight(),H=A.scrollTop(),I=ap.eq(0).outerHeight(),y=Math.floor(w/I),F=A.prop("scrollHeight"),D=(E=="up")?H-(I*y):H+(I*y),C=ap.not(k.unselectable),B,G,x;x=(E=="up")?C.index(z)-y:C.index(z)+y;B=(E=="up")?(x>=0):(x<C.length);G=(B)?C.eq(x):(E=="up")?C.first():C.last();if(G.length>0){aq.debug("Scrolling page",E,G);z.removeClass(aj.selected);G.addClass(aj.selected);A.scrollTop(D)}},set:{filtered:function(){var A=aq.is.multiple(),w=aq.is.searchSelection(),C=(A&&w),z=(w)?aq.get.query():"",y=(typeof z==="string"&&z.length>0),B=aq.get.searchWidth(z.length),x=z!=="";if(A&&y){aq.verbose("Adjusting input width",B,j.glyphWidth);V.css("width",B)}if(y||(C&&x)){aq.verbose("Hiding placeholder text");l.addClass(aj.filtered)}else{if(!A||(C&&!x)){aq.verbose("Showing placeholder text");l.removeClass(aj.filtered)}}},loading:function(){ab.addClass(aj.loading)},placeholderText:function(w){w=w||ab.data(ag.placeholderText);if(w){aq.debug("Restoring placeholder text");aq.set.text(w);l.addClass(aj.placeholder)}},tabbable:function(){if(aq.has.search()){aq.debug("Added tabindex to searchable dropdown");V.val("").attr("tabindex",0);Z.attr("tabindex",-1)}else{aq.debug("Added tabindex to dropdown");if(!ab.attr("tabindex")){ab.attr("tabindex",0);Z.attr("tabindex",-1)}}},initialLoad:function(){aq.verbose("Setting initial load");am=true},scrollPosition:function(C,y){var E=5,A,I,H,w,D,F,z,x,B,G;C=C||aq.get.selectedItem();A=C.closest(k.menu);I=(C&&C.length>0);y=(y!==g)?y:false;if(C&&A.length>0&&I){D=C.position().top;A.addClass(aj.loading);z=A.scrollTop();F=A.offset().top;D=C.offset().top;H=z-F+D;if(!y){x=A.height();G=z+x<(H+E);B=((H-E)<z)}aq.debug("Scrolling to active item",H);if(y||B||G){A.scrollTop(H)}A.removeClass(aj.loading)}},text:function(w){if(j.action!=="select"){if(j.action=="combo"){aq.debug("Changing combo button text",w,ai);if(j.preserveHTML){ai.html(w)}else{ai.text(w)}}else{aq.debug("Changing text",w,l);l.removeClass(aj.filtered).removeClass(aj.placeholder);if(j.preserveHTML){l.html(w)}else{l.text(w)}}}},selectedLetter:function(A){var z=ap.filter("."+aj.selected),w=z.length>0&&aq.has.firstLetter(z,A),x=false,y;if(w){y=z.nextAll(ap).eq(0);if(aq.has.firstLetter(y,A)){x=y}}if(!x){ap.each(function(){if(aq.has.firstLetter(h(this),A)){x=h(this);return false}})}if(x){aq.verbose("Scrolling to next value with letter",A);aq.set.scrollPosition(x);z.removeClass(aj.selected);x.addClass(aj.selected)}},direction:function(w){if(j.direction=="auto"){if(aq.is.onScreen(w)){aq.remove.upward(w)}else{aq.set.upward(w)}}else{if(j.direction=="upward"){aq.set.upward(w)}}},upward:function(w){var x=w||ab;x.addClass(aj.upward)},value:function(C,z,w){var y=(an.length>0),B=!aq.has.value(C),D=aq.get.values(),x=(typeof C=="number")?C.toString():C,A;if(y){if(x==D){aq.verbose("Skipping value update already same value",C,D);if(!aq.is.initialLoad()){return}}aq.debug("Updating input value",C,D);an.val(C).trigger("change")}else{aq.verbose("Storing value in metadata",C,an);if(C!==D){ab.data(ag.value,C)}}if(j.fireOnInit===false&&aq.is.initialLoad()){aq.verbose("No callback on initial load",j.onChange)}else{j.onChange.call(ak,C,z,w)}},active:function(){ab.addClass(aj.active)},multiple:function(){ab.addClass(aj.multiple)},visible:function(){ab.addClass(aj.visible)},selected:function(y,z){var w=aq.is.multiple(),x;z=(j.allowAdditions)?z||aq.get.itemWithAdditions(y):z||aq.get.item(y);if(!z){return}aq.debug("Setting selected menu item to",z);if(aq.is.single()){aq.remove.activeItem();aq.remove.selectedItem()}else{if(j.useLabels){aq.remove.selectedItem()}}z.each(function(){var E=h(this),A=aq.get.choiceText(E),C=aq.get.choiceValue(E,A),G=E.hasClass(aj.filtered),B=E.hasClass(aj.active),F=E.hasClass(aj.addition),D=(w&&z.length==1);if(w){if(!B||F){if(j.apiSettings&&j.saveRemoteData){aq.save.remoteData(A,C)}if(j.useLabels){aq.add.value(C,A,E);aq.add.label(C,A,D);E.addClass(aj.active);aq.filterActive();aq.select.nextAvailable(z)}else{aq.set.text(aq.add.variables(al.count));aq.add.value(C,A,E);E.addClass(aj.active)}}else{if(!G){aq.debug("Selected active value, removing label");aq.remove.selected(C)}}}else{if(j.apiSettings&&j.saveRemoteData){aq.save.remoteData(A,C)}aq.set.text(A);aq.set.value(C,A,E);E.addClass(aj.active).addClass(aj.selected)}})}},add:{label:function(z,y,A){var w=aq.is.searchSelection()?V:l,x;x=h("<a />").addClass(aj.label).attr("data-value",z).html(ah.label(z,y));x=j.onLabelCreate.call(x,z,y);if(aq.has.label(z)){aq.debug("Label already exists, skipping",z);return}if(j.label.variation){x.addClass(j.label.variation)}if(A===true){aq.debug("Animating in label",x);x.addClass(aj.hidden).insertBefore(w).transition(j.label.transition,j.label.duration)}else{aq.debug("Adding selection label",x);x.insertBefore(w)}},message:function(y){var x=Z.children(k.message),w=j.templates.message(aq.add.variables(y));if(x.length>0){x.html(w)}else{x=h("<div/>").html(w).addClass(aj.message).appendTo(Z)}},optionValue:function(w){var y=an.find('option[value="'+w+'"]'),x=(y.length>0);if(x){return}if(n){n.disconnect();aq.verbose("Temporarily disconnecting mutation observer",w)}h("<option/>").prop("value",w).html(w).appendTo(an);aq.verbose("Adding user addition as an <option>",w);if(n){n.observe(an[0],{childList:true,subtree:true})}},userSuggestion:function(w){var z=Z.children(k.addition),y=aq.get.item(w),A=z.length>0,x;if(aq.has.maxSelections()){return}if(w===""||y){z.remove();return}ap.removeClass(aj.selected);if(A){x=j.templates.addition(w);z.html(x).data(ag.value,w).removeClass(aj.filtered).addClass(aj.selected);aq.verbose("Replacing user suggestion with new value",z)}else{z=aq.create.userChoice(w);z.prependTo(Z).addClass(aj.selected);aq.verbose("Adding item choice to menu corresponding with user choice addition",z)}},variables:function(A){var C=(A.search("{count}")!==-1),w=(A.search("{maxCount}")!==-1),y=(A.search("{term}")!==-1),x,B,z;aq.verbose("Adding templated variables to message",A);if(C){B=aq.get.selectionCount();A=A.replace("{count}",B)}if(w){B=aq.get.selectionCount();A=A.replace("{maxCount}",j.maxSelections)}if(y){z=aq.get.query();A=A.replace("{term}",z)}return A},value:function(y,x,A){var w=aq.get.values(),z;if(y===""){aq.debug("Cannot select blank values from multiselect");return}if(h.isArray(w)){z=w.concat([y]);z=aq.get.uniqueArray(z)}else{z=[y]}if(an.is("select")){if(j.allowAdditions){aq.add.optionValue(y);aq.debug("Adding value to select",y,z,an)}}else{z=z.join(j.delimiter);aq.debug("Setting hidden input to delimited value",z,an)}if(j.fireOnInit===false&&aq.is.initialLoad()){aq.verbose("No callback on initial load",j.onAdd)}else{j.onAdd.call(ak,y,x,A)}aq.set.value(z,y,x,A);aq.check.maxSelections()}},remove:{active:function(){ab.removeClass(aj.active)},activeLabel:function(){ab.find(k.label).removeClass(aj.active)},loading:function(){ab.removeClass(aj.loading)},initialLoad:function(){am=false},upward:function(w){var x=w||ab;x.removeClass(aj.upward)},visible:function(){ab.removeClass(aj.visible)},activeItem:function(){ap.removeClass(aj.active)},filteredItem:function(){if(aq.has.maxSelections()){return}if(j.useLabels){ap.not("."+aj.active).removeClass(aj.filtered)}else{ap.removeClass(aj.filtered)}},message:function(){Z.children(k.message).remove()},searchTerm:function(){aq.verbose("Cleared search term");V.val("");aq.set.filtered()},selected:function(w,x){x=(j.allowAdditions)?x||aq.get.itemWithAdditions(w):x||aq.get.item(w);if(!x){return false}x.each(function(){var A=h(this),y=aq.get.choiceText(A),z=aq.get.choiceValue(A,y);if(aq.is.multiple()){if(j.useLabels){aq.remove.value(z,y,A);aq.remove.label(z)}else{aq.remove.value(z,y,A);aq.set.text(aq.add.variables(al.count))}}else{aq.remove.value(z,y,A)}A.removeClass(aj.filtered).removeClass(aj.active);if(j.useLabels){A.removeClass(aj.selected)}})},selectedItem:function(){ap.removeClass(aj.selected)},value:function(A,y,x){var w=an.val(),z;if(an.is("select")){aq.verbose("Input is <select> removing selected option",A);z=aq.remove.arrayValue(A,w)}else{aq.verbose("Removing from delimited values",A);w=w.split(j.delimiter);z=aq.remove.arrayValue(A,w);z=z.join(j.delimiter)}if(j.fireOnInit===false&&aq.is.initialLoad()){aq.verbose("No callback on initial load",j.onRemove)}else{j.onRemove.call(ak,A,y,x)}aq.set.value(z,y,x);aq.check.maxSelections()},arrayValue:function(w,x){x=h.grep(x,function(y){return(w!=y)});aq.verbose("Removed value from delimited string",w,x);return x},label:function(z){var B=ab.find(k.label),w=B.filter('[data-value="'+z+'"]'),x=B.length,A=(B.index(w)+1==x),y=((!aq.is.searchSelection()||!aq.is.focusedOnSearch())&&A);if(y){aq.verbose("Animating and removing label",w);w.transition(j.label.transition,j.label.duration,function(){w.remove()})}else{aq.verbose("Removing label",w);w.remove()}},activeLabels:function(w){w=w||ab.find(k.label).filter("."+aj.active);aq.verbose("Removing active label selections",w);aq.remove.labels(w)},labels:function(w){w=w||ab.find(k.label);aq.verbose("Removing labels",w);w.each(function(){var y=h(this).data("value"),x=aq.is.userValue(y);if(x){aq.remove.value(y);aq.remove.label(y)}else{aq.remove.selected(y)}})},tabbable:function(){if(aq.has.search()){aq.debug("Searchable dropdown initialized");V.attr("tabindex","-1");Z.attr("tabindex","-1")}else{aq.debug("Simple selection dropdown initialized");ab.attr("tabindex","-1");Z.attr("tabindex","-1")}}},has:{search:function(){return(V.length>0)},firstLetter:function(x,w){var y,z;if(!x||x.length===0||typeof w!=="string"){return false}y=aq.get.choiceText(x,false);w=w.toLowerCase();z=String(y).charAt(0).toLowerCase();return(w==z)},input:function(){return(an.length>0)},items:function(){return(ap.length>0)},menu:function(){return(Z.length>0)},message:function(){return(Z.children(k.message).length!==0)},label:function(w){var x=ab.find(k.label);return(x.filter('[data-value="'+w+'"]').length>0)},maxSelections:function(){return(j.maxSelections&&aq.get.selectionCount()>=j.maxSelections)},allResultsFiltered:function(){return(ap.filter(k.unselectable).length===ap.length)},value:function(y){var x=aq.get.values(),w=h.isArray(x)?x&&(h.inArray(y,x)!==-1):(x==y);return(w)?true:false}},is:{active:function(){return ab.hasClass(aj.active)},alreadySetup:function(){return(ab.is("select")&&ab.parent(k.dropdown).length>0&&ab.prev().length===0)},animating:function(w){return(w)?w.transition&&w.transition("is animating"):Z.transition&&Z.transition("is animating")},disabled:function(){ab.hasClass(aj.disabled)},focused:function(){return(f.activeElement===ab[0])},focusedOnSearch:function(){return(f.activeElement===V[0])},allFiltered:function(){return((aq.is.multiple()||aq.has.search())&&!aq.has.message()&&aq.has.allResultsFiltered())},hidden:function(w){return !aq.is.visible(w)},initialLoad:function(){return am},onScreen:function(y){var w=y||Z,A=true,z={},x;w.addClass(aj.loading);x={context:{scrollTop:W.scrollTop(),height:W.outerHeight()},menu:{offset:w.offset(),height:w.outerHeight()}};z={above:(x.context.scrollTop)<=x.menu.offset.top-x.menu.height,below:(x.context.scrollTop+x.context.height)>=x.menu.offset.top+x.menu.height};if(z.below){aq.verbose("Dropdown can fit in context downward",z);A=true}else{if(!z.below&&!z.above){aq.verbose("Dropdown cannot fit in either direction, favoring downward",z);A=true}else{aq.verbose("Dropdown cannot fit below, opening upward",z);A=false}}w.removeClass(aj.loading);return A},inObject:function(y,x){var w=false;h.each(x,function(A,z){if(z==y){w=true;return true}});return w},multiple:function(){return ab.hasClass(aj.multiple)},single:function(){return !aq.is.multiple()},selectMutation:function(x){var w=false;h.each(x,function(y,z){if(z.target&&h(z.target).is("select")){w=true;return true}});return w},search:function(){return ab.hasClass(aj.search)},searchSelection:function(){return(aq.has.search()&&V.closest(k.menu).length===0)},selection:function(){return ab.hasClass(aj.selection)},userValue:function(w){return(h.inArray(w,aq.get.userValues())!==-1)},upward:function(w){var x=w||ab;return x.hasClass(aj.upward)},visible:function(w){return(w)?w.hasClass(aj.visible):Z.hasClass(aj.visible)}},can:{click:function(){return(r||j.on=="click")},show:function(){return !aq.is.disabled()&&(aq.has.items()||aq.has.message())},useAPI:function(){return h.fn.api!==g}},animate:{show:function(y,z){var x=z||Z,A=(z)?function(){}:function(){aq.hideSubMenus();aq.hideOthers();aq.set.active()},w;y=h.isFunction(y)?y:function(){};aq.verbose("Doing menu show animation",x);aq.set.direction(z);w=aq.get.transition(z);if(aq.is.selection()){aq.set.scrollPosition(aq.get.selectedItem(),true)}if(aq.is.hidden(x)||aq.is.animating(x)){if(w=="none"){A();x.transition("show");y.call(ak)}else{if(h.fn.transition!==g&&ab.transition("is supported")){x.transition({animation:w+" in",debug:j.debug,verbose:j.verbose,duration:j.duration,queue:true,onStart:A,onComplete:function(){y.call(ak)}})}else{aq.error(m.noTransition,w)}}}},hide:function(z,y){var x=y||Z,w=(y)?(j.duration*0.9):j.duration,A=(y)?function(){}:function(){if(aq.can.click()){aq.unbind.intent()}aq.remove.active()},B=aq.get.transition(y);z=h.isFunction(z)?z:function(){};if(aq.is.visible(x)||aq.is.animating(x)){aq.verbose("Doing menu hide animation",x);if(B=="none"){A();x.transition("hide");z.call(ak)}else{if(h.fn.transition!==g&&ab.transition("is supported")){x.transition({animation:B+" out",duration:j.duration,debug:j.debug,verbose:j.verbose,queue:true,onStart:A,onComplete:function(){if(j.direction=="auto"){aq.remove.upward(y)}z.call(ak)}})}else{aq.error(m.transition)}}}}},hideAndClear:function(){aq.remove.searchTerm();if(aq.has.maxSelections()){return}if(aq.has.search()){aq.hide(function(){aq.remove.filteredItem()})}else{aq.hide()}},delay:{show:function(){aq.verbose("Delaying show event to ensure user intent");clearTimeout(aq.timer);aq.timer=setTimeout(aq.show,j.delay.show)},hide:function(){aq.verbose("Delaying hide event to ensure user intent");clearTimeout(aq.timer);aq.timer=setTimeout(aq.hide,j.delay.hide)}},escape:{regExp:function(w){w=String(w);return w.replace(ar.escape,"\\$&")}},setting:function(x,w){aq.debug("Changing setting",x,w);if(h.isPlainObject(x)){h.extend(true,j,x)}else{if(w!==g){j[x]=w}else{return j[x]}}},internal:function(x,w){if(h.isPlainObject(x)){h.extend(true,aq,x)}else{if(w!==g){aq[x]=w}else{return aq[x]}}},debug:function(){if(j.debug){if(j.performance){aq.performance.log(arguments)}else{aq.debug=Function.prototype.bind.call(console.info,console,j.name+":");aq.debug.apply(console,arguments)}}},verbose:function(){if(j.verbose&&j.debug){if(j.performance){aq.performance.log(arguments)}else{aq.verbose=Function.prototype.bind.call(console.info,console,j.name+":");aq.verbose.apply(console,arguments)}}},error:function(){aq.error=Function.prototype.bind.call(console.error,console,j.name+":");aq.error.apply(console,arguments)},performance:{log:function(z){var w,y,x;if(j.performance){w=new Date().getTime();x=u||w;y=w-x;u=w;d.push({Name:z[0],Arguments:[].slice.call(z,1)||"",Element:ak,"Execution Time":y})}clearTimeout(aq.performance.timer);aq.performance.timer=setTimeout(aq.performance.display,500)},display:function(){var w=j.name+":",x=0;u=false;clearTimeout(aq.performance.timer);h.each(d,function(z,y){x+=y["Execution Time"]});w+=" "+x+"ms";if(q){w+=" '"+q+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(w);if(console.table){console.table(d)}else{h.each(d,function(z,y){console.log(y.Name+": "+y["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(A,w,B){var C=i,y,z,x;w=w||b;B=ak||B;if(typeof A=="string"&&C!==g){A=A.split(/[\. ]/);y=A.length-1;h.each(A,function(D,E){var F=(D!=y)?E+A[D+1].charAt(0).toUpperCase()+A[D+1].slice(1):A;if(h.isPlainObject(C[F])&&(D!=y)){C=C[F]}else{if(C[F]!==g){z=C[F];return false}else{if(h.isPlainObject(C[E])&&(D!=y)){C=C[E]}else{if(C[E]!==g){z=C[E];return false}else{aq.error(m.method,A);return false}}}}})}if(h.isFunction(z)){x=z.apply(B,w)}else{if(z!==g){x=z}}if(h.isArray(t)){t.push(x)}else{if(t!==g){t=[t,x]}else{if(x!==g){t=x}}}return z}};if(v){if(i===g){aq.initialize()}aq.invoke(p)}else{if(i!==g){i.invoke("destroy")}aq.initialize()}});return(t!==g)?t:c};h.fn.dropdown.settings={debug:false,verbose:false,performance:true,on:"click",action:"activate",apiSettings:false,saveRemoteData:true,throttle:200,context:e,direction:"auto",keepOnScreen:true,match:"both",fullTextSearch:false,placeholder:"auto",preserveHTML:true,sortSelect:false,forceSelection:true,allowAdditions:false,maxSelections:false,useLabels:true,delimiter:",",showOnFocus:true,allowTab:true,allowCategorySelection:false,fireOnInit:false,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:false},delay:{hide:300,show:200,search:20,touch:50},onChange:function(b,a,c){},onAdd:function(b,a,c){},onRemove:function(b,a,c){},onLabelSelect:function(a){},onLabelCreate:function(b,a){return h(this)},onNoResults:function(a){return true},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}};h.fn.dropdown.settings.templates={dropdown:function(d){var a=d.placeholder||false,c=d.values||{},b="";b+='<i class="dropdown icon"></i>';if(d.placeholder){b+='<div class="default text">'+a+"</div>"}else{b+='<div class="text"></div>'}b+='<div class="menu">';h.each(d.values,function(l,k){b+=(k.disabled)?'<div class="disabled item" data-value="'+k.value+'">'+k.name+"</div>":'<div class="item" data-value="'+k.value+'">'+k.name+"</div>"});b+="</div>";return b},menu:function(b){var c=b.values||{},a="";h.each(b.values,function(j,d){a+='<div class="item" data-value="'+d.value+'">'+d.name+"</div>"});return a},label:function(b,a){return a+'<i class="delete icon"></i>'},message:function(a){return a},addition:function(a){return a}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Video
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.embed=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var J=(h.isPlainObject(a))?h.extend(true,{},h.fn.embed.settings,a):h.extend({},h.fn.embed.settings),K=J.selector,L=J.className,R=J.sources,M=J.error,m=J.metadata,l=J.namespace,I=J.templates,P="."+l,k="module-"+l,j=h(e),H=h(this),F=H.find(K.placeholder),Q=H.find(K.icon),i=H.find(K.embed),N=this,G=H.data(k),O;O={initialize:function(){O.debug("Initializing embed");O.determine.autoplay();O.create();O.bind.events();O.instantiate()},instantiate:function(){O.verbose("Storing instance of module",O);G=O;H.data(k,O)},destroy:function(){O.verbose("Destroying previous instance of embed");O.reset();H.removeData(k).off(P)},refresh:function(){O.verbose("Refreshing selector cache");F=H.find(K.placeholder);Q=H.find(K.icon);i=H.find(K.embed)},bind:{events:function(){if(O.has.placeholder()){O.debug("Adding placeholder events");console.log(H,K.placeholder);H.on("click"+P,K.placeholder,O.createAndShow).on("click"+P,K.icon,O.createAndShow)}}},create:function(){var s=O.get.placeholder();if(s){O.createPlaceholder()}else{O.createAndShow()}},createPlaceholder:function(t){var u=O.get.icon(),v=O.get.url(),s=O.generate.embed(v);t=t||O.get.placeholder();H.html(I.placeholder(t,u));O.debug("Creating placeholder for embed",t,u)},createEmbed:function(s){O.refresh();s=s||O.get.url();console.log(s);i=h("<div/>").addClass(L.embed).html(O.generate.embed(s)).appendTo(H);J.onCreate.call(N,s);O.debug("Creating embed object",i)},createAndShow:function(){console.log("cands");O.createEmbed();O.show()},change:function(t,s,u){O.debug("Changing video to ",t,s,u);H.data(m.source,t).data(m.id,s).data(m.url,u);O.create()},reset:function(){O.debug("Clearing embed and showing placeholder");O.remove.active();O.remove.embed();O.showPlaceholder();J.onReset.call(N)},show:function(){O.debug("Showing embed");O.set.active();J.onDisplay.call(N)},hide:function(){O.debug("Hiding embed");O.showPlaceholder()},showPlaceholder:function(){O.debug("Showing placeholder image");O.remove.active();J.onPlaceholderDisplay.call(N)},get:{id:function(){return J.id||H.data(m.id)},placeholder:function(){return J.placeholder||H.data(m.placeholder)},icon:function(){return(J.icon)?J.icon:(H.data(m.icon)!==g)?H.data(m.icon):O.determine.icon()},source:function(s){return(J.source)?J.source:(H.data(m.source)!==g)?H.data(m.source):O.determine.source()},type:function(){var s=O.get.source();return(R[s]!==g)?R[s].type:false},url:function(){return(J.url)?J.url:(H.data(m.url)!==g)?H.data(m.url):O.determine.url()}},determine:{autoplay:function(){if(O.should.autoplay()){J.autoplay=true}},source:function(t){var s=false;t=t||O.get.url();if(t){h.each(R,function(v,u){if(t.search(u.domain)!==-1){s=v;return false}})}return s},icon:function(){var s=O.get.source();return(R[s]!==g)?R[s].icon:false},url:function(){var s=J.id||H.data(m.id),t=J.source||H.data(m.source),u;u=(R[t]!==g)?R[t].url.replace("{id}",s):false;if(u){H.data(m.url,u)}return u}},set:{active:function(){H.addClass(L.active)}},remove:{active:function(){H.removeClass(L.active)},embed:function(){i.empty()}},encode:{parameters:function(t){var s=[],u;for(u in t){s.push(encodeURIComponent(u)+"="+encodeURIComponent(t[u]))}return s.join("&amp;")}},generate:{embed:function(v){O.debug("Generating embed html");var s=O.get.source(),u,t;v=O.get.url(v);if(v){t=O.generate.parameters(s);u=I.iframe(v,t)}else{O.error(M.noURL,H)}return u},parameters:function(t,s){var u=(R[t]&&R[t].parameters!==g)?R[t].parameters(J):{};s=s||J.parameters;if(s){u=h.extend({},u,s)}u=J.onEmbed(u);return O.encode.parameters(u)}},has:{placeholder:function(){return J.placeholder||H.data(m.placeholder)}},should:{autoplay:function(){return(J.autoplay==="auto")?(J.placeholder||H.data(m.placeholder)!==g):J.autoplay}},is:{video:function(){return O.get.type()=="video"}},setting:function(t,s){O.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,J,t)}else{if(s!==g){J[t]=s}else{return J[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,O,t)}else{if(s!==g){O[t]=s}else{return O[t]}}},debug:function(){if(J.debug){if(J.performance){O.performance.log(arguments)}else{O.debug=Function.prototype.bind.call(console.info,console,J.name+":");O.debug.apply(console,arguments)}}},verbose:function(){if(J.verbose&&J.debug){if(J.performance){O.performance.log(arguments)}else{O.verbose=Function.prototype.bind.call(console.info,console,J.name+":");O.verbose.apply(console,arguments)}}},error:function(){O.error=Function.prototype.bind.call(console.error,console,J.name+":");O.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(J.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:N,"Execution Time":s})}clearTimeout(O.performance.timer);O.performance.timer=setTimeout(O.performance.display,500)},display:function(){var s=J.name+":",t=0;q=false;clearTimeout(O.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if(c.length>1){s+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=G,s,u,y;x=x||b;v=N||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{O.error(M.method,t);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(G===g){O.initialize()}O.invoke(n)}else{if(G!==g){G.invoke("destroy")}O.initialize()}});return(p!==g)?p:this};h.fn.embed.settings={name:"Embed",namespace:"embed",debug:false,verbose:false,performance:true,icon:false,source:false,url:false,id:false,autoplay:"auto",color:"#444444",hd:true,brandedUI:false,parameters:false,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(a){},onEmbed:function(a){return a},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(a){return{autohide:!a.brandedUI,autoplay:a.autoplay,color:a.colors||g,hq:a.hd,jsapi:a.api,modestbranding:!a.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(a){return{api:a.api,autoplay:a.autoplay,byline:a.brandedUI,color:a.colors||g,portrait:a.brandedUI,title:a.brandedUI}}}},templates:{iframe:function(b,a){return'<iframe src="'+b+"?="+a+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(a,b){var c="";if(b){c+='<i class="'+b+' icon"></i>'}if(a){c+='<img class="placeholder" src="'+a+'">'}return c}},api:true,onPause:function(){},onPlay:function(){},onStop:function(){}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Modal
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.modal=function(a){var c=h(this),y=h(e),v=h(f),u=h("body"),s=c.selector||"",x=new Date().getTime(),d=[],r=arguments[0],z=(typeof r=="string"),b=[].slice.call(arguments,1),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},w;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.modal.settings,a):h.extend({},h.fn.modal.settings),n=l.selector,R=l.className,k=l.namespace,N=l.error,T="."+k,X="module-"+k,q=h(this),V=h(l.context),P=q.find(n.close),i,m,O,o,Q,S=this,j=q.data(X),M,W,p,U;U={initialize:function(){U.verbose("Initializing dimmer",V);U.create.id();U.create.dimmer();U.refreshModals();U.bind.events();if(l.observeChanges){U.observeChanges()}U.instantiate()},instantiate:function(){U.verbose("Storing instance of modal");j=U;q.data(X,j)},create:{dimmer:function(){var B={debug:l.debug,dimmerName:"modals",duration:{show:l.duration,hide:l.duration}},A=h.extend(true,B,l.dimmerSettings);if(l.inverted){A.variation=(A.variation!==g)?A.variation+" inverted":"inverted"}if(h.fn.dimmer===g){U.error(N.dimmer);return}U.debug("Creating dimmer with settings",A);o=V.dimmer(A);if(l.detachable){U.verbose("Modal is detachable, moving content into dimmer");o.dimmer("add content",q)}else{U.set.undetached()}if(l.blurring){o.addClass(R.blurring)}Q=o.dimmer("get dimmer")},id:function(){W=(Math.random().toString(16)+"000000000").substr(2,8);M="."+W;U.verbose("Creating unique id for element",W)}},destroy:function(){U.verbose("Destroying previous modal");q.removeData(X).off(T);y.off(M);P.off(T);V.dimmer("destroy")},observeChanges:function(){if("MutationObserver" in e){p=new MutationObserver(function(A){U.debug("DOM tree modified, refreshing");U.refresh()});p.observe(S,{childList:true,subtree:true});U.debug("Setting up mutation observer",p)}},refresh:function(){U.remove.scrolling();U.cacheSizes();U.set.screenHeight();U.set.type();U.set.position()},refreshModals:function(){m=q.siblings(n.modal);i=m.add(q)},attachEvents:function(C,A){var B=h(C);A=h.isFunction(U[A])?U[A]:U.toggle;if(B.length>0){U.debug("Attaching modal events to element",C,A);B.off(T).on("click"+T,A)}else{U.error(N.notFound,C)}},bind:{events:function(){U.verbose("Attaching events");q.on("click"+T,n.close,U.event.close).on("click"+T,n.approve,U.event.approve).on("click"+T,n.deny,U.event.deny);y.on("resize"+M,U.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){if(l.onApprove.call(S,h(this))===false){U.verbose("Approve callback returned false cancelling hide");return}U.hide()},deny:function(){if(l.onDeny.call(S,h(this))===false){U.verbose("Deny callback returned false cancelling hide");return}U.hide()},close:function(){U.hide()},click:function(A){var C=h(A.target),B=(C.closest(n.modal).length>0),D=h.contains(f.documentElement,A.target);if(!B&&D){U.debug("Dimmer clicked, hiding all modals");if(U.is.active()){U.remove.clickaway();if(l.allowMultiple){U.hide()}else{U.hideAll()}}}},debounce:function(A,B){clearTimeout(U.timer);U.timer=setTimeout(A,B)},keyboard:function(B){var A=B.which,C=27;if(A==C){if(l.closable){U.debug("Escape key pressed hiding modal");U.hide()}else{U.debug("Escape key pressed, but closable is set to false")}B.preventDefault()}},resize:function(){if(o.dimmer("is active")){t(U.refresh)}}},toggle:function(){if(U.is.active()||U.is.animating()){U.hide()}else{U.show()}},show:function(A){A=h.isFunction(A)?A:function(){};U.refreshModals();U.showModal(A)},hide:function(A){A=h.isFunction(A)?A:function(){};U.refreshModals();U.hideModal(A)},showModal:function(A){A=h.isFunction(A)?A:function(){};if(U.is.animating()||!U.is.active()){U.showDimmer();U.cacheSizes();U.set.position();U.set.screenHeight();U.set.type();U.set.clickaway();if(!l.allowMultiple&&U.others.active()){U.hideOthers(U.showModal)}else{l.onShow.call(S);if(l.transition&&h.fn.transition!==g&&q.transition("is supported")){U.debug("Showing modal with css animations");q.transition({debug:l.debug,animation:l.transition+" in",queue:l.queue,duration:l.duration,useFailSafe:true,onComplete:function(){l.onVisible.apply(S);U.add.keyboardShortcuts();U.save.focus();U.set.active();U.set.autofocus();A()}})}else{U.error(N.noTransition)}}}else{U.debug("Modal is already visible")}},hideModal:function(A,B){A=h.isFunction(A)?A:function(){};U.debug("Hiding modal");l.onHide.call(S);if(U.is.animating()||U.is.active()){if(l.transition&&h.fn.transition!==g&&q.transition("is supported")){U.remove.active();q.transition({debug:l.debug,animation:l.transition+" out",queue:l.queue,duration:l.duration,useFailSafe:true,onStart:function(){if(!U.others.active()&&!B){U.hideDimmer()}U.remove.keyboardShortcuts()},onComplete:function(){l.onHidden.call(S);U.restore.focus();A()}})}else{U.error(N.noTransition)}}},showDimmer:function(){if(o.dimmer("is animating")||!o.dimmer("is active")){U.debug("Showing dimmer");o.dimmer("show")}else{U.debug("Dimmer already visible")}},hideDimmer:function(){if(o.dimmer("is animating")||(o.dimmer("is active"))){o.dimmer("hide",function(){if(l.transition&&h.fn.transition!==g&&q.transition("is supported")){U.remove.clickaway();U.remove.screenHeight()}})}else{U.debug("Dimmer is not visible cannot hide");return}},hideAll:function(A){var B=i.filter("."+R.active+", ."+R.animating);A=h.isFunction(A)?A:function(){};if(B.length>0){U.debug("Hiding all visible modals");U.hideDimmer();B.modal("hide modal",A)}},hideOthers:function(A){var B=m.filter("."+R.active+", ."+R.animating);A=h.isFunction(A)?A:function(){};if(B.length>0){U.debug("Hiding other modals",m);B.modal("hide modal",A,true)}},others:{active:function(){return(m.filter("."+R.active).length>0)},animating:function(){return(m.filter("."+R.animating).length>0)}},add:{keyboardShortcuts:function(){U.verbose("Adding keyboard shortcuts");v.on("keyup"+T,U.event.keyboard)}},save:{focus:function(){O=h(f.activeElement).blur()}},restore:{focus:function(){if(O&&O.length>0){O.focus()}}},remove:{active:function(){q.removeClass(R.active)},clickaway:function(){if(l.closable){Q.off("click"+M)}},screenHeight:function(){if(U.cache.height>U.cache.pageHeight){U.debug("Removing page height");u.css("height","")}},keyboardShortcuts:function(){U.verbose("Removing keyboard shortcuts");v.off("keyup"+T)},scrolling:function(){o.removeClass(R.scrolling);q.removeClass(R.scrolling)}},cacheSizes:function(){var A=q.outerHeight();if(U.cache===g||A!==0){U.cache={pageHeight:h(f).outerHeight(),height:A+l.offset,contextHeight:(l.context=="body")?h(e).height():o.height()}}U.debug("Caching modal and container sizes",U.cache)},can:{fit:function(){return((U.cache.height+(l.padding*2))<U.cache.contextHeight)}},is:{active:function(){return q.hasClass(R.active)},animating:function(){return q.transition("is supported")?q.transition("is animating"):q.is(":visible")},scrolling:function(){return o.hasClass(R.scrolling)},modernBrowser:function(){return !(e.ActiveXObject||"ActiveXObject" in e)}},set:{autofocus:function(){if(l.autofocus){var C=q.filter(":input").filter(":visible"),B=C.filter("[autofocus]"),A=(B.length>0)?B.first():C.first();if(A.length>0){A.focus()}}},clickaway:function(){if(l.closable){Q.on("click"+M,U.event.click)}},screenHeight:function(){if(U.can.fit()){u.css("height","")}else{U.debug("Modal is taller than page content, resizing page height");u.css("height",U.cache.height+(l.padding*2))}},active:function(){q.addClass(R.active)},scrolling:function(){o.addClass(R.scrolling);q.addClass(R.scrolling)},type:function(){if(U.can.fit()){U.verbose("Modal fits on screen");if(!U.others.active()&&!U.others.animating()){U.remove.scrolling()}}else{U.verbose("Modal cannot fit on screen setting to scrolling");U.set.scrolling()}},position:function(){U.verbose("Centering modal on page",U.cache);if(U.can.fit()){q.css({top:"",marginTop:-(U.cache.height/2)})}else{q.css({marginTop:"",top:v.scrollTop()})}},undetached:function(){o.addClass(R.undetached)}},setting:function(B,A){U.debug("Changing setting",B,A);if(h.isPlainObject(B)){h.extend(true,l,B)}else{if(A!==g){l[B]=A}else{return l[B]}}},internal:function(B,A){if(h.isPlainObject(B)){h.extend(true,U,B)}else{if(A!==g){U[B]=A}else{return U[B]}}},debug:function(){if(l.debug){if(l.performance){U.performance.log(arguments)}else{U.debug=Function.prototype.bind.call(console.info,console,l.name+":");U.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){U.performance.log(arguments)}else{U.verbose=Function.prototype.bind.call(console.info,console,l.name+":");U.verbose.apply(console,arguments)}}},error:function(){U.error=Function.prototype.bind.call(console.error,console,l.name+":");U.error.apply(console,arguments)},performance:{log:function(B){var C,A,D;if(l.performance){C=new Date().getTime();D=x||C;A=C-D;x=C;d.push({Name:B[0],Arguments:[].slice.call(B,1)||"",Element:S,"Execution Time":A})}clearTimeout(U.performance.timer);U.performance.timer=setTimeout(U.performance.display,500)},display:function(){var A=l.name+":",B=0;x=false;clearTimeout(U.performance.timer);h.each(d,function(D,C){B+=C["Execution Time"]});A+=" "+B+"ms";if(s){A+=" '"+s+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(A);if(console.table){console.table(d)}else{h.each(d,function(D,C){console.log(C.Name+": "+C["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(B,F,D){var E=j,A,C,G;F=F||b;D=S||D;if(typeof B=="string"&&E!==g){B=B.split(/[\. ]/);A=B.length-1;h.each(B,function(H,I){var J=(H!=A)?I+B[H+1].charAt(0).toUpperCase()+B[H+1].slice(1):B;if(h.isPlainObject(E[J])&&(H!=A)){E=E[J]}else{if(E[J]!==g){C=E[J];return false}else{if(h.isPlainObject(E[I])&&(H!=A)){E=E[I]}else{if(E[I]!==g){C=E[I];return false}else{return false}}}}})}if(h.isFunction(C)){G=C.apply(D,F)}else{if(C!==g){G=C}}if(h.isArray(w)){w.push(G)}else{if(w!==g){w=[w,G]}else{if(G!==g){w=G}}}return C}};if(z){if(j===g){U.initialize()}U.invoke(r)}else{if(j!==g){j.invoke("destroy")}U.initialize()}});return(w!==g)?w:this};h.fn.modal.settings={name:"Modal",namespace:"modal",debug:false,verbose:false,performance:true,observeChanges:false,allowMultiple:false,detachable:true,closable:true,autofocus:true,inverted:false,blurring:false,dimmerSettings:{closable:false,useCSS:true},context:"body",queue:false,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},onApprove:function(){return true},onDeny:function(){return true},selector:{close:".close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Nag
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.nag=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var K=(h.isPlainObject(a))?h.extend(true,{},h.fn.nag.settings,a):h.extend({},h.fn.nag.settings),X=K.className,O=K.selector,S=K.error,l=K.namespace,W="."+l,j=l+"-module",P=h(this),T=P.find(O.close),i=(K.context)?h(K.context):h("body"),Y=this,J=P.data(j),N,V,k,R,L,M,U,m,Z,Q=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)};Z={initialize:function(){Z.verbose("Initializing element");P.on("click"+W,O.close,Z.dismiss).data(j,Z);if(K.detachable&&P.parent()[0]!==i[0]){P.detach().prependTo(i)}if(K.displayTime>0){setTimeout(Z.hide,K.displayTime)}Z.show()},destroy:function(){Z.verbose("Destroying instance");P.removeData(j).off(W)},show:function(){if(Z.should.show()&&!P.is(":visible")){Z.debug("Showing nag",K.animation.show);if(K.animation.show=="fade"){P.fadeIn(K.duration,K.easing)}else{P.slideDown(K.duration,K.easing)}}},hide:function(){Z.debug("Showing nag",K.animation.hide);if(K.animation.show=="fade"){P.fadeIn(K.duration,K.easing)}else{P.slideUp(K.duration,K.easing)}},onHide:function(){Z.debug("Removing nag",K.animation.hide);P.remove();if(K.onHide){K.onHide()}},dismiss:function(s){if(K.storageMethod){Z.storage.set(K.key,K.value)}Z.hide();s.stopImmediatePropagation();s.preventDefault()},should:{show:function(){if(K.persist){Z.debug("Persistent nag is set, can show nag");return true}if(Z.storage.get(K.key)!=K.value.toString()){Z.debug("Stored value is not set, can show nag",Z.storage.get(K.key));return true}Z.debug("Stored value is set, cannot show nag",Z.storage.get(K.key));return false}},get:{storageOptions:function(){var s={};if(K.expires){s.expires=K.expires}if(K.domain){s.domain=K.domain}if(K.path){s.path=K.path}return s}},clear:function(){Z.storage.remove(K.key)},storage:{set:function(t,s){var u=Z.get.storageOptions();if(K.storageMethod=="localstorage"&&e.localStorage!==g){e.localStorage.setItem(t,s);Z.debug("Value stored using local storage",t,s)}else{if(h.cookie!==g){h.cookie(t,s,u);Z.debug("Value stored using cookie",t,s,u)}else{Z.error(S.noCookieStorage);return}}},get:function(u,t){var s;if(K.storageMethod=="localstorage"&&e.localStorage!==g){s=e.localStorage.getItem(u)}else{if(h.cookie!==g){s=h.cookie(u)}else{Z.error(S.noCookieStorage)}}if(s=="undefined"||s=="null"||s===g||s===null){s=g}return s},remove:function(s){var t=Z.get.storageOptions();if(K.storageMethod=="local"&&e.store!==g){e.localStorage.removeItem(s)}else{if(h.cookie!==g){h.removeCookie(s,t)}else{Z.error(S.noStorage)}}}},setting:function(t,s){Z.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,K,t)}else{if(s!==g){K[t]=s}else{return K[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,Z,t)}else{if(s!==g){Z[t]=s}else{return Z[t]}}},debug:function(){if(K.debug){if(K.performance){Z.performance.log(arguments)}else{Z.debug=Function.prototype.bind.call(console.info,console,K.name+":");Z.debug.apply(console,arguments)}}},verbose:function(){if(K.verbose&&K.debug){if(K.performance){Z.performance.log(arguments)}else{Z.verbose=Function.prototype.bind.call(console.info,console,K.name+":");Z.verbose.apply(console,arguments)}}},error:function(){Z.error=Function.prototype.bind.call(console.error,console,K.name+":");Z.error.apply(console,arguments)},performance:{log:function(s){var t,v,u;if(K.performance){t=new Date().getTime();u=q||t;v=t-u;q=t;d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:Y,"Execution Time":v})}clearTimeout(Z.performance.timer);Z.performance.timer=setTimeout(Z.performance.display,500)},display:function(){var s=K.name+":",t=0;q=false;clearTimeout(Z.performance.timer);h.each(d,function(u,v){t+=v["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(u,v){console.log(v.Name+": "+v["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(w,t,y){var s=J,v,x,u;t=t||b;y=Y||y;if(typeof w=="string"&&s!==g){w=w.split(/[\. ]/);v=w.length-1;h.each(w,function(z,A){var B=(z!=v)?A+w[z+1].charAt(0).toUpperCase()+w[z+1].slice(1):w;if(h.isPlainObject(s[B])&&(z!=v)){s=s[B]}else{if(s[B]!==g){x=s[B];return false}else{if(h.isPlainObject(s[A])&&(z!=v)){s=s[A]}else{if(s[A]!==g){x=s[A];return false}else{Z.error(S.method,w);return false}}}}})}if(h.isFunction(x)){u=x.apply(y,t)}else{if(x!==g){u=x}}if(h.isArray(p)){p.push(u)}else{if(p!==g){p=[p,u]}else{if(u!==g){p=u}}}return x}};if(r){if(J===g){Z.initialize()}Z.invoke(n)}else{if(J!==g){J.invoke("destroy")}Z.initialize()}});return(p!==g)?p:this};h.fn.nag.settings={name:"Nag",debug:false,verbose:false,performance:true,namespace:"Nag",persist:false,displayTime:0,animation:{show:"slide",hide:"slide"},context:false,detachable:false,expires:30,domain:false,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Popup
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.popup=function(a){var c=h(this),v=h(f),y=h(e),u=h("body"),s=c.selector||"",t=("ontouchstart" in f.documentElement),x=new Date().getTime(),d=[],r=arguments[0],z=(typeof r=="string"),b=[].slice.call(arguments,1),w;c.each(function(){var n=(h.isPlainObject(a))?h.extend(true,{},h.fn.popup.settings,a):h.extend({},h.fn.popup.settings),p=n.selector,R=n.className,N=n.error,m=n.metadata,X=n.namespace,O="."+n.namespace,W="module-"+X,q=h(this),T=h(n.context),P=(n.target)?h(n.target):q,Q,j,k=0,o=false,i=false,S=this,l=q.data(W),M,V,U;U={initialize:function(){U.debug("Initializing",q);U.createID();U.bind.events();if(!U.exists()&&n.preserve){U.create()}U.instantiate()},instantiate:function(){U.verbose("Storing instance",U);l=U;q.data(W,l)},refresh:function(){if(n.popup){Q=h(n.popup).eq(0)}else{if(n.inline){Q=P.next(p.popup).eq(0);n.popup=Q}}if(n.popup){Q.addClass(R.loading);j=U.get.offsetParent();Q.removeClass(R.loading);if(n.movePopup&&U.has.popup()&&U.get.offsetParent(Q)[0]!==j[0]){U.debug("Moving popup to the same offset parent as activating element");Q.detach().appendTo(j)}}else{j=(n.inline)?U.get.offsetParent(P):U.has.popup()?U.get.offsetParent(Q):u}if(j.is("html")){U.debug("Setting page as offset parent");j=u}},reposition:function(){U.refresh();U.set.position()},destroy:function(){U.debug("Destroying previous module");if(Q&&!n.preserve){U.removePopup()}clearTimeout(U.hideTimer);clearTimeout(U.showTimer);y.off(M);q.off(O).removeData(W)},event:{start:function(A){var B=(h.isPlainObject(n.delay))?n.delay.show:n.delay;clearTimeout(U.hideTimer);U.showTimer=setTimeout(U.show,B)},end:function(){var A=(h.isPlainObject(n.delay))?n.delay.hide:n.delay;clearTimeout(U.showTimer);U.hideTimer=setTimeout(U.hide,A)},touchstart:function(A){i=true;U.event.start()},resize:function(){if(U.is.visible()){U.set.position()}},hideGracefully:function(A){if(A&&h(A.target).closest(p.popup).length===0){U.debug("Click occurred outside popup hiding popup");U.hide()}else{U.debug("Click was inside popup, keeping popup open")}}},create:function(){var C=U.get.html(),D=U.get.variation(),A=U.get.title(),B=U.get.content();if(C||B||A){U.debug("Creating pop-up html");if(!C){C=n.templates.popup({title:A,content:B})}Q=h("<div/>").addClass(R.popup).addClass(D).data(m.activator,q).html(C);if(D){Q.addClass(D)}if(n.inline){U.verbose("Inserting popup element inline",Q);Q.insertAfter(q)}else{U.verbose("Appending popup element to body",Q);Q.appendTo(T)}U.refresh();if(n.hoverable){U.bind.popup()}n.onCreate.call(Q,S)}else{if(P.next(p.popup).length!==0){U.verbose("Pre-existing popup found");n.inline=true;n.popups=P.next(p.popup).data(m.activator,q);U.refresh();if(n.hoverable){U.bind.popup()}}else{if(n.popup){h(n.popup).data(m.activator,q);U.verbose("Used popup specified in settings");U.refresh();if(n.hoverable){U.bind.popup()}}else{U.debug("No content specified skipping display",S)}}}},createID:function(){V=(Math.random().toString(16)+"000000000").substr(2,8);M="."+V;U.verbose("Creating unique id for element",V)},toggle:function(){U.debug("Toggling pop-up");if(U.is.hidden()){U.debug("Popup is hidden, showing pop-up");U.unbind.close();U.show()}else{U.debug("Popup is visible, hiding pop-up");U.hide()}},show:function(A){A=A||function(){};U.debug("Showing pop-up",n.transition);if(U.is.hidden()&&!(U.is.active()&&U.is.dropdown())){if(!U.exists()){U.create()}if(n.onShow.call(Q,S)===false){U.debug("onShow callback returned false, cancelling popup animation");return}else{if(!n.preserve&&!n.popup){U.refresh()}}if(Q&&U.set.position()){U.save.conditions();if(n.exclusive){U.hideAll()}U.animate.show(A)}}},hide:function(A){A=A||function(){};if(U.is.visible()||U.is.animating()){if(n.onHide.call(Q,S)===false){U.debug("onHide callback returned false, cancelling popup animation");return}U.remove.visible();U.unbind.close();U.restore.conditions();U.animate.hide(A)}},hideAll:function(){h(p.popup).filter("."+R.visible).each(function(){h(this).data(m.activator).popup("hide")})},exists:function(){if(!Q){return false}if(n.inline||n.popup){return(U.has.popup())}else{return(Q.closest(T).length>=1)?true:false}},removePopup:function(){U.debug("Removing popup",Q);if(U.has.popup()&&!n.popup){Q.remove();Q=g}n.onRemove.call(Q,S)},save:{conditions:function(){U.cache={title:q.attr("title")};if(U.cache.title){q.removeAttr("title")}U.verbose("Saving original attributes",U.cache.title)}},restore:{conditions:function(){if(U.cache&&U.cache.title){q.attr("title",U.cache.title);U.verbose("Restoring original attributes",U.cache.title)}return true}},animate:{show:function(A){A=h.isFunction(A)?A:function(){};if(n.transition&&h.fn.transition!==g&&q.transition("is supported")){U.set.visible();Q.transition({animation:n.transition+" in",queue:false,debug:n.debug,verbose:n.verbose,duration:n.duration,onComplete:function(){U.bind.close();A.call(Q,S);n.onVisible.call(Q,S)}})}else{U.error(N.noTransition)}},hide:function(A){A=h.isFunction(A)?A:function(){};U.debug("Hiding pop-up");if(n.onShow.call(Q,S)===false){U.debug("onShow callback returned false, cancelling popup animation");return}if(n.transition&&h.fn.transition!==g&&q.transition("is supported")){Q.transition({animation:n.transition+" out",queue:false,duration:n.duration,debug:n.debug,verbose:n.verbose,onComplete:function(){U.reset();A.call(Q,S);n.onHidden.call(Q,S)}})}else{U.error(N.noTransition)}}},get:{html:function(){q.removeData(m.html);return q.data(m.html)||n.html},title:function(){q.removeData(m.title);return q.data(m.title)||n.title},content:function(){q.removeData(m.content);return q.data(m.content)||q.attr("title")||n.content},variation:function(){q.removeData(m.variation);return q.data(m.variation)||n.variation},calculations:function(){var B=P[0],A=(n.inline||n.popup)?P.position():P.offset(),D={},C;D={target:{element:P[0],width:P.outerWidth(),height:P.outerHeight(),top:A.top,left:A.left,margin:{}},popup:{width:Q.outerWidth(),height:Q.outerHeight()},parent:{width:j.outerWidth(),height:j.outerHeight()},screen:{scroll:{top:y.scrollTop(),left:y.scrollLeft()},width:y.width(),height:y.height()}};D.target.margin.top=(n.inline)?parseInt(e.getComputedStyle(B).getPropertyValue("margin-top"),10):0;D.target.margin.left=(n.inline)?U.is.rtl()?parseInt(e.getComputedStyle(B).getPropertyValue("margin-right"),10):parseInt(e.getComputedStyle(B).getPropertyValue("margin-left"),10):0;C=D.screen;D.boundary={top:C.scroll.top,bottom:C.scroll.top+C.height,left:C.scroll.left,right:C.scroll.left+C.width};return D},id:function(){return V},startEvent:function(){if(n.on=="hover"){return"mouseenter"}else{if(n.on=="focus"){return"focus"}}return false},scrollEvent:function(){return"scroll"},endEvent:function(){if(n.on=="hover"){return"mouseleave"}else{if(n.on=="focus"){return"blur"}}return false},offsetParent:function(F){var A=(F!==g)?F[0]:q[0],G=A.parentNode,C=h(G);if(G){var B=(C.css("transform")==="none"),E=(C.css("position")==="static"),D=C.is("html");while(G&&!D&&E&&B){G=G.parentNode;C=h(G);B=(C.css("transform")==="none");E=(C.css("position")==="static");D=C.is("html")}}return(C&&C.length>0)?C:h()},offstagePosition:function(G,E){var B=Q.offset(),C={},D=[],F,A;G=G||false;E=E||U.get.calculations();F=E.popup;A=E.boundary;if(B&&G){C={top:(B.top<A.top),bottom:(B.top+F.height>A.bottom),right:(B.left+F.width>A.right),left:(B.left<A.left)};U.verbose("Offstage positions determined",B,C)}h.each(C,function(H,I){if(I){D.push(H)}});return(D.length>0)?D.join(" "):false},positions:function(){return{"top left":false,"top center":false,"top right":false,"bottom left":false,"bottom center":false,"bottom right":false,"left center":false,"right center":false}},nextPosition:function(H){var I=H.split(" "),D=I[0],J=I[1],F={top:"bottom",bottom:"top",left:"right",right:"left"},A={left:"center",center:"right",right:"left"},E={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},K=(D=="top"||D=="bottom"),C=false,B=false,G=false;if(!o){U.verbose("All available positions available");o=U.get.positions()}U.debug("Recording last position tried",H);o[H]=true;if(n.prefer==="opposite"){G=[F[D],J];G=G.join(" ");C=(o[G]===true);U.debug("Trying opposite strategy",G)}if((n.prefer==="adjacent")&&K){G=[D,A[J]];G=G.join(" ");B=(o[G]===true);U.debug("Trying adjacent strategy",G)}if(B||C){U.debug("Using backup position",G);G=E[H]}return G}},set:{position:function(E,H){if(P.length===0||Q.length===0){U.error(N.notFound);return}var F,G,D,I,B,C,A,J;H=H||U.get.calculations();E=E||q.data(m.position)||n.position;F=q.data(m.offset)||n.offset;G=n.distanceAway;D=H.target;I=H.popup;B=H.parent;if(D.width===0&&D.height===0){U.debug("Popup target is hidden, no action taken");return false}if(n.inline){U.debug("Adding margin to calculation",D.margin);if(E=="left center"||E=="right center"){F+=D.margin.top;G+=-D.margin.left}else{if(E=="top left"||E=="top center"||E=="top right"){F+=D.margin.left;G-=D.margin.top}else{F+=D.margin.left;G+=D.margin.top}}}U.debug("Determining popup position from calculations",E,H);if(U.is.rtl()){E=E.replace(/left|right/g,function(K){return(K=="left")?"right":"left"});U.debug("RTL: Popup position updated",E)}if(k==n.maxSearchDepth&&n.lastResort){U.debug('Using "last resort" position to display',n.lastResort);E=n.lastResort}switch(E){case"top left":A={top:"auto",bottom:B.height-D.top+G,left:D.left+F,right:"auto"};break;case"top center":A={bottom:B.height-D.top+G,left:D.left+(D.width/2)-(I.width/2)+F,top:"auto",right:"auto"};break;case"top right":A={bottom:B.height-D.top+G,right:B.width-D.left-D.width-F,top:"auto",left:"auto"};break;case"left center":A={top:D.top+(D.height/2)-(I.height/2)+F,right:B.width-D.left+G,left:"auto",bottom:"auto"};break;case"right center":A={top:D.top+(D.height/2)-(I.height/2)+F,left:D.left+D.width+G,bottom:"auto",right:"auto"};break;case"bottom left":A={top:D.top+D.height+G,left:D.left+F,bottom:"auto",right:"auto"};break;case"bottom center":A={top:D.top+D.height+G,left:D.left+(D.width/2)-(I.width/2)+F,bottom:"auto",right:"auto"};break;case"bottom right":A={top:D.top+D.height+G,right:B.width-D.left-D.width-F,left:"auto",bottom:"auto"};break}if(A===g){U.error(N.invalidPosition,E)}U.debug("Calculated popup positioning values",A);Q.css(A).removeClass(R.position).addClass(E).addClass(R.loading);J=U.get.offstagePosition(E,H);if(J){U.debug("Popup cant fit into viewport",E,J);if(k<n.maxSearchDepth){k++;E=U.get.nextPosition(E);U.debug("Trying new position",E);return(Q)?U.set.position(E,H):false}else{if(!n.lastResort){U.debug("Popup could not find a position in view",Q);U.remove.attempts();U.remove.loading();U.reset();return false}}}U.debug("Position is on stage",E);U.remove.attempts();U.set.fluidWidth(H);U.remove.loading();return true},fluidWidth:function(A){A=A||U.get.calculations();if(n.setFluidWidth&&Q.hasClass(R.fluid)){Q.css("width",A.parent.width)}},visible:function(){q.addClass(R.visible)}},remove:{loading:function(){Q.removeClass(R.loading)},visible:function(){q.removeClass(R.visible)},attempts:function(){U.verbose("Resetting all searched positions");k=0;o=false}},bind:{events:function(){U.debug("Binding popup events to module");if(n.on=="click"){q.on("click"+O,U.toggle)}if(n.on=="hover"&&t){q.on("touchstart"+O,U.event.touchstart)}else{if(U.get.startEvent()){q.on(U.get.startEvent()+O,U.event.start).on(U.get.endEvent()+O,U.event.end)}}if(n.target){U.debug("Target set to element",P)}y.on("resize"+M,U.event.resize)},popup:function(){U.verbose("Allowing hover events on popup to prevent closing");if(Q&&U.has.popup()){Q.on("mouseenter"+O,U.event.start).on("mouseleave"+O,U.event.end)}},close:function(){if(n.hideOnScroll===true||(n.hideOnScroll=="auto"&&n.on!="click")){v.one(U.get.scrollEvent()+M,U.event.hideGracefully);T.one(U.get.scrollEvent()+M,U.event.hideGracefully)}if(n.on=="hover"&&i){U.verbose("Binding popup close event to document");v.on("touchstart"+M,function(A){U.verbose("Touched away from popup");U.event.hideGracefully.call(S,A)})}if(n.on=="click"&&n.closable){U.verbose("Binding popup close event to document");v.on("click"+M,function(A){U.verbose("Clicked away from popup");U.event.hideGracefully.call(S,A)})}}},unbind:{close:function(){if(n.hideOnScroll===true||(n.hideOnScroll=="auto"&&n.on!="click")){v.off("scroll"+M,U.hide);T.off("scroll"+M,U.hide)}if(n.on=="hover"&&i){v.off("touchstart"+M);i=false}if(n.on=="click"&&n.closable){U.verbose("Removing close event from document");v.off("click"+M)}}},has:{popup:function(){return(Q&&Q.length>0)}},is:{active:function(){return q.hasClass(R.active)},animating:function(){return(Q&&Q.hasClass(R.animating))},visible:function(){return Q&&Q.hasClass(R.visible)},dropdown:function(){return q.hasClass(R.dropdown)},hidden:function(){return !U.is.visible()},rtl:function(){return q.css("direction")=="rtl"}},reset:function(){U.remove.visible();if(n.preserve){if(h.fn.transition!==g){Q.transition("remove transition")}}else{U.removePopup()}},setting:function(B,A){if(h.isPlainObject(B)){h.extend(true,n,B)}else{if(A!==g){n[B]=A}else{return n[B]}}},internal:function(B,A){if(h.isPlainObject(B)){h.extend(true,U,B)}else{if(A!==g){U[B]=A}else{return U[B]}}},debug:function(){if(n.debug){if(n.performance){U.performance.log(arguments)}else{U.debug=Function.prototype.bind.call(console.info,console,n.name+":");U.debug.apply(console,arguments)}}},verbose:function(){if(n.verbose&&n.debug){if(n.performance){U.performance.log(arguments)}else{U.verbose=Function.prototype.bind.call(console.info,console,n.name+":");U.verbose.apply(console,arguments)}}},error:function(){U.error=Function.prototype.bind.call(console.error,console,n.name+":");U.error.apply(console,arguments)},performance:{log:function(B){var C,A,D;if(n.performance){C=new Date().getTime();D=x||C;A=C-D;x=C;d.push({Name:B[0],Arguments:[].slice.call(B,1)||"",Element:S,"Execution Time":A})}clearTimeout(U.performance.timer);U.performance.timer=setTimeout(U.performance.display,500)},display:function(){var A=n.name+":",B=0;x=false;clearTimeout(U.performance.timer);h.each(d,function(D,C){B+=C["Execution Time"]});A+=" "+B+"ms";if(s){A+=" '"+s+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(A);if(console.table){console.table(d)}else{h.each(d,function(D,C){console.log(C.Name+": "+C["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(B,F,D){var E=l,A,C,G;F=F||b;D=S||D;if(typeof B=="string"&&E!==g){B=B.split(/[\. ]/);A=B.length-1;h.each(B,function(H,I){var J=(H!=A)?I+B[H+1].charAt(0).toUpperCase()+B[H+1].slice(1):B;if(h.isPlainObject(E[J])&&(H!=A)){E=E[J]}else{if(E[J]!==g){C=E[J];return false}else{if(h.isPlainObject(E[I])&&(H!=A)){E=E[I]}else{if(E[I]!==g){C=E[I];return false}else{return false}}}}})}if(h.isFunction(C)){G=C.apply(D,F)}else{if(C!==g){G=C}}if(h.isArray(w)){w.push(G)}else{if(w!==g){w=[w,G]}else{if(G!==g){w=G}}}return C}};if(z){if(l===g){U.initialize()}U.invoke(r)}else{if(l!==g){l.invoke("destroy")}U.initialize()}});return(w!==g)?w:this};h.fn.popup.settings={name:"Popup",debug:false,verbose:false,performance:true,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:true,position:"top left",variation:"",movePopup:true,target:false,popup:false,inline:false,preserve:true,hoverable:false,content:false,html:false,title:false,closable:true,hideOnScroll:"auto",exclusive:false,context:"body",prefer:"opposite",lastResort:false,delay:{show:50,hide:70},setFluidWidth:true,duration:200,transition:"scale",distanceAway:0,offset:0,maxSearchDepth:20,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"No visible position could be found for the popup",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(d){var b=/[&<>"'`]/g,a=/[&<>"'`]/,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return c[i]};if(a.test(d)){return d.replace(b,j)}return d},popup:function(a){var c="",b=h.fn.popup.settings.templates.escape;if(typeof a!==g){if(typeof a.title!==g&&a.title){a.title=b(a.title);c+='<div class="header">'+a.title+"</div>"}if(typeof a.content!==g&&a.content){a.content=b(a.content);c+='<div class="content">'+a.content+"</div>"}}return c}}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Progress
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.progress=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.progress.settings,a):h.extend({},h.fn.progress.settings),M=l.className,G=l.metadata,j=l.namespace,P=l.selector,K=l.error,k="."+j,N="module-"+j,I=h(this),E=h(this).find(P.bar),L=h(this).find(P.progress),J=h(this).find(P.label),O=this,m=I.data(N),i=false,H,F;F={initialize:function(){F.debug("Initializing progress bar",l);F.set.duration();F.set.transitionEvent();F.read.metadata();F.read.settings();F.instantiate()},instantiate:function(){F.verbose("Storing instance of progress",F);m=F;I.data(N,F)},destroy:function(){F.verbose("Destroying previous progress for",I);clearInterval(m.interval);F.remove.state();I.removeData(N);m=g},reset:function(){F.set.percent(0)},complete:function(){if(F.percent===g||F.percent<100){F.set.percent(100)}},read:{metadata:function(){var s={percent:I.data(G.percent),total:I.data(G.total),value:I.data(G.value)};if(s.percent){F.debug("Current percent value set from metadata",s.percent);F.set.percent(s.percent)}if(s.total){F.debug("Total value set from metadata",s.total);F.set.total(s.total)}if(s.value){F.debug("Current value set from metadata",s.value);F.set.value(s.value);F.set.progress(s.value)}},settings:function(){if(l.total!==false){F.debug("Current total set in settings",l.total);F.set.total(l.total)}if(l.value!==false){F.debug("Current value set in settings",l.value);F.set.value(l.value);F.set.progress(F.value)}if(l.percent!==false){F.debug("Current percent set in settings",l.percent);F.set.percent(l.percent)}}},increment:function(u){var s,v,t;if(F.has.total()){v=F.get.value();u=u||1;t=v+u;s=F.get.total();F.debug("Incrementing value",v,t,s);if(t>s){F.debug("Value cannot increment above total",s);t=s}}else{v=F.get.percent();u=u||F.get.randomValue();t=v+u;s=100;F.debug("Incrementing percentage by",v,t);if(t>s){F.debug("Value cannot increment above 100 percent");t=s}}F.set.progress(t)},decrement:function(u){var t=F.get.total(),v,s;if(t){v=F.get.value();u=u||1;s=v-u;F.debug("Decrementing value by",u,v)}else{v=F.get.percent();u=u||F.get.randomValue();s=v-u;F.debug("Decrementing percentage by",u,v)}if(s<0){F.debug("Value cannot decrement below 0");s=0}F.set.progress(s)},has:{total:function(){return(F.get.total()!==false)}},get:{text:function(t){var u=F.value||0,v=F.total||0,w=(i)?F.get.displayPercent():F.percent||0,s=(F.total>0)?(v-u):(100-w);t=t||"";t=t.replace("{value}",u).replace("{total}",v).replace("{left}",s).replace("{percent}",w);F.debug("Adding variables to progress bar text",t);return t},randomValue:function(){F.debug("Generating random increment percentage");return Math.floor((Math.random()*l.random.max)+l.random.min)},numericValue:function(s){return(typeof s==="string")?(s.replace(/[^\d.]/g,"")!=="")?+(s.replace(/[^\d.]/g,"")):false:s},transitionEnd:function(){var u=f.createElement("element"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},s;for(s in t){if(u.style[s]!==g){return t[s]}}},displayPercent:function(){var s=E.width(),v=I.width(),t=parseInt(E.css("min-width"),10),u=(s>t)?(s/v*100):F.percent;return(l.precision>0)?Math.round(u*(10*l.precision))/(10*l.precision):Math.round(u)},percent:function(){return F.percent||0},value:function(){return F.value||0},total:function(){return F.total||false}},is:{success:function(){return I.hasClass(M.success)},warning:function(){return I.hasClass(M.warning)},error:function(){return I.hasClass(M.error)},active:function(){return I.hasClass(M.active)},visible:function(){return I.is(":visible")}},remove:{state:function(){F.verbose("Removing stored state");delete F.total;delete F.percent;delete F.value},active:function(){F.verbose("Removing active state");I.removeClass(M.active)},success:function(){F.verbose("Removing success state");I.removeClass(M.success)},warning:function(){F.verbose("Removing warning state");I.removeClass(M.warning)},error:function(){F.verbose("Removing error state");I.removeClass(M.error)}},set:{barWidth:function(s){if(s>100){F.error(K.tooHigh,s)}else{if(s<0){F.error(K.tooLow,s)}else{E.css("width",s+"%");I.attr("data-percent",parseInt(s,10))}}},duration:function(s){s=s||l.duration;s=(typeof s=="number")?s+"ms":s;F.verbose("Setting progress bar transition duration",s);E.css({"transition-duration":s})},percent:function(s){s=(typeof s=="string")?+(s.replace("%","")):s;s=(l.precision>0)?Math.round(s*(10*l.precision))/(10*l.precision):Math.round(s);F.percent=s;if(!F.has.total()){F.value=(l.precision>0)?Math.round((s/100)*F.total*(10*l.precision))/(10*l.precision):Math.round((s/100)*F.total*10)/10;if(l.limitValues){F.value=(F.value>100)?100:(F.value<0)?0:F.value}}F.set.barWidth(s);F.set.labelInterval();F.set.labels();l.onChange.call(O,s,F.value,F.total)},labelInterval:function(){var s=function(){F.verbose("Bar finished animating, removing continuous label updates");clearInterval(F.interval);i=false;F.set.labels()};clearInterval(F.interval);E.one(H+k,s);F.timer=setTimeout(s,l.duration+100);i=true;F.interval=setInterval(F.set.labels,l.framerate)},labels:function(){F.verbose("Setting both bar progress and outer label text");F.set.barLabel();F.set.state()},label:function(s){s=s||"";if(s){s=F.get.text(s);F.debug("Setting label to text",s);J.text(s)}},state:function(s){s=(s!==g)?s:F.percent;if(s===100){if(l.autoSuccess&&!(F.is.warning()||F.is.error())){F.set.success();F.debug("Automatically triggering success at 100%")}else{F.verbose("Reached 100% removing active state");F.remove.active()}}else{if(s>0){F.verbose("Adjusting active progress bar label",s);F.set.active()}else{F.remove.active();F.set.label(l.text.active)}}},barLabel:function(s){if(s!==g){L.text(F.get.text(s))}else{if(l.label=="ratio"&&F.total){F.debug("Adding ratio to bar label");L.text(F.get.text(l.text.ratio))}else{if(l.label=="percent"){F.debug("Adding percentage to bar label");L.text(F.get.text(l.text.percent))}}}},active:function(s){s=s||l.text.active;F.debug("Setting active state");if(l.showActivity&&!F.is.active()){I.addClass(M.active)}F.remove.warning();F.remove.error();F.remove.success();if(s){F.set.label(s)}l.onActive.call(O,F.value,F.total)},success:function(s){s=s||l.text.success;F.debug("Setting success state");I.addClass(M.success);F.remove.active();F.remove.warning();F.remove.error();F.complete();if(s){F.set.label(s)}l.onSuccess.call(O,F.total)},warning:function(s){s=s||l.text.warning;F.debug("Setting warning state");I.addClass(M.warning);F.remove.active();F.remove.success();F.remove.error();F.complete();if(s){F.set.label(s)}l.onWarning.call(O,F.value,F.total)},error:function(s){s=s||l.text.error;F.debug("Setting error state");I.addClass(M.error);F.remove.active();F.remove.success();F.remove.warning();F.complete();if(s){F.set.label(s)}l.onError.call(O,F.value,F.total)},transitionEvent:function(){H=F.get.transitionEnd()},total:function(s){F.total=s},value:function(s){F.value=s},progress:function(t){var s=F.get.numericValue(t),u;if(s===false){F.error(K.nonNumeric,t)}if(F.has.total()){F.set.value(s);u=(s/F.total)*100;F.debug("Calculating percent complete from total",u);F.set.percent(u)}else{u=s;F.debug("Setting value to exact percentage value",u);F.set.percent(u)}}},setting:function(t,s){F.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,l,t)}else{if(s!==g){l[t]=s}else{return l[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,F,t)}else{if(s!==g){F[t]=s}else{return F[t]}}},debug:function(){if(l.debug){if(l.performance){F.performance.log(arguments)}else{F.debug=Function.prototype.bind.call(console.info,console,l.name+":");F.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){F.performance.log(arguments)}else{F.verbose=Function.prototype.bind.call(console.info,console,l.name+":");F.verbose.apply(console,arguments)}}},error:function(){F.error=Function.prototype.bind.call(console.error,console,l.name+":");F.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:O,"Execution Time":s})}clearTimeout(F.performance.timer);F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(F.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=m,s,u,y;x=x||b;v=O||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(A,B){var z=(A!=s)?B+t[A+1].charAt(0).toUpperCase()+t[A+1].slice(1):t;if(h.isPlainObject(w[z])&&(A!=s)){w=w[z]}else{if(w[z]!==g){u=w[z];return false}else{if(h.isPlainObject(w[B])&&(A!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{F.error(K.method,t);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(m===g){F.initialize()}F.invoke(n)}else{if(m!==g){m.invoke("destroy")}F.initialize()}});return(p!==g)?p:this};h.fn.progress.settings={name:"Progress",namespace:"progress",debug:false,verbose:false,performance:true,random:{min:2,max:5},duration:300,autoSuccess:true,showActivity:true,limitValues:true,label:"percent",precision:0,framerate:(1000/30),percent:false,total:false,value:false,onChange:function(b,a,c){},onSuccess:function(a){},onActive:function(a,b){},onError:function(a,b){},onWarning:function(a,b){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:false,error:false,success:false,warning:false,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Rating
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.rating=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.rating.settings,a):h.extend({},h.fn.rating.settings),k=l.namespace,F=l.className,C=l.metadata,j=l.selector,E=l.error,A="."+k,H="module-"+k,i=this,B=h(this).data(H),D=h(this),G=D.find(j.icon),m;m={initialize:function(){m.verbose("Initializing rating module",l);if(G.length===0){m.setup.layout()}if(l.interactive){m.enable()}else{m.disable()}m.set.rating(m.get.initialRating());m.instantiate()},instantiate:function(){m.verbose("Instantiating module",l);B=m;D.data(H,m)},destroy:function(){m.verbose("Destroying previous instance",B);m.remove.events();D.removeData(H)},refresh:function(){G=D.find(j.icon)},setup:{layout:function(){var s=m.get.maxRating(),t=h.fn.rating.settings.templates.icon(s);m.debug("Generating icon html dynamically");D.html(t);m.refresh()}},event:{mouseenter:function(){var s=h(this);s.nextAll().removeClass(F.selected);D.addClass(F.selected);s.addClass(F.selected).prevAll().addClass(F.selected)},mouseleave:function(){D.removeClass(F.selected);G.removeClass(F.selected)},click:function(){var t=h(this),u=m.get.rating(),v=G.index(t)+1,s=(l.clearable=="auto")?(G.length===1):l.clearable;if(s&&u==v){m.clearRating()}else{m.set.rating(v)}}},clearRating:function(){m.debug("Clearing current rating");m.set.rating(0)},bind:{events:function(){m.verbose("Binding events");D.on("mouseenter"+A,j.icon,m.event.mouseenter).on("mouseleave"+A,j.icon,m.event.mouseleave).on("click"+A,j.icon,m.event.click)}},remove:{events:function(){m.verbose("Removing events");D.off(A)}},enable:function(){m.debug("Setting rating to interactive mode");m.bind.events();D.removeClass(F.disabled)},disable:function(){m.debug("Setting rating to read-only mode");m.remove.events();D.addClass(F.disabled)},get:{initialRating:function(){if(D.data(C.rating)!==g){D.removeData(C.rating);return D.data(C.rating)}return l.initialRating},maxRating:function(){if(D.data(C.maxRating)!==g){D.removeData(C.maxRating);return D.data(C.maxRating)}return l.maxRating},rating:function(){var s=G.filter("."+F.active).length;m.verbose("Current rating retrieved",s);return s}},set:{rating:function(s){var t=(s-1>=0)?(s-1):0,u=G.eq(t);D.removeClass(F.selected);G.removeClass(F.selected).removeClass(F.active);if(s>0){m.verbose("Setting current rating to",s);u.prevAll().andSelf().addClass(F.active)}l.onRate.call(i,s)}},setting:function(s,t){m.debug("Changing setting",s,t);if(h.isPlainObject(s)){h.extend(true,l,s)}else{if(t!==g){l[s]=t}else{return l[s]}}},internal:function(s,t){if(h.isPlainObject(s)){h.extend(true,m,s)}else{if(t!==g){m[s]=t}else{return m[s]}}},debug:function(){if(l.debug){if(l.performance){m.performance.log(arguments)}else{m.debug=Function.prototype.bind.call(console.info,console,l.name+":");m.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){m.performance.log(arguments)}else{m.verbose=Function.prototype.bind.call(console.info,console,l.name+":");m.verbose.apply(console,arguments)}}},error:function(){m.error=Function.prototype.bind.call(console.error,console,l.name+":");m.error.apply(console,arguments)},performance:{log:function(u){var v,t,s;if(l.performance){v=new Date().getTime();s=q||v;t=v-s;q=v;d.push({Name:u[0],Arguments:[].slice.call(u,1)||"",Element:i,"Execution Time":t})}clearTimeout(m.performance.timer);m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var t=l.name+":",s=0;q=false;clearTimeout(m.performance.timer);h.each(d,function(v,u){s+=u["Execution Time"]});t+=" "+s+"ms";if(o){t+=" '"+o+"'"}if(c.length>1){t+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(t);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(u,y,w){var x=B,t,v,s;y=y||b;w=i||w;if(typeof u=="string"&&x!==g){u=u.split(/[\. ]/);t=u.length-1;h.each(u,function(z,K){var L=(z!=t)?K+u[z+1].charAt(0).toUpperCase()+u[z+1].slice(1):u;if(h.isPlainObject(x[L])&&(z!=t)){x=x[L]}else{if(x[L]!==g){v=x[L];return false}else{if(h.isPlainObject(x[K])&&(z!=t)){x=x[K]}else{if(x[K]!==g){v=x[K];return false}else{return false}}}}})}if(h.isFunction(v)){s=v.apply(w,y)}else{if(v!==g){s=v}}if(h.isArray(p)){p.push(s)}else{if(p!==g){p=[p,s]}else{if(s!==g){p=s}}}return v}};if(r){if(B===g){m.initialize()}m.invoke(n)}else{if(B!==g){B.invoke("destroy")}m.initialize()}});return(p!==g)?p:this};h.fn.rating.settings={name:"Rating",namespace:"rating",debug:false,verbose:false,performance:true,initialRating:0,interactive:true,maxRating:4,clearable:"auto",onRate:function(a){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(c){var a=1,b="";while(a<=c){b+='<i class="icon"></i>';a++}return b}}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Search
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.search=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;h(this).each(function(){var J=(h.isPlainObject(a))?h.extend(true,{},h.fn.search.settings,a):h.extend({},h.fn.search.settings),P=J.className,H=J.metadata,I=J.regExp,M=J.selector,i=J.error,F=J.namespace,j="."+F,l=F+"-module",L=h(this),O=L.find(M.prompt),K=L.find(M.searchButton),N=L.find(M.results),k=L.find(M.result),m=L.find(M.category),Q=this,G=L.data(l),R;R={initialize:function(){R.verbose("Initializing module");R.determine.searchFields();R.bind.events();R.set.type();R.create.results();R.instantiate()},instantiate:function(){R.verbose("Storing instance of module",R);G=R;L.data(l,R)},destroy:function(){R.verbose("Destroying instance");L.off(j).removeData(l)},bind:{events:function(){R.verbose("Binding events to search");if(J.automatic){L.on(R.get.inputEvent()+j,M.prompt,R.event.input);O.attr("autocomplete","off")}L.on("focus"+j,M.prompt,R.event.focus).on("blur"+j,M.prompt,R.event.blur).on("keydown"+j,M.prompt,R.handleKeyboard).on("click"+j,M.searchButton,R.query).on("mousedown"+j,M.results,R.event.result.mousedown).on("mouseup"+j,M.results,R.event.result.mouseup).on("click"+j,M.result,R.event.result.click)}},determine:{searchFields:function(){if(a&&a.searchFields!==g){J.searchFields=a.searchFields}}},event:{input:function(){clearTimeout(R.timer);R.timer=setTimeout(R.query,J.searchDelay)},focus:function(){R.set.focus();if(R.has.minimumCharacters()){R.query();R.showResults()}},blur:function(t){var s=(f.activeElement===this);if(!s&&!R.resultsClicked){R.cancel.query();R.remove.focus();R.timer=setTimeout(R.hideResults,J.hideDelay)}},result:{mousedown:function(){R.resultsClicked=true},mouseup:function(){R.resultsClicked=false},click:function(C){R.debug("Search result selected");var y=h(this),v=y.find(M.title).eq(0),w=y.find("a[href]").eq(0),B=w.attr("href")||false,x=w.attr("target")||false,u=v.html(),t=(v.length>0)?v.text():false,z=R.get.results(),s=y.data(H.result)||R.get.result(t,z),A;if(h.isFunction(J.onSelect)){if(J.onSelect.call(Q,s,z)===false){R.debug("Custom onSelect callback cancelled default select action");return}}R.hideResults();if(t){R.set.value(t)}if(B){R.verbose("Opening search link found in result",w);if(x=="_blank"||C.ctrlKey){e.open(B)}else{e.location.href=(B)}}}}},handleKeyboard:function(s){var v=L.find(M.result),w=L.find(M.category),x=v.index(v.filter("."+P.active)),y=v.length,z=s.which,t={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40},u;if(z==t.escape){R.verbose("Escape key pressed, blurring search field");O.trigger("blur")}if(R.is.visible()){if(z==t.enter){R.verbose("Enter key pressed, selecting active result");if(v.filter("."+P.active).length>0){R.event.result.click.call(v.filter("."+P.active),s);s.preventDefault();return false}}else{if(z==t.upArrow){R.verbose("Up key pressed, changing active result");u=(x-1<0)?x:x-1;w.removeClass(P.active);v.removeClass(P.active).eq(u).addClass(P.active).closest(w).addClass(P.active);s.preventDefault()}else{if(z==t.downArrow){R.verbose("Down key pressed, changing active result");u=(x+1>=y)?x:x+1;w.removeClass(P.active);v.removeClass(P.active).eq(u).addClass(P.active).closest(w).addClass(P.active);s.preventDefault()}}}}else{if(z==t.enter){R.verbose("Enter key pressed, executing query");R.query();R.set.buttonPressed();O.one("keyup",R.remove.buttonFocus)}}},setup:{api:function(){var t={debug:J.debug,on:false,cache:"local",action:"search",onError:R.error},s;R.verbose("First request, initializing API");L.api(t)}},can:{useAPI:function(){return h.fn.api!==g},transition:function(){return J.transition&&h.fn.transition!==g&&L.transition("is supported")}},is:{empty:function(){return(N.html()==="")},visible:function(){return(N.filter(":visible").length>0)},focused:function(){return(O.filter(":focus").length>0)}},get:{inputEvent:function(){var t=O[0],s=(t!==g&&t.oninput!==g)?"input":(t!==g&&t.onpropertychange!==g)?"propertychange":"keyup";return s},value:function(){return O.val()},results:function(){var s=L.data(H.results);return s},result:function(s,t){var u=["title","id"],v=false;s=(s!==g)?s:R.get.value();t=(t!==g)?t:R.get.results();if(J.type==="category"){R.debug("Finding result that matches",s);h.each(t,function(x,w){if(h.isArray(w.results)){v=R.search.object(s,w.results,u)[0];if(v){return false}}})}else{R.debug("Finding result in results object",s);v=R.search.object(s,t,u)[0]}return v||false}},set:{focus:function(){L.addClass(P.focus)},loading:function(){L.addClass(P.loading)},value:function(s){R.verbose("Setting search input value",s);O.val(s)},type:function(s){s=s||J.type;if(J.type=="category"){L.addClass(J.type)}},buttonPressed:function(){K.addClass(P.pressed)}},remove:{loading:function(){L.removeClass(P.loading)},focus:function(){L.removeClass(P.focus)},buttonPressed:function(){K.removeClass(P.pressed)}},query:function(){var s=R.get.value(),t=R.read.cache(s);if(R.has.minimumCharacters()){if(t){R.debug("Reading result from cache",s);R.save.results(t.results);R.addResults(t.html);R.inject.id(t.results)}else{R.debug("Querying for",s);if(h.isPlainObject(J.source)||h.isArray(J.source)){R.search.local(s)}else{if(R.can.useAPI()){R.search.remote(s)}else{R.error(i.source)}}J.onSearchQuery.call(Q,s)}}else{R.hideResults()}},search:{local:function(u){var t=R.search.object(u,J.content),s;R.set.loading();R.save.results(t);R.debug("Returned local search results",t);s=R.generateResults({results:t});R.remove.loading();R.addResults(s);R.inject.id(t);R.write.cache(u,{html:s,results:t})},remote:function(t){var s={onSuccess:function(u){R.parse.response.call(Q,u,t)},onFailure:function(){R.displayMessage(i.serverError)},urlData:{query:t}};if(!L.api("get request")){R.setup.api()}h.extend(true,s,J.apiSettings);R.debug("Executing search",s);R.cancel.query();L.api("setting",s).api("query")},object:function(v,s,z){var t=[],x=[],w=v.toString().replace(I.escape,"\\$&"),u=new RegExp(I.beginsWith+w,"i"),y=function(A,C){var D=(h.inArray(C,t)==-1),B=(h.inArray(C,x)==-1);if(D&&B){A.push(C)}};s=s||J.source;z=(z!==g)?z:J.searchFields;if(!h.isArray(z)){z=[z]}if(s===g||s===false){R.error(i.source);return[]}h.each(z,function(B,A){h.each(s,function(E,D){var C=(typeof D[A]=="string");if(C){if(D[A].search(u)!==-1){y(t,D)}else{if(J.searchFullText&&R.fuzzySearch(v,D[A])){y(x,D)}}}})});return h.merge(t,x)}},fuzzySearch:function(u,w){var s=w.length,x=u.length;if(typeof u!=="string"){return false}u=u.toLowerCase();w=w.toLowerCase();if(x>s){return false}if(x===s){return(u===w)}search:for(var t=0,y=0;t<x;t++){var v=u.charCodeAt(t);while(y<s){if(w.charCodeAt(y++)===v){continue search}}return false}return true},parse:{response:function(t,u){var s=R.generateResults(t);R.verbose("Parsing server response",t);if(t!==g){if(u!==g&&t.results!==g){R.addResults(s);R.inject.id(t.results);R.write.cache(u,{html:s,results:t.results});R.save.results(t.results)}}}},cancel:{query:function(){if(R.can.useAPI()){L.api("abort")}}},has:{minimumCharacters:function(){var t=R.get.value(),s=t.length;return(s>=J.minCharacters)}},clear:{cache:function(s){var t=L.data(H.cache);if(!s){R.debug("Clearing cache",s);L.removeData(H.cache)}else{if(s&&t&&t[s]){R.debug("Removing value from cache",s);delete t[s];L.data(H.cache,t)}}}},read:{cache:function(s){var t=L.data(H.cache);if(J.cache){R.verbose("Checking cache for generated html for query",s);return(typeof t=="object")&&(t[s]!==g)?t[s]:false}return false}},create:{id:function(y,v){var s=(y+1),w=(v+1),u,x,t;if(v!==g){x=String.fromCharCode(97+v);t=x+s;R.verbose("Creating category result id",t)}else{t=s;R.verbose("Creating result id",t)}return t},results:function(){if(N.length===0){N=h("<div />").addClass(P.results).appendTo(L)}}},inject:{result:function(u,v,s){R.verbose("Injecting result into results");var t=(s!==g)?N.children().eq(s).children(M.result).eq(v):N.children(M.result).eq(v);R.verbose("Injecting results metadata",t);t.data(H.result,u)},id:function(t){R.debug("Injecting unique ids into results");var s=0,u=0;if(J.type==="category"){h.each(t,function(w,v){u=0;h.each(v.results,function(x,z){var y=v.results[x];if(y.id===g){y.id=R.create.id(u,s)}R.inject.result(y,u,s);u++});s++})}else{h.each(t,function(w,v){var x=t[w];if(x.id===g){x.id=R.create.id(u)}R.inject.result(x,u);u++})}return t}},save:{results:function(s){R.verbose("Saving current search results to metadata",s);L.data(H.results,s)}},write:{cache:function(t,s){var u=(L.data(H.cache)!==g)?L.data(H.cache):{};if(J.cache){R.verbose("Writing generated html to cache",t,s);u[t]=s;L.data(H.cache,u)}}},addResults:function(s){if(h.isFunction(J.onResultsAdd)){if(J.onResultsAdd.call(N,s)===false){R.debug("onResultsAdd callback cancelled default action");return false}}N.html(s);R.showResults()},showResults:function(){if(!R.is.visible()&&R.is.focused()&&!R.is.empty()){if(R.can.transition()){R.debug("Showing results with css animations");N.transition({animation:J.transition+" in",debug:J.debug,verbose:J.verbose,duration:J.duration,queue:true})}else{R.debug("Showing results with javascript");N.stop().fadeIn(J.duration,J.easing)}J.onResultsOpen.call(N)}},hideResults:function(){if(R.is.visible()){if(R.can.transition()){R.debug("Hiding results with css animations");N.transition({animation:J.transition+" out",debug:J.debug,verbose:J.verbose,duration:J.duration,queue:true})}else{R.debug("Hiding results with javascript");N.stop().fadeOut(J.duration,J.easing)}J.onResultsClose.call(N)}},generateResults:function(w){R.debug("Generating html from response",w);var s=J.templates[J.type],t=(h.isPlainObject(w.results)&&!h.isEmptyObject(w.results)),u=(h.isArray(w.results)&&w.results.length>0),v="";if(t||u){if(J.maxResults>0){if(t){if(J.type=="standard"){R.error(i.maxResults)}}else{w.results=w.results.slice(0,J.maxResults)}}if(h.isFunction(s)){v=s(w)}else{R.error(i.noTemplate,false)}}else{v=R.displayMessage(i.noResults,"empty")}J.onResults.call(Q,w);return v},displayMessage:function(s,t){t=t||"standard";R.debug("Displaying message",s,t);R.addResults(J.templates.message(s,t));return J.templates.message(s,t)},setting:function(t,s){if(h.isPlainObject(t)){h.extend(true,J,t)}else{if(s!==g){J[t]=s}else{return J[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,R,t)}else{if(s!==g){R[t]=s}else{return R[t]}}},debug:function(){if(J.debug){if(J.performance){R.performance.log(arguments)}else{R.debug=Function.prototype.bind.call(console.info,console,J.name+":");R.debug.apply(console,arguments)}}},verbose:function(){if(J.verbose&&J.debug){if(J.performance){R.performance.log(arguments)}else{R.verbose=Function.prototype.bind.call(console.info,console,J.name+":");R.verbose.apply(console,arguments)}}},error:function(){R.error=Function.prototype.bind.call(console.error,console,J.name+":");R.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(J.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:Q,"Execution Time":s})}clearTimeout(R.performance.timer);R.performance.timer=setTimeout(R.performance.display,500)},display:function(){var s=J.name+":",t=0;q=false;clearTimeout(R.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if(c.length>1){s+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=G,s,u,y;x=x||b;v=Q||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(G===g){R.initialize()}R.invoke(n)}else{if(G!==g){G.invoke("destroy")}R.initialize()}});return(p!==g)?p:this};h.fn.search.settings={name:"Search",namespace:"search",debug:false,verbose:false,performance:true,type:"standard",minCharacters:1,apiSettings:false,source:false,searchFields:["title","description"],searchFullText:true,automatic:true,hideDelay:0,searchDelay:200,maxResults:7,cache:true,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:false,onResultsAdd:false,onSearchQuery:function(){},onResults:function(a){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(d){var b=/[&<>"'`]/g,a=/[&<>"'`]/,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=function(i){return c[i]};if(a.test(d)){return d.replace(b,j)}return d},message:function(a,b){var c="";if(a!==g&&b!==g){c+='<div class="message '+b+'">';if(b=="empty"){c+='<div class="header">No Results</div class="header"><div class="description">'+a+'</div class="description">'}else{c+=' <div class="description">'+a+"</div>"}c+="</div>"}return c},category:function(c){var b="",a=h.fn.search.settings.templates.escape;if(c.results!==g){h.each(c.results,function(j,d){if(d.results!==g&&d.results.length>0){b+='<div class="category"><div class="name">'+d.name+"</div>";h.each(d.results,function(i,l){b+='<div class="result">';if(l.url){b+='<a href="'+l.url+'"></a>'}if(l.image!==g){l.image=a(l.image);b+='<div class="image"> <img src="'+l.image+'" alt=""></div>'}b+='<div class="content">';if(l.price!==g){l.price=a(l.price);b+='<div class="price">'+l.price+"</div>"}if(l.title!==g){l.title=a(l.title);b+='<div class="title">'+l.title+"</div>"}if(l.description!==g){b+='<div class="description">'+l.description+"</div>"}b+="</div></div>"});b+="</div>"}});if(c.action){b+='<a href="'+c.action.url+'" class="action">'+c.action.text+"</a>"}return b}return false},standard:function(b){var a="";if(b.results!==g){h.each(b.results,function(c,d){if(d.url){a+='<a class="result" href="'+d.url+'">'}else{a+='<a class="result">'}if(d.image!==g){a+='<div class="image"> <img src="'+d.image+'"></div>'}a+='<div class="content">';if(d.price!==g){a+='<div class="price">'+d.price+"</div>"}if(d.title!==g){a+='<div class="title">'+d.title+"</div>"}if(d.description!==g){a+='<div class="description">'+d.description+"</div>"}a+="</div>";a+="</a>"});if(b.action){a+='<a href="'+b.action.url+'" class="action">'+b.action.text+"</a>"}return a}return false}}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Shape
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.shape=function(a){var c=h(this),q=h("body"),s=new Date().getTime(),d=[],o=arguments[0],t=(typeof o=="string"),b=[].slice.call(arguments,1),p=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},r;c.each(function(){var I=c.selector||"",l=(h.isPlainObject(a))?h.extend(true,{},h.fn.shape.settings,a):h.extend({},h.fn.shape.settings),j=l.namespace,P=l.selector,G=l.error,H=l.className,O="."+j,K="module-"+j,k=h(this),n=k.find(P.sides),J=k.find(P.side),L=false,m,N,M=this,i=k.data(K),F;F={initialize:function(){F.verbose("Initializing module for",M);F.set.defaultSide();F.instantiate()},instantiate:function(){F.verbose("Storing instance of module",F);i=F;k.data(K,i)},destroy:function(){F.verbose("Destroying previous module for",M);k.removeData(K).off(O)},refresh:function(){F.verbose("Refreshing selector cache for",M);k=h(M);n=h(this).find(P.shape);J=h(this).find(P.side)},repaint:function(){F.verbose("Forcing repaint event");var u=n[0]||f.createElement("div"),v=u.offsetWidth},animate:function(v,u){F.verbose("Animating box with properties",v);u=u||function(w){F.verbose("Executing animation callback");if(w!==g){w.stopPropagation()}F.reset();F.set.active()};l.beforeChange.call(N[0]);if(F.get.transitionEvent()){F.verbose("Starting CSS animation");k.addClass(H.animating);n.css(v).one(F.get.transitionEvent(),u);F.set.duration(l.duration);p(function(){k.addClass(H.animating);m.addClass(H.hidden)})}else{u()}},queue:function(u){F.debug("Queueing animation of",u);n.one(F.get.transitionEvent(),function(){F.debug("Executing queued animation");setTimeout(function(){k.shape(u)},0)})},reset:function(){F.verbose("Animating states reset");k.removeClass(H.animating).attr("style","").removeAttr("style");n.attr("style","").removeAttr("style");J.attr("style","").removeAttr("style").removeClass(H.hidden);N.removeClass(H.animating).attr("style","").removeAttr("style")},is:{complete:function(){return(J.filter("."+H.active)[0]==N[0])},animating:function(){return k.hasClass(H.animating)}},set:{defaultSide:function(){m=k.find("."+l.className.active);N=(m.next(P.side).length>0)?m.next(P.side):k.find(P.side).first();L=false;F.verbose("Active side set to",m);F.verbose("Next side set to",N)},duration:function(u){u=u||l.duration;u=(typeof u=="number")?u+"ms":u;F.verbose("Setting animation duration",u);if(l.duration||l.duration===0){n.add(J).css({"-webkit-transition-duration":u,"-moz-transition-duration":u,"-ms-transition-duration":u,"-o-transition-duration":u,"transition-duration":u})}},currentStageSize:function(){var u=k.find("."+l.className.active),v=u.outerWidth(true),w=u.outerHeight(true);k.css({width:v,height:w})},stageSize:function(){var u=k.clone().addClass(H.loading),w=u.find("."+l.className.active),v=(L)?u.find(P.side).eq(L):(w.next(P.side).length>0)?w.next(P.side):u.find(P.side).first(),x={};F.set.currentStageSize();w.removeClass(H.active);v.addClass(H.active);u.insertAfter(k);x={width:v.outerWidth(true),height:v.outerHeight(true)};u.remove();k.css(x);F.verbose("Resizing stage to fit new content",x)},nextSide:function(u){L=u;N=J.filter(u);L=J.index(N);if(N.length===0){F.set.defaultSide();F.error(G.side)}F.verbose("Next side manually set to",N)},active:function(){F.verbose("Setting new side to active",N);J.removeClass(H.active);N.addClass(H.active);l.onChange.call(N[0]);F.set.defaultSide()}},flip:{up:function(){if(F.is.complete()&&!F.is.animating()&&!l.allowRepeats){F.debug("Side already visible",N);return}if(!F.is.animating()){F.debug("Flipping up",N);F.set.stageSize();F.stage.above();F.animate(F.get.transform.up())}else{F.queue("flip up")}},down:function(){if(F.is.complete()&&!F.is.animating()&&!l.allowRepeats){F.debug("Side already visible",N);return}if(!F.is.animating()){F.debug("Flipping down",N);F.set.stageSize();F.stage.below();F.animate(F.get.transform.down())}else{F.queue("flip down")}},left:function(){if(F.is.complete()&&!F.is.animating()&&!l.allowRepeats){F.debug("Side already visible",N);return}if(!F.is.animating()){F.debug("Flipping left",N);F.set.stageSize();F.stage.left();F.animate(F.get.transform.left())}else{F.queue("flip left")}},right:function(){if(F.is.complete()&&!F.is.animating()&&!l.allowRepeats){F.debug("Side already visible",N);return}if(!F.is.animating()){F.debug("Flipping right",N);F.set.stageSize();F.stage.right();F.animate(F.get.transform.right())}else{F.queue("flip right")}},over:function(){if(F.is.complete()&&!F.is.animating()&&!l.allowRepeats){F.debug("Side already visible",N);return}if(!F.is.animating()){F.debug("Flipping over",N);F.set.stageSize();F.stage.behind();F.animate(F.get.transform.over())}else{F.queue("flip over")}},back:function(){if(F.is.complete()&&!F.is.animating()&&!l.allowRepeats){F.debug("Side already visible",N);return}if(!F.is.animating()){F.debug("Flipping back",N);F.set.stageSize();F.stage.behind();F.animate(F.get.transform.back())}else{F.queue("flip back")}}},get:{transform:{up:function(){var u={y:-((m.outerHeight(true)-N.outerHeight(true))/2),z:-(m.outerHeight(true)/2)};return{transform:"translateY("+u.y+"px) translateZ("+u.z+"px) rotateX(-90deg)"}},down:function(){var u={y:-((m.outerHeight(true)-N.outerHeight(true))/2),z:-(m.outerHeight(true)/2)};return{transform:"translateY("+u.y+"px) translateZ("+u.z+"px) rotateX(90deg)"}},left:function(){var u={x:-((m.outerWidth(true)-N.outerWidth(true))/2),z:-(m.outerWidth(true)/2)};return{transform:"translateX("+u.x+"px) translateZ("+u.z+"px) rotateY(90deg)"}},right:function(){var u={x:-((m.outerWidth(true)-N.outerWidth(true))/2),z:-(m.outerWidth(true)/2)};return{transform:"translateX("+u.x+"px) translateZ("+u.z+"px) rotateY(-90deg)"}},over:function(){var u={x:-((m.outerWidth(true)-N.outerWidth(true))/2)};return{transform:"translateX("+u.x+"px) rotateY(180deg)"}},back:function(){var u={x:-((m.outerWidth(true)-N.outerWidth(true))/2)};return{transform:"translateX("+u.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var w=f.createElement("element"),v={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},u;for(u in v){if(w.style[u]!==g){return v[u]}}},nextSide:function(){return(m.next(P.side).length>0)?m.next(P.side):k.find(P.side).first()}},stage:{above:function(){var u={origin:((m.outerHeight(true)-N.outerHeight(true))/2),depth:{active:(N.outerHeight(true)/2),next:(m.outerHeight(true)/2)}};F.verbose("Setting the initial animation position as above",N,u);n.css({transform:"translateZ(-"+u.depth.active+"px)"});m.css({transform:"rotateY(0deg) translateZ("+u.depth.active+"px)"});N.addClass(H.animating).css({top:u.origin+"px",transform:"rotateX(90deg) translateZ("+u.depth.next+"px)"})},below:function(){var u={origin:((m.outerHeight(true)-N.outerHeight(true))/2),depth:{active:(N.outerHeight(true)/2),next:(m.outerHeight(true)/2)}};F.verbose("Setting the initial animation position as below",N,u);n.css({transform:"translateZ(-"+u.depth.active+"px)"});m.css({transform:"rotateY(0deg) translateZ("+u.depth.active+"px)"});N.addClass(H.animating).css({top:u.origin+"px",transform:"rotateX(-90deg) translateZ("+u.depth.next+"px)"})},left:function(){var v={active:m.outerWidth(true),next:N.outerWidth(true)},u={origin:((v.active-v.next)/2),depth:{active:(v.next/2),next:(v.active/2)}};F.verbose("Setting the initial animation position as left",N,u);n.css({transform:"translateZ(-"+u.depth.active+"px)"});m.css({transform:"rotateY(0deg) translateZ("+u.depth.active+"px)"});N.addClass(H.animating).css({left:u.origin+"px",transform:"rotateY(-90deg) translateZ("+u.depth.next+"px)"})},right:function(){var v={active:m.outerWidth(true),next:N.outerWidth(true)},u={origin:((v.active-v.next)/2),depth:{active:(v.next/2),next:(v.active/2)}};F.verbose("Setting the initial animation position as left",N,u);n.css({transform:"translateZ(-"+u.depth.active+"px)"});m.css({transform:"rotateY(0deg) translateZ("+u.depth.active+"px)"});N.addClass(H.animating).css({left:u.origin+"px",transform:"rotateY(90deg) translateZ("+u.depth.next+"px)"})},behind:function(){var v={active:m.outerWidth(true),next:N.outerWidth(true)},u={origin:((v.active-v.next)/2),depth:{active:(v.next/2),next:(v.active/2)}};F.verbose("Setting the initial animation position as behind",N,u);m.css({transform:"rotateY(0deg)"});N.addClass(H.animating).css({left:u.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(v,u){F.debug("Changing setting",v,u);if(h.isPlainObject(v)){h.extend(true,l,v)}else{if(u!==g){l[v]=u}else{return l[v]}}},internal:function(v,u){if(h.isPlainObject(v)){h.extend(true,F,v)}else{if(u!==g){F[v]=u}else{return F[v]}}},debug:function(){if(l.debug){if(l.performance){F.performance.log(arguments)}else{F.debug=Function.prototype.bind.call(console.info,console,l.name+":");F.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){F.performance.log(arguments)}else{F.verbose=Function.prototype.bind.call(console.info,console,l.name+":");F.verbose.apply(console,arguments)}}},error:function(){F.error=Function.prototype.bind.call(console.error,console,l.name+":");F.error.apply(console,arguments)},performance:{log:function(v){var w,u,x;if(l.performance){w=new Date().getTime();x=s||w;u=w-x;s=w;d.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:M,"Execution Time":u})}clearTimeout(F.performance.timer);F.performance.timer=setTimeout(F.performance.display,500)},display:function(){var u=l.name+":",v=0;s=false;clearTimeout(F.performance.timer);h.each(d,function(x,w){v+=w["Execution Time"]});u+=" "+v+"ms";if(I){u+=" '"+I+"'"}if(c.length>1){u+=" ("+c.length+")"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(u);if(console.table){console.table(d)}else{h.each(d,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(v,z,x){var y=i,u,w,A;z=z||b;x=M||x;if(typeof v=="string"&&y!==g){v=v.split(/[\. ]/);u=v.length-1;h.each(v,function(B,C){var D=(B!=u)?C+v[B+1].charAt(0).toUpperCase()+v[B+1].slice(1):v;if(h.isPlainObject(y[D])&&(B!=u)){y=y[D]}else{if(y[D]!==g){w=y[D];return false}else{if(h.isPlainObject(y[C])&&(B!=u)){y=y[C]}else{if(y[C]!==g){w=y[C];return false}else{return false}}}}})}if(h.isFunction(w)){A=w.apply(x,z)}else{if(w!==g){A=w}}if(h.isArray(r)){r.push(A)}else{if(r!==g){r=[r,A]}else{if(A!==g){r=A}}}return w}};if(t){if(i===g){F.initialize()}F.invoke(o)}else{if(i!==g){i.invoke("destroy")}F.initialize()}});return(r!==g)?r:this};h.fn.shape.settings={name:"Shape",debug:false,verbose:false,performance:true,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:false,duration:false,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Sidebar
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.sidebar=function(a){var c=h(this),A=h(e),x=h(f),w=h("html"),v=h("head"),t=c.selector||"",z=new Date().getTime(),d=[],s=arguments[0],B=(typeof s=="string"),b=[].slice.call(arguments,1),u=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},y;c.each(function(){var j=(h.isPlainObject(a))?h.extend(true,{},h.fn.sidebar.settings,a):h.extend({},h.fn.sidebar.settings),m=j.selector,r=j.className,W=j.namespace,l=j.regExp,q=j.error,N="."+W,V="module-"+W,n=h(this),S=h(j.context),Q=n.children(m.sidebar),k=S.children(m.fixed),o=S.children(m.pusher),X,O=this,i=n.data(V),p,U,P,R,T;T={initialize:function(){T.debug("Initializing sidebar",a);T.create.id();R=T.get.transitionEvent();if(T.is.ios()){T.set.ios()}if(j.delaySetup){u(T.setup.layout)}else{T.setup.layout()}u(function(){T.setup.cache()});T.instantiate()},instantiate:function(){T.verbose("Storing instance of module",T);i=T;n.data(V,T)},create:{id:function(){U=(Math.random().toString(16)+"000000000").substr(2,8);p="."+U;T.verbose("Creating unique id for element",U)}},destroy:function(){T.verbose("Destroying previous module for",n);T.remove.direction();n.off(N).removeData(V);if(T.is.ios()){T.remove.ios()}S.off(p);A.off(p);x.off(p)},event:{clickaway:function(C){var E=(o.find(C.target).length>0||o.is(C.target)),D=(S.is(C.target));if(E){T.verbose("User clicked on dimmed page");T.hide()}if(D){T.verbose("User clicked on dimmable context (scaled out page)");T.hide()}},touch:function(C){},containScroll:function(C){if(O.scrollTop<=0){O.scrollTop=1}if((O.scrollTop+O.offsetHeight)>=O.scrollHeight){O.scrollTop=O.scrollHeight-O.offsetHeight-1}},scroll:function(C){if(h(C.target).closest(m.sidebar).length===0){C.preventDefault()}}},bind:{clickaway:function(){T.verbose("Adding clickaway events to context",S);if(j.closable){S.on("click"+p,T.event.clickaway).on("touchend"+p,T.event.clickaway)}},scrollLock:function(){if(j.scrollLock){T.debug("Disabling page scroll");A.on("DOMMouseScroll"+p,T.event.scroll)}T.verbose("Adding events to contain sidebar scroll");x.on("touchmove"+p,T.event.touch);n.on("scroll"+N,T.event.containScroll)}},unbind:{clickaway:function(){T.verbose("Removing clickaway events from context",S);S.off(p)},scrollLock:function(){T.verbose("Removing scroll lock from page");x.off(p);A.off(p);n.off("scroll"+N)}},add:{inlineCSS:function(){var E=T.cache.width||n.outerWidth(),H=T.cache.height||n.outerHeight(),G=T.is.rtl(),D=T.get.direction(),C={left:E,right:-E,top:H,bottom:-H},F;if(G){T.verbose("RTL detected, flipping widths");C.left=-E;C.right=E}F="<style>";if(D==="left"||D==="right"){T.debug("Adding CSS rules for animation distance",E);F+=" .ui.visible."+D+".sidebar ~ .fixed, .ui.visible."+D+".sidebar ~ .pusher {   -webkit-transform: translate3d("+C[D]+"px, 0, 0);           transform: translate3d("+C[D]+"px, 0, 0); }"}else{if(D==="top"||D=="bottom"){F+=" .ui.visible."+D+".sidebar ~ .fixed, .ui.visible."+D+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+C[D]+"px, 0);           transform: translate3d(0, "+C[D]+"px, 0); }"}}if(T.is.ie()){if(D==="left"||D==="right"){T.debug("Adding CSS rules for animation distance",E);F+=" body.pushable > .ui.visible."+D+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+C[D]+"px, 0, 0);           transform: translate3d("+C[D]+"px, 0, 0); }"}else{if(D==="top"||D=="bottom"){F+=" body.pushable > .ui.visible."+D+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+C[D]+"px, 0);           transform: translate3d(0, "+C[D]+"px, 0); }"}}F+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"}F+="</style>";X=h(F).appendTo(v);T.debug("Adding sizing css to head",X)}},refresh:function(){T.verbose("Refreshing selector cache");S=h(j.context);Q=S.children(m.sidebar);o=S.children(m.pusher);k=S.children(m.fixed);T.clear.cache()},refreshSidebars:function(){T.verbose("Refreshing other sidebars");Q=S.children(m.sidebar)},repaint:function(){T.verbose("Forcing repaint event");O.style.display="none";var C=O.offsetHeight;O.scrollTop=O.scrollTop;O.style.display=""},setup:{cache:function(){T.cache={width:n.outerWidth(),height:n.outerHeight(),rtl:(n.css("direction")=="rtl")}},layout:function(){if(S.children(m.pusher).length===0){T.debug("Adding wrapper element for sidebar");T.error(q.pusher);o=h('<div class="pusher" />');S.children().not(m.omitted).not(Q).wrapAll(o);T.refresh()}if(n.nextAll(m.pusher).length===0||n.nextAll(m.pusher)[0]!==o[0]){T.debug("Moved sidebar to correct parent element");T.error(q.movedSidebar,O);n.detach().prependTo(S);T.refresh()}T.clear.cache();T.set.pushable();T.set.direction()}},attachEvents:function(E,C){var D=h(E);C=h.isFunction(T[C])?T[C]:T.toggle;if(D.length>0){T.debug("Attaching sidebar events to element",E,C);D.on("click"+N,C)}else{T.error(q.notFound,E)}},show:function(C){C=h.isFunction(C)?C:function(){};if(T.is.hidden()){T.refreshSidebars();if(j.overlay){T.error(q.overlay);j.transition="overlay"}T.refresh();if(T.othersActive()){T.debug("Other sidebars currently visible");if(j.exclusive){if(j.transition!="overlay"){T.hideOthers(T.show);return}else{T.hideOthers()}}else{j.transition="overlay"}}T.pushPage(function(){C.call(O);j.onShow.call(O)});j.onChange.call(O);j.onVisible.call(O)}else{T.debug("Sidebar is already visible")}},hide:function(C){C=h.isFunction(C)?C:function(){};if(T.is.visible()||T.is.animating()){T.debug("Hiding sidebar",C);T.refreshSidebars();T.pullPage(function(){C.call(O);j.onHidden.call(O)});j.onChange.call(O);j.onHide.call(O)}},othersAnimating:function(){return(Q.not(n).filter("."+r.animating).length>0)},othersVisible:function(){return(Q.not(n).filter("."+r.visible).length>0)},othersActive:function(){return(T.othersVisible()||T.othersAnimating())},hideOthers:function(C){var E=Q.not(n).filter("."+r.visible),D=E.length,F=0;C=C||function(){};E.sidebar("hide",function(){F++;if(F==D){C()}})},toggle:function(){T.verbose("Determining toggled direction");if(T.is.hidden()){T.show()}else{T.hide()}},pushPage:function(C){var D=T.get.transition(),E=(D==="overlay"||T.othersActive())?n:o,G,F,H;C=h.isFunction(C)?C:function(){};if(j.transition=="scale down"){T.scrollToTop()}T.set.transition(D);T.repaint();G=function(){T.bind.clickaway();T.add.inlineCSS();T.set.animating();T.set.visible()};F=function(){T.set.dimmed()};H=function(I){if(I.target==E[0]){E.off(R+p,H);T.remove.animating();T.bind.scrollLock();C.call(O)}};E.off(R+p);E.on(R+p,H);u(G);if(j.dimPage&&!T.othersVisible()){u(F)}},pullPage:function(C){var D=T.get.transition(),E=(D=="overlay"||T.othersActive())?n:o,F,G;C=h.isFunction(C)?C:function(){};T.verbose("Removing context push state",T.get.direction());T.unbind.clickaway();T.unbind.scrollLock();F=function(){T.set.transition(D);T.set.animating();T.remove.visible();if(j.dimPage&&!T.othersVisible()){o.removeClass(r.dimmed)}};G=function(H){if(H.target==E[0]){E.off(R+p,G);T.remove.animating();T.remove.transition();T.remove.inlineCSS();if(D=="scale down"||(j.returnScroll&&T.is.mobile())){T.scrollBack()}C.call(O)}};E.off(R+p);E.on(R+p,G);u(F)},scrollToTop:function(){T.verbose("Scrolling to top of page to avoid animation issues");P=h(e).scrollTop();n.scrollTop(0);e.scrollTo(0,0)},scrollBack:function(){T.verbose("Scrolling back to original page position");e.scrollTo(0,P)},clear:{cache:function(){T.verbose("Clearing cached dimensions");T.cache={}}},set:{ios:function(){w.addClass(r.ios)},pushed:function(){S.addClass(r.pushed)},pushable:function(){S.addClass(r.pushable)},dimmed:function(){o.addClass(r.dimmed)},active:function(){n.addClass(r.active)},animating:function(){n.addClass(r.animating)},transition:function(C){C=C||T.get.transition();n.addClass(C)},direction:function(C){C=C||T.get.direction();n.addClass(r[C])},visible:function(){n.addClass(r.visible)},overlay:function(){n.addClass(r.overlay)}},remove:{inlineCSS:function(){T.debug("Removing inline css styles",X);if(X&&X.length>0){X.remove()}},ios:function(){w.removeClass(r.ios)},pushed:function(){S.removeClass(r.pushed)},pushable:function(){S.removeClass(r.pushable)},active:function(){n.removeClass(r.active)},animating:function(){n.removeClass(r.animating)},transition:function(C){C=C||T.get.transition();n.removeClass(C)},direction:function(C){C=C||T.get.direction();n.removeClass(r[C])},visible:function(){n.removeClass(r.visible)},overlay:function(){n.removeClass(r.overlay)}},get:{direction:function(){if(n.hasClass(r.top)){return r.top}else{if(n.hasClass(r.right)){return r.right}else{if(n.hasClass(r.bottom)){return r.bottom}}}return r.left},transition:function(){var D=T.get.direction(),C;C=(T.is.mobile())?(j.mobileTransition=="auto")?j.defaultTransition.mobile[D]:j.mobileTransition:(j.transition=="auto")?j.defaultTransition.computer[D]:j.transition;T.verbose("Determined transition",C);return C},transitionEvent:function(){var E=f.createElement("element"),D={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},C;for(C in D){if(E.style[C]!==g){return D[C]}}}},is:{ie:function(){var C=(!(e.ActiveXObject)&&"ActiveXObject" in e),D=("ActiveXObject" in e);return(C||D)},ios:function(){var C=navigator.userAgent,D=C.match(l.ios),E=C.match(l.mobileChrome);if(D&&!E){T.verbose("Browser was found to be iOS",C);return true}else{return false}},mobile:function(){var C=navigator.userAgent,D=C.match(l.mobile);if(D){T.verbose("Browser was found to be mobile",C);return true}else{T.verbose("Browser is not mobile, using regular transition",C);return false}},hidden:function(){return !T.is.visible()},visible:function(){return n.hasClass(r.visible)},open:function(){return T.is.visible()},closed:function(){return T.is.hidden()},vertical:function(){return n.hasClass(r.top)},animating:function(){return S.hasClass(r.animating)},rtl:function(){if(T.cache.rtl===g){T.cache.rtl=(n.css("direction")=="rtl")}return T.cache.rtl}},setting:function(D,C){T.debug("Changing setting",D,C);if(h.isPlainObject(D)){h.extend(true,j,D)}else{if(C!==g){j[D]=C}else{return j[D]}}},internal:function(D,C){if(h.isPlainObject(D)){h.extend(true,T,D)}else{if(C!==g){T[D]=C}else{return T[D]}}},debug:function(){if(j.debug){if(j.performance){T.performance.log(arguments)}else{T.debug=Function.prototype.bind.call(console.info,console,j.name+":");T.debug.apply(console,arguments)}}},verbose:function(){if(j.verbose&&j.debug){if(j.performance){T.performance.log(arguments)}else{T.verbose=Function.prototype.bind.call(console.info,console,j.name+":");T.verbose.apply(console,arguments)}}},error:function(){T.error=Function.prototype.bind.call(console.error,console,j.name+":");T.error.apply(console,arguments)},performance:{log:function(D){var E,C,F;if(j.performance){E=new Date().getTime();F=z||E;C=E-F;z=E;d.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:O,"Execution Time":C})}clearTimeout(T.performance.timer);T.performance.timer=setTimeout(T.performance.display,500)},display:function(){var C=j.name+":",D=0;z=false;clearTimeout(T.performance.timer);h.each(d,function(F,E){D+=E["Execution Time"]});C+=" "+D+"ms";if(t){C+=" '"+t+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(C);if(console.table){console.table(d)}else{h.each(d,function(F,E){console.log(E.Name+": "+E["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(D,H,F){var G=i,C,E,I;H=H||b;F=O||F;if(typeof D=="string"&&G!==g){D=D.split(/[\. ]/);C=D.length-1;h.each(D,function(J,K){var L=(J!=C)?K+D[J+1].charAt(0).toUpperCase()+D[J+1].slice(1):D;if(h.isPlainObject(G[L])&&(J!=C)){G=G[L]}else{if(G[L]!==g){E=G[L];return false}else{if(h.isPlainObject(G[K])&&(J!=C)){G=G[K]}else{if(G[K]!==g){E=G[K];return false}else{T.error(q.method,D);return false}}}}})}if(h.isFunction(E)){I=E.apply(F,H)}else{if(E!==g){I=E}}if(h.isArray(y)){y.push(I)}else{if(y!==g){y=[y,I]}else{if(I!==g){y=I}}}return E}};if(B){if(i===g){T.initialize()}T.invoke(s)}else{if(i!==g){T.invoke("destroy")}T.initialize()}});return(y!==g)?y:this};h.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:false,verbose:false,performance:true,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:false,closable:true,dimPage:true,scrollLock:false,returnScroll:false,delaySetup:false,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Sticky
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.sticky=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.sticky.settings,a):h.extend({},h.fn.sticky.settings),J=l.className,j=l.namespace,I=l.error,i="."+j,N="module-"+j,G=h(this),F=h(e),P=h(l.scrollContext),k,M,E=G.selector||"",m=G.data(N),K=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)},O=this,L,H;H={initialize:function(){H.determineContainer();H.determineContext();H.verbose("Initializing sticky",l,k);H.save.positions();H.checkErrors();H.bind.events();if(l.observeChanges){H.observeChanges()}H.instantiate()},instantiate:function(){H.verbose("Storing instance of module",H);m=H;G.data(N,H)},destroy:function(){H.verbose("Destroying previous instance");H.reset();if(L){L.disconnect()}F.off("load"+i,H.event.load).off("resize"+i,H.event.resize);P.off("scrollchange"+i,H.event.scrollchange);G.removeData(N)},observeChanges:function(){var s=M[0];if("MutationObserver" in e){L=new MutationObserver(function(t){clearTimeout(H.timer);H.timer=setTimeout(function(){H.verbose("DOM tree modified, updating sticky menu",t);H.refresh()},100)});L.observe(O,{childList:true,subtree:true});L.observe(s,{childList:true,subtree:true});H.debug("Setting up mutation observer",L)}},determineContainer:function(){k=G.offsetParent()},determineContext:function(){if(l.context){M=h(l.context)}else{M=k}if(M.length===0){H.error(I.invalidContext,l.context,G);return}},checkErrors:function(){if(H.is.hidden()){H.error(I.visible,G)}if(H.cache.element.height>H.cache.context.height){H.reset();H.error(I.elementSize,G);return}},bind:{events:function(){F.on("load"+i,H.event.load).on("resize"+i,H.event.resize);P.off("scroll"+i).on("scroll"+i,H.event.scroll).on("scrollchange"+i,H.event.scrollchange)}},event:{load:function(){H.verbose("Page contents finished loading");K(H.refresh)},resize:function(){H.verbose("Window resized");K(H.refresh)},scroll:function(){K(function(){P.triggerHandler("scrollchange"+i,P.scrollTop())})},scrollchange:function(s,t){H.stick(t);l.onScroll.call(O)}},refresh:function(s){H.reset();if(!l.context){H.determineContext()}if(s){H.determineContainer()}H.save.positions();H.stick();l.onReposition.call(O)},supports:{sticky:function(){var t=h("<div/>"),s=t[0];t.addClass(J.supported);return(t.css("position").match("sticky"))}},save:{lastScroll:function(s){H.lastScroll=s},elementScroll:function(s){H.elementScroll=s},positions:function(){var s={height:F.height()},t={margin:{top:parseInt(G.css("margin-top"),10),bottom:parseInt(G.css("margin-bottom"),10)},offset:G.offset(),width:G.outerWidth(),height:G.outerHeight()},u={offset:M.offset(),height:M.outerHeight(),bottomPadding:parseInt(M.css("padding-bottom"),10)},v={height:k.outerHeight()};H.cache={fits:(t.height<s.height),window:{height:s.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:u.offset.top,height:u.height,bottomPadding:u.bottomPadding,bottom:u.offset.top+u.height-u.bottomPadding}};H.set.containerSize();H.set.size();H.stick();H.debug("Caching element positions",H.cache)}},get:{direction:function(t){var s="down";t=t||P.scrollTop();if(H.lastScroll!==g){if(H.lastScroll<t){s="down"}else{if(H.lastScroll>t){s="up"}}}return s},scrollChange:function(s){s=s||P.scrollTop();return(H.lastScroll)?(s-H.lastScroll):0},currentElementScroll:function(){if(H.elementScroll){return H.elementScroll}return(H.is.top())?Math.abs(parseInt(G.css("top"),10))||0:Math.abs(parseInt(G.css("bottom"),10))||0},elementScroll:function(y){y=y||P.scrollTop();var x=H.cache.element,u=H.cache.window,s=H.get.scrollChange(y),v=(x.height-u.height+l.offset),w=H.get.currentElementScroll(),t=(w+s);if(H.cache.fits||t<0){w=0}else{if(t>v){w=v}else{w=t}}return w}},remove:{lastScroll:function(){delete H.lastScroll},elementScroll:function(s){delete H.elementScroll},offset:function(){G.css("margin-top","")}},set:{offset:function(){H.verbose("Setting offset on element",l.offset);G.css("margin-top",l.offset)},containerSize:function(){var s=k.get(0).tagName;if(s==="HTML"||s=="body"){H.determineContainer()}else{if(Math.abs(k.outerHeight()-H.cache.context.height)>l.jitter){H.debug("Context has padding, specifying exact height for container",H.cache.context.height);k.css({height:H.cache.context.height})}}},minimumSize:function(){var s=H.cache.element;k.css("min-height",s.height)},scroll:function(s){H.debug("Setting scroll on element",s);if(H.elementScroll==s){return}if(H.is.top()){G.css("bottom","").css("top",-s)}if(H.is.bottom()){G.css("top","").css("bottom",s)}},size:function(){if(H.cache.element.height!==0&&H.cache.element.width!==0){G.css({width:H.cache.element.width,height:H.cache.element.height})}}},is:{top:function(){return G.hasClass(J.top)},bottom:function(){return G.hasClass(J.bottom)},initialPosition:function(){return(!H.is.fixed()&&!H.is.bound())},hidden:function(){return(!G.is(":visible"))},bound:function(){return G.hasClass(J.bound)},fixed:function(){return G.hasClass(J.fixed)}},stick:function(t){var v=t||P.scrollTop(),D=H.cache,s=D.fits,z=D.element,w=D.window,C=D.context,A=(H.is.bottom()&&l.pushing)?l.bottomOffset:l.offset,t={top:v+A,bottom:v+A+w.height},u=H.get.direction(t.top),y=(s)?0:H.get.elementScroll(t.top),B=!s,x=(z.height!==0);if(x){if(H.is.initialPosition()){if(t.top>C.bottom){H.debug("Element bottom of container");H.bindBottom()}else{if(t.top>z.top){H.debug("Element passed, fixing element to page");H.fixTop()}}}else{if(H.is.fixed()){if(H.is.top()){if(t.top<z.top){H.debug("Fixed element reached top of container");H.setInitialPosition()}else{if((z.height+t.top-y)>C.bottom){H.debug("Fixed element reached bottom of container");H.bindBottom()}else{if(B){H.set.scroll(y)}}}}else{if(H.is.bottom()){if((t.bottom-z.height)<z.top){H.debug("Bottom fixed rail has reached top of container");H.setInitialPosition()}else{if(t.bottom>C.bottom){H.debug("Bottom fixed rail has reached bottom of container");H.bindBottom()}else{if(B){H.set.scroll(y)}}}}}}else{if(H.is.bottom()){if(l.pushing){if(H.is.bound()&&t.bottom<C.bottom){H.debug("Fixing bottom attached element to bottom of browser.");H.fixBottom()}}else{if(H.is.bound()&&(t.top<C.bottom-z.height)){H.debug("Fixing bottom attached element to top of browser.");H.fixTop()}}}}}}H.save.lastScroll(t.top);H.save.elementScroll(y)},bindTop:function(){H.debug("Binding element to top of parent container");H.remove.offset();G.css({left:"",top:"",marginBottom:""}).removeClass(J.fixed).removeClass(J.bottom).addClass(J.bound).addClass(J.top);l.onTop.call(O);l.onUnstick.call(O)},bindBottom:function(){H.debug("Binding element to bottom of parent container");H.remove.offset();G.css({left:"",top:"",marginBottom:H.cache.context.bottomPadding}).removeClass(J.fixed).removeClass(J.top).addClass(J.bound).addClass(J.bottom);l.onBottom.call(O);l.onUnstick.call(O)},setInitialPosition:function(){H.unfix();H.unbind()},fixTop:function(){H.debug("Fixing element to top of page");H.set.minimumSize();H.set.offset();G.css({left:H.cache.element.left,bottom:"",marginBottom:""}).removeClass(J.bound).removeClass(J.bottom).addClass(J.fixed).addClass(J.top);l.onStick.call(O)},fixBottom:function(){H.debug("Sticking element to bottom of page");H.set.minimumSize();H.set.offset();G.css({left:H.cache.element.left,bottom:"",marginBottom:""}).removeClass(J.bound).removeClass(J.top).addClass(J.fixed).addClass(J.bottom);l.onStick.call(O)},unbind:function(){H.debug("Removing absolute position on element");H.remove.offset();G.removeClass(J.bound).removeClass(J.top).removeClass(J.bottom)},unfix:function(){H.debug("Removing fixed position on element");H.remove.offset();G.removeClass(J.fixed).removeClass(J.top).removeClass(J.bottom);l.onUnstick.call(O)},reset:function(){H.debug("Reseting elements position");H.unbind();H.unfix();H.resetCSS();H.remove.offset();H.remove.lastScroll()},resetCSS:function(){G.css({width:"",height:""});k.css({height:""})},setting:function(t,s){if(h.isPlainObject(t)){h.extend(true,l,t)}else{if(s!==g){l[t]=s}else{return l[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,H,t)}else{if(s!==g){H[t]=s}else{return H[t]}}},debug:function(){if(l.debug){if(l.performance){H.performance.log(arguments)}else{H.debug=Function.prototype.bind.call(console.info,console,l.name+":");H.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){H.performance.log(arguments)}else{H.verbose=Function.prototype.bind.call(console.info,console,l.name+":");H.verbose.apply(console,arguments)}}},error:function(){H.error=Function.prototype.bind.call(console.error,console,l.name+":");H.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:O,"Execution Time":s})}clearTimeout(H.performance.timer);H.performance.timer=setTimeout(H.performance.display,0)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(H.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=m,s,u,y;x=x||b;v=O||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(A,B){var z=(A!=s)?B+t[A+1].charAt(0).toUpperCase()+t[A+1].slice(1):t;if(h.isPlainObject(w[z])&&(A!=s)){w=w[z]}else{if(w[z]!==g){u=w[z];return false}else{if(h.isPlainObject(w[B])&&(A!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(m===g){H.initialize()}H.invoke(n)}else{if(m!==g){m.invoke("destroy")}H.initialize()}});return(p!==g)?p:this};h.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:false,verbose:true,performance:true,pushing:false,context:false,scrollContext:e,offset:0,bottomOffset:0,jitter:5,observeChanges:false,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Tab
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.tab=function(a){var c=h.isFunction(this)?h(e):h(this),p=c.selector||"",r=new Date().getTime(),d=[],o=arguments[0],t=(typeof o=="string"),b=[].slice.call(arguments,1),s=false,q;c.each(function(){var J=(h.isPlainObject(a))?h.extend(true,{},h.fn.tab.settings,a):h.extend({},h.fn.tab.settings),L=J.className,l=J.metadata,N=J.selector,Q=J.error,R="."+J.namespace,k="module-"+J.namespace,K=h(this),i,S,j={},n=true,T=0,O=this,I=K.data(k),M,m,P,H;P={initialize:function(){P.debug("Initializing tab menu item",K);P.fix.callbacks();P.determineTabs();P.debug("Determining tabs",J.context,S);if(J.auto){P.set.auto()}P.bind.events();if(J.history&&!s){P.initializeHistory();s=true}P.instantiate()},instantiate:function(){P.verbose("Storing instance of module",P);I=P;K.data(k,P)},destroy:function(){P.debug("Destroying tabs",K);K.removeData(k).off(R)},bind:{events:function(){if(!h.isWindow(O)){P.debug("Attaching tab activation events to element",K);K.on("click"+R,P.event.click)}}},determineTabs:function(){var u;if(J.context==="parent"){if(K.closest(N.ui).length>0){u=K.closest(N.ui);P.verbose("Using closest UI element as parent",u)}else{u=K}i=u.parent();P.verbose("Determined parent element for creating context",i)}else{if(J.context){i=h(J.context);P.verbose("Using selector for tab context",J.context,i)}else{i=h("body")}}if(J.childrenOnly){S=i.children(N.tabs);P.debug("Searching tab context children for tabs",i,S)}else{S=i.find(N.tabs);P.debug("Searching tab context for tabs",i,S)}},fix:{callbacks:function(){if(h.isPlainObject(a)&&(a.onTabLoad||a.onTabInit)){if(a.onTabLoad){a.onLoad=a.onTabLoad;delete a.onTabLoad;P.error(Q.legacyLoad,a.onLoad)}if(a.onTabInit){a.onFirstLoad=a.onTabInit;delete a.onTabInit;P.error(Q.legacyInit,a.onFirstLoad)}J=h.extend(true,{},h.fn.tab.settings,a)}}},initializeHistory:function(){P.debug("Initializing page state");if(h.address===g){P.error(Q.state);return false}else{if(J.historyType=="state"){P.debug("Using HTML5 to manage state");if(J.path!==false){h.address.history(true).state(J.path)}else{P.error(Q.path);return false}}h.address.bind("change",P.event.history.change)}},event:{click:function(u){var v=h(this).data(l.tab);if(v!==g){if(J.history){P.verbose("Updating page state",u);h.address.value(v)}else{P.verbose("Changing tab",u);P.changeTab(v)}u.preventDefault()}else{P.debug("No tab specified")}},history:{change:function(u){var w=u.pathNames.join("/")||P.get.initialPath(),v=J.templates.determineTitle(w)||false;P.performance.display();P.debug("History change event",w,u);H=u;if(w!==g){P.changeTab(w)}if(v){h.address.title(v)}}}},refresh:function(){if(M){P.debug("Refreshing tab",M);P.changeTab(M)}},cache:{read:function(u){return(u!==g)?j[u]:false},add:function(u,v){u=u||M;P.debug("Adding cached content for",u);j[u]=v},remove:function(u){u=u||M;P.debug("Removing cached content for",u);delete j[u]}},set:{auto:function(){var u=(typeof J.path=="string")?J.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";P.verbose("Setting up automatic tab retrieval from server",u);if(h.isPlainObject(J.apiSettings)){J.apiSettings.url=u}else{J.apiSettings={url:u}}},loading:function(v){var u=P.get.tabElement(v),w=u.hasClass(L.loading);if(!w){P.verbose("Setting loading state for",u);u.addClass(L.loading).siblings(S).removeClass(L.active+" "+L.loading);if(u.length>0){J.onRequest.call(u[0],v)}}},state:function(u){h.address.value(u)}},changeTab:function(w){var y=(e.history&&e.history.pushState),x=(y&&J.ignoreFirstLoad&&n),v=(J.auto||h.isPlainObject(J.apiSettings)),u=(v&&!x)?P.utilities.pathToArray(w):P.get.defaultPathArray(w);w=P.utilities.arrayToPath(u);h.each(u,function(G,X){var A=u.slice(0,G+1),B=P.utilities.arrayToPath(A),Y=P.is.tab(B),F=(G+1==u.length),C=P.get.tabElement(B),z,D,Z,E;P.verbose("Looking for tab",X);if(Y){P.verbose("Tab was found",X);M=B;m=P.utilities.filterArray(u,A);if(F){E=true}else{D=u.slice(0,G+2);Z=P.utilities.arrayToPath(D);E=(!P.is.tab(Z));if(E){P.verbose("Tab parameters found",D)}}if(E&&v){if(!x){P.activate.navigation(B);P.fetch.content(B,w)}else{P.debug("Ignoring remote content on first tab load",B);n=false;P.cache.add(w,C.html());P.activate.all(B);J.onFirstLoad.call(C[0],B,m,H);J.onLoad.call(C[0],B,m,H)}return false}else{P.debug("Opened local tab",B);P.activate.all(B);if(!P.cache.read(B)){P.cache.add(B,true);P.debug("First time tab loaded calling tab init");J.onFirstLoad.call(C[0],B,m,H)}J.onLoad.call(C[0],B,m,H)}}else{if(w.search("/")==-1&&w!==""){z=h("#"+w+', a[name="'+w+'"]');B=z.closest("[data-tab]").data("tab");C=P.get.tabElement(B);if(z&&z.length>0&&B){P.debug("Anchor link used, opening parent tab",C,z);if(!C.hasClass(L.active)){setTimeout(function(){P.scrollTo(z)},0)}P.activate.all(B);if(!P.cache.read(B)){P.cache.add(B,true);P.debug("First time tab loaded calling tab init");J.onFirstLoad.call(C[0],B,m,H)}J.onLoad.call(C[0],B,m,H);return false}}else{P.error(Q.missingTab,K,i,B);return false}}})},scrollTo:function(v){var u=(v&&v.length>0)?v.offset().top:false;if(u!==false){P.debug("Forcing scroll to an in-page link in a hidden tab",u,v);h(f).scrollTop(u)}},update:{content:function(y,x,v){var u=P.get.tabElement(y),w=u[0];v=(v!==g)?v:J.evaluateScripts;if(v){P.debug("Updating HTML and evaluating inline scripts",y,x);u.html(x)}else{P.debug("Updating HTML",y,x);w.innerHTML=x}}},fetch:{content:function(y,z){var u=P.get.tabElement(y),v={dataType:"html",on:"now",cache:J.alwaysRefresh,headers:{"X-Remote":true},onSuccess:function(C){P.cache.add(z,C);P.update.content(y,C);if(y==M){P.debug("Content loaded",y);P.activate.tab(y)}else{P.debug("Content loaded in background",y)}J.onFirstLoad.call(u[0],y,m,H);J.onLoad.call(u[0],y,m,H)},urlData:{tab:z}},w=u.api("get request")||false,A=(w&&w.state()==="pending"),B,x;z=z||y;x=P.cache.read(z);if(J.cache&&x){P.activate.tab(y);P.debug("Adding cached content",z);if(J.evaluateScripts=="once"){P.update.content(y,x,false)}else{P.update.content(y,x)}J.onLoad.call(u[0],y,m,H)}else{if(A){P.set.loading(y);P.debug("Content is already loading",z)}else{if(h.api!==g){B=h.extend(true,{},J.apiSettings,v);P.debug("Retrieving remote content",z,B);P.set.loading(y);u.api(B)}else{P.error(Q.api)}}}}},activate:{all:function(u){P.activate.tab(u);P.activate.navigation(u)},tab:function(w){var u=P.get.tabElement(w),v=u.hasClass(L.active);P.verbose("Showing tab content for",u);if(!v){u.addClass(L.active).siblings(S).removeClass(L.active+" "+L.loading);if(u.length>0){J.onVisible.call(u[0],w)}}},navigation:function(w){var u=P.get.navElement(w),v=u.hasClass(L.active);P.verbose("Activating tab navigation for",u,w);if(!v){u.addClass(L.active).siblings(c).removeClass(L.active+" "+L.loading)}}},deactivate:{all:function(){P.deactivate.navigation();P.deactivate.tabs()},navigation:function(){c.removeClass(L.active)},tabs:function(){S.removeClass(L.active+" "+L.loading)}},is:{tab:function(u){return(u!==g)?(P.get.tabElement(u).length>0):false}},get:{initialPath:function(){return c.eq(0).data(l.tab)||S.eq(0).data(l.tab)},path:function(){return h.address.value()},defaultPathArray:function(u){return P.utilities.pathToArray(P.get.defaultPath(u))},defaultPath:function(w){var u=c.filter("[data-"+l.tab+'^="'+w+'/"]').eq(0),v=u.data(l.tab)||false;if(v){P.debug("Found default tab",v);if(T<J.maxDepth){T++;return P.get.defaultPath(v)}P.error(Q.recursion)}else{P.debug("No default tabs found for",w,S)}T=0;return w},navElement:function(u){u=u||M;return c.filter("[data-"+l.tab+'="'+u+'"]')},tabElement:function(y){var v,w,u,x;y=y||M;u=P.utilities.pathToArray(y);x=P.utilities.last(u);v=S.filter("[data-"+l.tab+'="'+x+'"]');w=S.filter("[data-"+l.tab+'="'+y+'"]');return(v.length>0)?v:w},tab:function(){return M}},utilities:{filterArray:function(u,v){return h.grep(u,function(w){return(h.inArray(w,v)==-1)})},last:function(u){return h.isArray(u)?u[u.length-1]:false},pathToArray:function(u){if(u===g){u=M}return typeof u=="string"?u.split("/"):[u]},arrayToPath:function(u){return h.isArray(u)?u.join("/"):false}},setting:function(v,u){P.debug("Changing setting",v,u);if(h.isPlainObject(v)){h.extend(true,J,v)}else{if(u!==g){J[v]=u}else{return J[v]}}},internal:function(v,u){if(h.isPlainObject(v)){h.extend(true,P,v)}else{if(u!==g){P[v]=u}else{return P[v]}}},debug:function(){if(J.debug){if(J.performance){P.performance.log(arguments)}else{P.debug=Function.prototype.bind.call(console.info,console,J.name+":");P.debug.apply(console,arguments)}}},verbose:function(){if(J.verbose&&J.debug){if(J.performance){P.performance.log(arguments)}else{P.verbose=Function.prototype.bind.call(console.info,console,J.name+":");P.verbose.apply(console,arguments)}}},error:function(){P.error=Function.prototype.bind.call(console.error,console,J.name+":");P.error.apply(console,arguments)},performance:{log:function(v){var w,u,x;if(J.performance){w=new Date().getTime();x=r||w;u=w-x;r=w;d.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:O,"Execution Time":u})}clearTimeout(P.performance.timer);P.performance.timer=setTimeout(P.performance.display,500)},display:function(){var u=J.name+":",v=0;r=false;clearTimeout(P.performance.timer);h.each(d,function(x,w){v+=w["Execution Time"]});u+=" "+v+"ms";if(p){u+=" '"+p+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(u);if(console.table){console.table(d)}else{h.each(d,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(A,x,v){var w=I,z,u,y;x=x||b;v=O||v;if(typeof A=="string"&&w!==g){A=A.split(/[\. ]/);z=A.length-1;h.each(A,function(B,C){var D=(B!=z)?C+A[B+1].charAt(0).toUpperCase()+A[B+1].slice(1):A;if(h.isPlainObject(w[D])&&(B!=z)){w=w[D]}else{if(w[D]!==g){u=w[D];return false}else{if(h.isPlainObject(w[C])&&(B!=z)){w=w[C]}else{if(w[C]!==g){u=w[C];return false}else{P.error(Q.method,A);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(q)){q.push(y)}else{if(q!==g){q=[q,y]}else{if(y!==g){q=y}}}return u}};if(t){if(I===g){P.initialize()}P.invoke(o)}else{if(I!==g){I.invoke("destroy")}P.initialize()}});return(q!==g)?q:this};h.tab=function(){h(e).tab.apply(this,arguments)};h.fn.tab.settings={name:"Tab",namespace:"tab",debug:false,verbose:false,performance:true,auto:false,history:false,historyType:"hash",path:false,context:false,childrenOnly:false,maxDepth:25,alwaysRefresh:false,cache:true,ignoreFirstLoad:false,apiSettings:false,evaluateScripts:"once",onFirstLoad:function(c,b,a){},onLoad:function(c,b,a){},onVisible:function(c,b,a){},onRequest:function(c,b,a){},templates:{determineTitle:function(a){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Transition
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.transition=function(){var b=h(this),o=b.selector||"",s=new Date().getTime(),c=[],q=arguments,d=q[0],a=[].slice.call(arguments,1),t=(typeof d==="string"),p=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},r;b.each(function(G){var D=h(this),J=this,i,n,E,F,C,m,H,j,I,l,k;k={initialize:function(){i=k.get.settings.apply(J,q);F=i.className;E=i.error;C=i.metadata;l="."+i.namespace;I="module-"+i.namespace;n=D.data(I)||k;m=k.get.animationEndEvent();if(t){t=k.invoke(d)}if(t===false){k.verbose("Converted arguments into settings object",i);if(i.interval){k.delay(i.animate)}else{k.animate()}k.instantiate()}},instantiate:function(){k.verbose("Storing instance of module",k);n=k;D.data(I,n)},destroy:function(){k.verbose("Destroying previous module for",J);D.removeData(I)},refresh:function(){k.verbose("Refreshing display type on next animation");delete k.displayType},forceRepaint:function(){k.verbose("Forcing element repaint");var u=D.parent(),v=D.next();if(v.length===0){D.detach().appendTo(u)}else{D.detach().insertBefore(v)}},repaint:function(){k.verbose("Repainting element");var u=J.offsetWidth},delay:function(x){var u=k.get.animationDirection(),v,w;if(!u){u=k.can.transition()?k.get.direction():"static"}x=(x!==g)?x:i.interval;v=(i.reverse=="auto"&&u==F.outward);w=(v||i.reverse==true)?(b.length-G)*i.interval:G*i.interval;k.debug("Delaying animation by",w);setTimeout(k.animate,w)},animate:function(u){i=u||i;if(!k.is.supported()){k.error(E.support);return false}k.debug("Preparing animation",i.animation);if(k.is.animating()){if(i.queue){if(!i.allowRepeats&&k.has.direction()&&k.is.occurring()&&k.queuing!==true){k.debug("Animation is currently occurring, preventing queueing same animation",i.animation)}else{k.queue(i.animation)}return false}else{if(!i.allowRepeats&&k.is.occurring()){k.debug("Animation is already occurring, will not execute repeated animation",i.animation);return false}else{k.debug("New animation started, completing previous early",i.animation);n.complete()}}}if(k.can.animate()){k.set.animating(i.animation)}else{k.error(E.noAnimation,i.animation,J)}},reset:function(){k.debug("Resetting animation to beginning conditions");k.remove.animationCallbacks();k.restore.conditions();k.remove.animating()},queue:function(u){k.debug("Queueing animation of",u);k.queuing=true;D.one(m+".queue"+l,function(){k.queuing=false;k.repaint();k.animate.apply(this,i)})},complete:function(u){k.debug("Animation complete",i.animation);k.remove.completeCallback();k.remove.failSafe();if(!k.is.looping()){if(k.is.outward()){k.verbose("Animation is outward, hiding element");k.restore.conditions();k.hide()}else{if(k.is.inward()){k.verbose("Animation is outward, showing element");k.restore.conditions();k.show()}else{k.restore.conditions()}}}},force:{visible:function(){var x=D.attr("style"),w=k.get.userStyle(),y=k.get.displayType(),z=w+"display: "+y+" !important;",v=D.css("display"),u=(x===g||x==="");if(v!==y){k.verbose("Overriding default display to show element",y);D.attr("style",z)}else{if(u){D.removeAttr("style")}}},hidden:function(){var w=D.attr("style"),v=D.css("display"),u=(w===g||w==="");if(v!=="none"&&!k.is.hidden()){k.verbose("Overriding default display to hide element");D.css("display","none")}else{if(u){D.removeAttr("style")}}}},has:{direction:function(u){var v=false;u=u||i.animation;if(typeof u==="string"){u=u.split(" ");h.each(u,function(x,w){if(w===F.inward||w===F.outward){v=true}})}return v},inlineDisplay:function(){var u=D.attr("style")||"";return h.isArray(u.match(/display.*?;/,""))}},set:{animating:function(w){var u,v;k.remove.completeCallback();w=w||i.animation;u=k.get.animationClass(w);k.save.animation(u);k.force.visible();k.remove.hidden();k.remove.direction();k.start.animation(u)},duration:function(v,u){u=u||i.duration;u=(typeof u=="number")?u+"ms":u;if(u||u===0){k.verbose("Setting animation duration",u);D.css({"animation-duration":u})}},direction:function(u){u=u||k.get.direction();if(u==F.inward){k.set.inward()}else{k.set.outward()}},looping:function(){k.debug("Transition set to loop");D.addClass(F.looping)},hidden:function(){D.addClass(F.transition).addClass(F.hidden)},inward:function(){k.debug("Setting direction to inward");D.removeClass(F.outward).addClass(F.inward)},outward:function(){k.debug("Setting direction to outward");D.removeClass(F.inward).addClass(F.outward)},visible:function(){D.addClass(F.transition).addClass(F.visible)}},start:{animation:function(u){u=u||k.get.animationClass();k.debug("Starting tween",u);D.addClass(u).one(m+".complete"+l,k.complete);if(i.useFailSafe){k.add.failSafe()}k.set.duration(i.duration);i.onStart.call(this)}},save:{animation:function(u){if(!k.cache){k.cache={}}k.cache.animation=u},displayType:function(u){if(u!=="none"){D.data(C.displayType,u)}},transitionExists:function(u,v){h.fn.transition.exists[u]=v;k.verbose("Saving existence of transition",u,v)}},restore:{conditions:function(){var u=k.get.currentAnimation();if(u){D.removeClass(u);k.verbose("Removing animation class",k.cache)}k.remove.duration()}},add:{failSafe:function(){var u=k.get.duration();k.timer=setTimeout(function(){D.triggerHandler(m)},u+i.failSafeDelay);k.verbose("Adding fail safe timer",k.timer)}},remove:{animating:function(){D.removeClass(F.animating)},animationCallbacks:function(){k.remove.queueCallback();k.remove.completeCallback()},queueCallback:function(){D.off(".queue"+l)},completeCallback:function(){D.off(".complete"+l)},display:function(){D.css("display","")},direction:function(){D.removeClass(F.inward).removeClass(F.outward)},duration:function(){D.css("animation-duration","")},failSafe:function(){k.verbose("Removing fail safe timer",k.timer);if(k.timer){clearTimeout(k.timer)}},hidden:function(){D.removeClass(F.hidden)},visible:function(){D.removeClass(F.visible)},looping:function(){k.debug("Transitions are no longer looping");if(k.is.looping()){k.reset();D.removeClass(F.looping)}},transition:function(){D.removeClass(F.visible).removeClass(F.hidden)}},get:{settings:function(w,u,v){if(typeof w=="object"){return h.extend(true,{},h.fn.transition.settings,w)}else{if(typeof v=="function"){return h.extend({},h.fn.transition.settings,{animation:w,onComplete:v,duration:u})}else{if(typeof u=="string"||typeof u=="number"){return h.extend({},h.fn.transition.settings,{animation:w,duration:u})}else{if(typeof u=="object"){return h.extend({},h.fn.transition.settings,u,{animation:w})}else{if(typeof u=="function"){return h.extend({},h.fn.transition.settings,{animation:w,onComplete:u})}else{return h.extend({},h.fn.transition.settings,{animation:w})}}}}}return h.fn.transition.settings},animationClass:function(v){var u=v||i.animation,w=(k.can.transition()&&!k.has.direction())?k.get.direction()+" ":"";return F.animating+" "+F.transition+" "+w+u},currentAnimation:function(){return k.cache.animation||false},currentDirection:function(){return k.is.inward()?F.inward:F.outward},direction:function(){return k.is.hidden()||!k.is.visible()?F.inward:F.outward},animationDirection:function(v){var u;v=v||i.animation;if(typeof v==="string"){v=v.split(" ");h.each(v,function(x,w){if(w===F.inward){u=F.inward}else{if(w===F.outward){u=F.outward}}})}if(u){return u}return false},duration:function(u){u=u||i.duration;if(u===false){u=D.css("animation-duration")||0}return(typeof u==="string")?(u.indexOf("ms")>-1)?parseFloat(u):parseFloat(u)*1000:u},displayType:function(){if(i.displayType){return i.displayType}if(D.data(C.displayType)===g){k.can.transition(true)}return D.data(C.displayType)},userStyle:function(u){u=u||D.attr("style")||"";return u.replace(/display.*?;/,"")},transitionExists:function(u){return h.fn.transition.exists[u]},animationStartEvent:function(){var w=f.createElement("div"),u={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"},v;for(v in u){if(w.style[v]!==g){return u[v]}}return false},animationEndEvent:function(){var w=f.createElement("div"),u={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"},v;for(v in u){if(w.style[v]!==g){return u[v]}}return false}},can:{transition:function(w){var B=i.animation,z=k.get.transitionExists(B),x,M,y,u,N,v,A;if(z===g||w){k.verbose("Determining whether animation exists");x=D.attr("class");M=D.prop("tagName");y=h("<"+M+" />").addClass(x).insertAfter(D);u=y.addClass(B).removeClass(F.inward).removeClass(F.outward).addClass(F.animating).addClass(F.transition).css("animationName");N=y.addClass(F.inward).css("animationName");A=y.attr("class",x).removeAttr("style").removeClass(F.hidden).removeClass(F.visible).show().css("display");k.verbose("Determining final display state",A);k.save.displayType(A);y.remove();if(u!=N){k.debug("Direction exists for animation",B);v=true}else{if(u=="none"||!u){k.debug("No animation defined in css",B);return}else{k.debug("Static animation found",B,A);v=false}}k.save.transitionExists(B,v)}return(z!==g)?z:v},animate:function(){return(k.can.transition()!==g)}},is:{animating:function(){return D.hasClass(F.animating)},inward:function(){return D.hasClass(F.inward)},outward:function(){return D.hasClass(F.outward)},looping:function(){return D.hasClass(F.looping)},occurring:function(u){u=u||i.animation;u="."+u.replace(" ",".");return(D.filter(u).length>0)},visible:function(){return D.is(":visible")},hidden:function(){return D.css("visibility")==="hidden"},supported:function(){return(m!==false)}},hide:function(){k.verbose("Hiding element");if(k.is.animating()){k.reset()}J.blur();k.remove.display();k.remove.visible();k.set.hidden();i.onHide.call(this);i.onComplete.call(this);k.force.hidden()},show:function(u){k.verbose("Showing element",u);k.remove.hidden();k.set.visible();i.onShow.call(this);i.onComplete.call(this);k.force.visible()},toggle:function(){if(k.is.visible()){k.hide()}else{k.show()}},stop:function(){k.debug("Stopping current animation");D.triggerHandler(m)},stopAll:function(){k.debug("Stopping all animation");k.remove.queueCallback();D.triggerHandler(m)},clear:{queue:function(){k.debug("Clearing animation queue");k.remove.queueCallback()}},enable:function(){k.verbose("Starting animation");D.removeClass(F.disabled)},disable:function(){k.debug("Stopping animation");D.addClass(F.disabled)},setting:function(v,u){k.debug("Changing setting",v,u);if(h.isPlainObject(v)){h.extend(true,i,v)}else{if(u!==g){i[v]=u}else{return i[v]}}},internal:function(v,u){if(h.isPlainObject(v)){h.extend(true,k,v)}else{if(u!==g){k[v]=u}else{return k[v]}}},debug:function(){if(i.debug){if(i.performance){k.performance.log(arguments)}else{k.debug=Function.prototype.bind.call(console.info,console,i.name+":");k.debug.apply(console,arguments)}}},verbose:function(){if(i.verbose&&i.debug){if(i.performance){k.performance.log(arguments)}else{k.verbose=Function.prototype.bind.call(console.info,console,i.name+":");k.verbose.apply(console,arguments)}}},error:function(){k.error=Function.prototype.bind.call(console.error,console,i.name+":");k.error.apply(console,arguments)},performance:{log:function(v){var w,u,x;if(i.performance){w=new Date().getTime();x=s||w;u=w-x;s=w;c.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:J,"Execution Time":u})}clearTimeout(k.performance.timer);k.performance.timer=setTimeout(k.performance.display,500)},display:function(){var u=i.name+":",v=0;s=false;clearTimeout(k.performance.timer);h.each(c,function(x,w){v+=w["Execution Time"]});u+=" "+v+"ms";if(o){u+=" '"+o+"'"}if(b.length>1){u+=" ("+b.length+")"}if((console.group!==g||console.table!==g)&&c.length>0){console.groupCollapsed(u);if(console.table){console.table(c)}else{h.each(c,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")})}console.groupEnd()}c=[]}},invoke:function(v,z,x){var y=n,u,w,A;z=z||a;x=J||x;if(typeof v=="string"&&y!==g){v=v.split(/[\. ]/);u=v.length-1;h.each(v,function(B,M){var N=(B!=u)?M+v[B+1].charAt(0).toUpperCase()+v[B+1].slice(1):v;if(h.isPlainObject(y[N])&&(B!=u)){y=y[N]}else{if(y[N]!==g){w=y[N];return false}else{if(h.isPlainObject(y[M])&&(B!=u)){y=y[M]}else{if(y[M]!==g){w=y[M];return false}else{return false}}}}})}if(h.isFunction(w)){A=w.apply(x,z)}else{if(w!==g){A=w}}if(h.isArray(r)){r.push(A)}else{if(r!==g){r=[r,A]}else{if(A!==g){r=A}}}return(w!==g)?w:false}};k.initialize()});return(r!==g)?r:this};h.fn.transition.exists={};h.fn.transition.settings={name:"Transition",debug:false,verbose:false,performance:true,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:true,failSafeDelay:100,allowRepeats:false,displayType:false,animation:"fade",duration:false,queue:true,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - API
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.api=h.fn.api=function(a){var c=h.isFunction(this)?h(e):h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var K=(h.isPlainObject(a))?h.extend(true,{},h.fn.api.settings,a):h.extend({},h.fn.api.settings),k=K.namespace,l=K.metadata,O=K.selector,Q=K.error,R=K.className,T="."+k,j="module-"+k,L=h(this),J=L.closest(O.form),i=(K.stateContext)?h(K.stateContext):L,H,P,M,m,N,U=this,S=i[0],I=L.data(j),V;V={initialize:function(){if(!r){V.bind.events()}V.instantiate()},instantiate:function(){V.verbose("Storing instance of module",V);I=V;L.data(j,I)},destroy:function(){V.verbose("Destroying previous module for",U);L.removeData(j).off(T)},bind:{events:function(){var s=V.get.event();if(s){V.verbose("Attaching API events to element",s);L.on(s+T,V.event.trigger)}else{if(K.on=="now"){V.debug("Querying API now",s);V.query()}}}},read:{cachedResponse:function(t){var u;if(e.Storage===g){V.error(Q.noStorage);return}u=sessionStorage.getItem(t);V.debug("Using cached response",t,u);if(u!==g){try{u=JSON.parse(u)}catch(s){}return u}return false}},write:{cachedResponse:function(s,t){if(t&&t===""){V.debug("Response empty, not caching",t);return}if(e.Storage===g){V.error(Q.noStorage);return}if(h.isPlainObject(t)){t=JSON.stringify(t)}sessionStorage.setItem(s,t);V.verbose("Storing cached response for url",s,t)}},query:function(){if(V.is.disabled()){V.debug("Element is disabled API request aborted");return}if(V.is.loading()){if(K.interruptRequests){V.debug("Interrupting previous request");V.abort()}else{V.debug("Cancelling request, previous request is still pending");return}}if(K.defaultData){h.extend(true,K.urlData,V.get.defaultData())}if(K.serializeForm){K.data=V.add.formData(K.data)}P=V.get.settings();if(P===false){V.cancelled=true;V.error(Q.beforeSend);return}else{V.cancelled=false}M=V.get.templatedURL();if(!M&&!V.is.mocked()){V.error(Q.missingURL);return}M=V.add.urlData(M);if(!M&&!V.is.mocked()){return}H=h.extend(true,{},K,{type:K.method||K.type,data:m,url:K.base+M,beforeSend:K.beforeXHR,success:function(){},failure:function(){},complete:function(){}});V.debug("Querying URL",H.url);V.verbose("Using AJAX settings",H);if(K.cache==="local"&&V.read.cachedResponse(M)){V.debug("Response returned from local cache");V.request=V.create.request();V.request.resolveWith(S,[V.read.cachedResponse(M)]);return}if(!K.throttle){V.debug("Sending request",m,H.method);V.send.request()}else{if(!K.throttleFirstRequest&&!V.timer){V.debug("Sending request",m,H.method);V.send.request();V.timer=setTimeout(function(){},K.throttle)}else{V.debug("Throttling request",K.throttle);clearTimeout(V.timer);V.timer=setTimeout(function(){if(V.timer){delete V.timer}V.debug("Sending throttled request",m,H.method);V.send.request()},K.throttle)}}},is:{disabled:function(){return(L.filter(O.disabled).length>0)},form:function(){return L.is("form")},mocked:function(){return(K.mockResponse||K.mockResponseAsync)},input:function(){return L.is("input")},loading:function(){return(V.request&&V.request.state()=="pending")},abortedRequest:function(s){if(s&&s.readyState!==g&&s.readyState===0){V.verbose("XHR request determined to be aborted");return true}else{V.verbose("XHR request was not aborted");return false}},validResponse:function(s){if(K.dataType!=="json"||!h.isFunction(K.successTest)){V.verbose("Response is not JSON, skipping validation",K.successTest,s);return true}V.debug("Checking JSON returned success",K.successTest,s);if(K.successTest(s)){V.debug("Response passed success test",s);return true}else{V.debug("Response failed success test",s);return false}}},was:{cancelled:function(){return(V.cancelled||false)},succesful:function(){return(V.request&&V.request.state()=="resolved")},failure:function(){return(V.request&&V.request.state()=="rejected")},complete:function(){return(V.request&&(V.request.state()=="resolved"||V.request.state()=="rejected"))}},add:{urlData:function(u,v){var t,s;if(u){t=u.match(K.regExp.required);s=u.match(K.regExp.optional);v=v||K.urlData;if(t){V.debug("Looking for required URL variables",t);h.each(t,function(z,y){var w=(y.indexOf("$")!==-1)?y.substr(2,y.length-3):y.substr(1,y.length-2),x=(h.isPlainObject(v)&&v[w]!==g)?v[w]:(L.data(w)!==g)?L.data(w):(i.data(w)!==g)?i.data(w):v[w];if(x===g){V.error(Q.requiredParameter,w,u);u=false;return false}else{V.verbose("Found required variable",w,x);u=u.replace(y,x)}})}if(s){V.debug("Looking for optional URL variables",t);h.each(s,function(z,y){var w=(y.indexOf("$")!==-1)?y.substr(3,y.length-4):y.substr(2,y.length-3),x=(h.isPlainObject(v)&&v[w]!==g)?v[w]:(L.data(w)!==g)?L.data(w):(i.data(w)!==g)?i.data(w):v[w];if(x!==g){V.verbose("Optional variable Found",w,x);u=u.replace(y,x)}else{V.verbose("Optional variable not found",w);if(u.indexOf("/"+y)!==-1){u=u.replace("/"+y,"")}else{u=u.replace(y,"")}}})}}return u},formData:function(t){var v=(h.fn.serializeObject!==g),s=(v)?J.serializeObject():J.serialize(),u;t=t||K.data;u=h.isPlainObject(t);if(u){if(v){V.debug("Extending existing data with form data",t,s);t=h.extend(true,{},t,s)}else{V.error(Q.missingSerialize);V.debug("Cant extend data. Replacing data with form data",t,s);t=s}}else{V.debug("Adding form data",s);t=s}return t}},send:{request:function(){V.set.loading();V.request=V.create.request();if(V.is.mocked()){V.mockedXHR=V.create.mockedXHR()}else{V.xhr=V.create.xhr()}K.onRequest.call(S,V.request,V.xhr)}},event:{trigger:function(s){V.query();if(s.type=="submit"||s.type=="click"){s.preventDefault()}},xhr:{always:function(){},done:function(v,x,s){var u=this,w=(new Date().getTime()-N),y=(K.loadingDuration-w),t=(h.isFunction(K.onResponse))?K.onResponse.call(u,h.extend(true,{},v)):false;y=(y>0)?y:0;if(t){V.debug("Modified API response in onResponse callback",K.onResponse,t,v);v=t}if(y>0){V.debug("Response completed early delaying state change by",y)}setTimeout(function(){if(V.is.validResponse(v)){V.request.resolveWith(u,[v])}else{V.request.rejectWith(u,[s,"invalid"])}},y)},fail:function(s,w,u){var t=this,v=(new Date().getTime()-N),x=(K.loadingDuration-v);x=(x>0)?x:0;if(x>0){V.debug("Response completed early delaying state change by",x)}setTimeout(function(){if(V.is.abortedRequest(s)){V.request.rejectWith(t,[s,"aborted",u])}else{V.request.rejectWith(t,[s,"error",w,u])}},x)}},request:{complete:function(s){V.remove.loading();K.onComplete.call(S,s,L)},done:function(s){V.debug("Successful API Response",s);if(K.cache==="local"&&M){V.write.cachedResponse(M,s);V.debug("Saving server response locally",V.cache)}K.onSuccess.call(S,s,L)},fail:function(s,w,t){var v=h.isPlainObject(s)?(s.responseText):false,u=(h.isPlainObject(v)&&v.error!==g)?v.error:(K.error[w]!==g)?K.error[w]:t;if(w=="aborted"){V.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",w,t);K.onAbort.call(S,w,L)}else{if(w=="invalid"){V.debug("JSON did not pass success test. A server-side error has most likely occurred",v)}else{if(w=="error"){if(s!==g){V.debug("XHR produced a server error",w,t);if(s.status!=200&&t!==g&&t!==""){V.error(Q.statusMessage+t,H.url)}K.onError.call(S,u,L)}}}}if(K.errorDuration&&w!=="aborted"){V.debug("Adding error state");V.set.error();setTimeout(V.remove.error,K.errorDuration)}V.debug("API Request failed",u,s);K.onFailure.call(S,v,L)}}},create:{request:function(){return h.Deferred().always(V.event.request.complete).done(V.event.request.done).fail(V.event.request.fail)},mockedXHR:function(){var x=false,v=false,t=false,w,u,s;s=h.Deferred().always(V.event.xhr.complete).done(V.event.xhr.done).fail(V.event.xhr.fail);if(K.mockResponse){if(h.isFunction(K.mockResponse)){V.debug("Using mocked callback returning response",K.mockResponse);u=K.mockResponse.call(S,K)}else{V.debug("Using specified response",K.mockResponse);u=K.mockResponse}s.resolveWith(S,[u,x,{responseText:u}])}else{if(h.isFunction(K.mockResponseAsync)){w=function(y){V.debug("Async callback returned response",y);if(y){s.resolveWith(S,[y,x,{responseText:y}])}else{s.rejectWith(S,[{responseText:y},v,t])}};V.debug("Using async mocked response",K.mockResponseAsync);K.mockResponseAsync.call(S,K,w)}}return s},xhr:function(){var s;s=h.ajax(H).always(V.event.xhr.always).done(V.event.xhr.done).fail(V.event.xhr.fail);V.verbose("Created server request",s);return s}},set:{error:function(){V.verbose("Adding error state to element",i);i.addClass(R.error)},loading:function(){V.verbose("Adding loading state to element",i);i.addClass(R.loading);N=new Date().getTime()}},remove:{error:function(){V.verbose("Removing error state from element",i);i.removeClass(R.error)},loading:function(){V.verbose("Removing loading state from element",i);i.removeClass(R.loading)}},get:{request:function(){return V.request||false},xhr:function(){return V.xhr||false},settings:function(){var s;s=K.beforeSend.call(S,K);if(s){if(s.success!==g){V.debug("Legacy success callback detected",s);V.error(Q.legacyParameters,s.success);s.onSuccess=s.success}if(s.failure!==g){V.debug("Legacy failure callback detected",s);V.error(Q.legacyParameters,s.failure);s.onFailure=s.failure}if(s.complete!==g){V.debug("Legacy complete callback detected",s);V.error(Q.legacyParameters,s.complete);s.onComplete=s.complete}}if(s===g){V.error(Q.noReturnedValue)}return(s!==g)?s:K},defaultData:function(){var s={};if(!h.isWindow(U)){if(V.is.input()){s.value=L.val()}else{if(!V.is.form()){}else{s.text=L.text()}}}return s},event:function(){if(h.isWindow(U)||K.on=="now"){V.debug("API called without element, no events attached");return false}else{if(K.on=="auto"){if(L.is("input")){return(U.oninput!==g)?"input":(U.onpropertychange!==g)?"propertychange":"keyup"}else{if(L.is("form")){return"submit"}else{return"click"}}}else{return K.on}}},templatedURL:function(s){s=s||L.data(l.action)||K.action||false;M=L.data(l.url)||K.url||false;if(M){V.debug("Using specified url",M);return M}if(s){V.debug("Looking up url for action",s,K.api);if(K.api[s]===g&&!V.is.mocked()){V.error(Q.missingAction,K.action,K.api);return}M=K.api[s]}else{if(V.is.form()){M=L.attr("action")||false;V.debug("No url or action specified, defaulting to form action",M)}}return M}},abort:function(){var s=V.get.xhr();if(s&&s.state()!=="resolved"){V.debug("Cancelling API request");s.abort()}},reset:function(){V.remove.error();V.remove.loading()},setting:function(t,s){V.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,K,t)}else{if(s!==g){K[t]=s}else{return K[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,V,t)}else{if(s!==g){V[t]=s}else{return V[t]}}},debug:function(){if(K.debug){if(K.performance){V.performance.log(arguments)}else{V.debug=Function.prototype.bind.call(console.info,console,K.name+":");V.debug.apply(console,arguments)}}},verbose:function(){if(K.verbose&&K.debug){if(K.performance){V.performance.log(arguments)}else{V.verbose=Function.prototype.bind.call(console.info,console,K.name+":");V.verbose.apply(console,arguments)}}},error:function(){V.error=Function.prototype.bind.call(console.error,console,K.name+":");V.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(K.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"","Execution Time":s})}clearTimeout(V.performance.timer);V.performance.timer=setTimeout(V.performance.display,500)},display:function(){var s=K.name+":",t=0;q=false;clearTimeout(V.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(y,v,t){var u=I,x,s,w;v=v||b;t=U||t;if(typeof y=="string"&&u!==g){y=y.split(/[\. ]/);x=y.length-1;h.each(y,function(z,A){var B=(z!=x)?A+y[z+1].charAt(0).toUpperCase()+y[z+1].slice(1):y;if(h.isPlainObject(u[B])&&(z!=x)){u=u[B]}else{if(u[B]!==g){s=u[B];return false}else{if(h.isPlainObject(u[A])&&(z!=x)){u=u[A]}else{if(u[A]!==g){s=u[A];return false}else{V.error(Q.method,y);return false}}}}})}if(h.isFunction(s)){w=s.apply(t,v)}else{if(s!==g){w=s}}if(h.isArray(p)){p.push(w)}else{if(p!==g){p=[p,w]}else{if(w!==g){p=w}}}return s}};if(r){if(I===g){V.initialize()}V.invoke(n)}else{if(I!==g){I.invoke("destroy")}V.initialize()}});return(p!==g)?p:this};h.api.settings={name:"API",namespace:"api",debug:true,verbose:false,performance:true,api:{},cache:true,interruptRequests:true,on:"auto",stateContext:false,loadingDuration:0,errorDuration:2000,action:false,url:false,base:"",urlData:{},defaultData:true,serializeForm:false,throttle:0,throttleFirstRequest:true,method:"get",data:{},dataType:"json",mockResponse:false,mockResponseAsync:false,beforeSend:function(a){return a},beforeXHR:function(a){},onRequest:function(a,b){},onResponse:false,onSuccess:function(b,a){},onComplete:function(b,a){},onFailure:function(b,a){},onError:function(b,a){},onAbort:function(b,a){},successTest:false,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching respopnses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - State
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.state=function(a){var c=h(this),p=c.selector||"",q=("ontouchstart" in f.documentElement),s=new Date().getTime(),d=[],o=arguments[0],t=(typeof o=="string"),b=[].slice.call(arguments,1),r;c.each(function(){var k=(h.isPlainObject(a))?h.extend(true,{},h.fn.state.settings,a):h.extend({},h.fn.state.settings),F=k.error,D=k.metadata,G=k.className,j=k.namespace,n=k.states,B=k.text,m="."+j,H=j+"-module",E=h(this),i=this,C=E.data(H),l;l={initialize:function(){l.verbose("Initializing module");if(k.automatic){l.add.defaults()}if(k.context&&p!==""){h(k.context).on(p,"mouseenter"+m,l.change.text).on(p,"mouseleave"+m,l.reset.text).on(p,"click"+m,l.toggle.state)}else{E.on("mouseenter"+m,l.change.text).on("mouseleave"+m,l.reset.text).on("click"+m,l.toggle.state)}l.instantiate()},instantiate:function(){l.verbose("Storing instance of module",l);C=l;E.data(H,l)},destroy:function(){l.verbose("Destroying previous module",C);E.off(m).removeData(H)},refresh:function(){l.verbose("Refreshing selector cache");E=h(i)},add:{defaults:function(){var u=a&&h.isPlainObject(a.states)?a.states:{};h.each(k.defaults,function(v,w){if(l.is[v]!==g&&l.is[v]()){l.verbose("Adding default states",v,i);h.extend(k.states,w,u)}})}},is:{active:function(){return E.hasClass(G.active)},loading:function(){return E.hasClass(G.loading)},inactive:function(){return !(E.hasClass(G.active))},state:function(u){if(G[u]===g){return false}return E.hasClass(G[u])},enabled:function(){return !(E.is(k.filter.active))},disabled:function(){return(E.is(k.filter.active))},textEnabled:function(){return !(E.is(k.filter.text))},button:function(){return E.is(".button:not(a, .submit)")},input:function(){return E.is("input")},progress:function(){return E.is(".ui.progress")}},allow:function(u){l.debug("Now allowing state",u);n[u]=true},disallow:function(u){l.debug("No longer allowing",u);n[u]=false},allows:function(u){return n[u]||false},enable:function(){E.removeClass(G.disabled)},disable:function(){E.addClass(G.disabled)},setState:function(u){if(l.allows(u)){E.addClass(G[u])}},removeState:function(u){if(l.allows(u)){E.removeClass(G[u])}},toggle:{state:function(){var v,u;if(l.allows("active")&&l.is.enabled()){l.refresh();if(h.fn.api!==g){v=E.api("get request");u=E.api("was cancelled");if(u){l.debug("API Request cancelled by beforesend");k.activateTest=function(){return false};k.deactivateTest=function(){return false}}else{if(v){l.listenTo(v);return}}}l.change.state()}}},listenTo:function(u){l.debug("API request detected, waiting for state signal",u);if(u){if(B.loading){l.update.text(B.loading)}h.when(u).then(function(){if(u.state()=="resolved"){l.debug("API request succeeded");k.activateTest=function(){return true};k.deactivateTest=function(){return true}}else{l.debug("API request failed");k.activateTest=function(){return false};k.deactivateTest=function(){return false}}l.change.state()})}},change:{state:function(){l.debug("Determining state change direction");if(l.is.inactive()){l.activate()}else{l.deactivate()}if(k.sync){l.sync()}k.onChange.call(i)},text:function(){if(l.is.textEnabled()){if(l.is.disabled()){l.verbose("Changing text to disabled text",B.hover);l.update.text(B.disabled)}else{if(l.is.active()){if(B.hover){l.verbose("Changing text to hover text",B.hover);l.update.text(B.hover)}else{if(B.deactivate){l.verbose("Changing text to deactivating text",B.deactivate);l.update.text(B.deactivate)}}}else{if(B.hover){l.verbose("Changing text to hover text",B.hover);l.update.text(B.hover)}else{if(B.activate){l.verbose("Changing text to activating text",B.activate);l.update.text(B.activate)}}}}}}},activate:function(){if(k.activateTest.call(i)){l.debug("Setting state to active");E.addClass(G.active);l.update.text(B.active);k.onActivate.call(i)}},deactivate:function(){if(k.deactivateTest.call(i)){l.debug("Setting state to inactive");E.removeClass(G.active);l.update.text(B.inactive);k.onDeactivate.call(i)}},sync:function(){l.verbose("Syncing other buttons to current state");if(l.is.active()){c.not(E).state("activate")}else{c.not(E).state("deactivate")}},get:{text:function(){return(k.selector.text)?E.find(k.selector.text).text():E.html()},textFor:function(u){return B[u]||false}},flash:{text:function(v,w,u){var x=l.get.text();l.debug("Flashing text message",v,w);v=v||k.text.flash;w=w||k.flashDuration;u=u||function(){};l.update.text(v);setTimeout(function(){l.update.text(x);u.call(i)},w)}},reset:{text:function(){var v=B.active||E.data(D.storedText),u=B.inactive||E.data(D.storedText);if(l.is.textEnabled()){if(l.is.active()&&v){l.verbose("Resetting active text",v);l.update.text(v)}else{if(u){l.verbose("Resetting inactive text",v);l.update.text(u)}}}}},update:{text:function(u){var v=l.get.text();if(u&&u!==v){l.debug("Updating text",u);if(k.selector.text){E.data(D.storedText,u).find(k.selector.text).text(u)}else{E.data(D.storedText,u).html(u)}}else{l.debug("Text is already set, ignoring update",u)}}},setting:function(v,u){l.debug("Changing setting",v,u);if(h.isPlainObject(v)){h.extend(true,k,v)}else{if(u!==g){k[v]=u}else{return k[v]}}},internal:function(v,u){if(h.isPlainObject(v)){h.extend(true,l,v)}else{if(u!==g){l[v]=u}else{return l[v]}}},debug:function(){if(k.debug){if(k.performance){l.performance.log(arguments)}else{l.debug=Function.prototype.bind.call(console.info,console,k.name+":");l.debug.apply(console,arguments)}}},verbose:function(){if(k.verbose&&k.debug){if(k.performance){l.performance.log(arguments)}else{l.verbose=Function.prototype.bind.call(console.info,console,k.name+":");l.verbose.apply(console,arguments)}}},error:function(){l.error=Function.prototype.bind.call(console.error,console,k.name+":");l.error.apply(console,arguments)},performance:{log:function(v){var w,u,x;if(k.performance){w=new Date().getTime();x=s||w;u=w-x;s=w;d.push({Name:v[0],Arguments:[].slice.call(v,1)||"",Element:i,"Execution Time":u})}clearTimeout(l.performance.timer);l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var u=k.name+":",v=0;s=false;clearTimeout(l.performance.timer);h.each(d,function(x,w){v+=w["Execution Time"]});u+=" "+v+"ms";if(p){u+=" '"+p+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(u);if(console.table){console.table(d)}else{h.each(d,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(v,z,x){var y=C,u,w,A;z=z||b;x=i||x;if(typeof v=="string"&&y!==g){v=v.split(/[\. ]/);u=v.length-1;h.each(v,function(L,M){var N=(L!=u)?M+v[L+1].charAt(0).toUpperCase()+v[L+1].slice(1):v;if(h.isPlainObject(y[N])&&(L!=u)){y=y[N]}else{if(y[N]!==g){w=y[N];return false}else{if(h.isPlainObject(y[M])&&(L!=u)){y=y[M]}else{if(y[M]!==g){w=y[M];return false}else{l.error(F.method,v);return false}}}}})}if(h.isFunction(w)){A=w.apply(x,z)}else{if(w!==g){A=w}}if(h.isArray(r)){r.push(A)}else{if(r!==g){r=[r,A]}else{if(A!==g){r=A}}}return w}};if(t){if(C===g){l.initialize()}l.invoke(o)}else{if(C!==g){C.invoke("destroy")}l.initialize()}});return(r!==g)?r:this};h.fn.state.settings={name:"State",debug:false,verbose:false,namespace:"state",performance:true,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return true},deactivateTest:function(){return true},automatic:true,sync:false,flashDuration:1000,filter:{text:".loading, .disabled",active:".disabled"},context:false,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:false},defaults:{input:{disabled:true,loading:true,active:true},button:{disabled:true,loading:true,active:true},progress:{active:true,success:true,warning:true,error:true}},states:{active:true,disabled:true,error:true,loading:true,success:true,warning:true},text:{disabled:false,flash:false,hover:false,active:false,inactive:false,activate:false,deactivate:false}}})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Visibility
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.visibility=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var J=(h.isPlainObject(a))?h.extend(true,{},h.fn.visibility.settings,a):h.extend({},h.fn.visibility.settings),P=J.className,m=J.namespace,O=J.error,F=J.metadata,i="."+m,l="module-"+m,k=h(e),I=h(this),j=h(J.context),H,K=I.selector||"",G=I.data(l),N=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)},Q=this,L=false,M,R;R={initialize:function(){R.debug("Initializing",J);R.setup.cache();if(R.should.trackChanges()){if(J.type=="image"){R.setup.image()}if(J.type=="fixed"){R.setup.fixed()}if(J.observeChanges){R.observeChanges()}R.bind.events()}R.save.position();if(!R.is.visible()){R.error(O.visible,I)}if(J.initialCheck){R.checkVisibility()}R.instantiate()},instantiate:function(){R.debug("Storing instance",R);I.data(l,R);G=R},destroy:function(){R.verbose("Destroying previous module");if(M){M.disconnect()}k.off("load"+i,R.event.load).off("resize"+i,R.event.resize);j.off("scrollchange"+i,R.event.scrollchange);I.off(i).removeData(l)},observeChanges:function(){if("MutationObserver" in e){M=new MutationObserver(function(s){R.verbose("DOM tree modified, updating visibility calculations");R.timer=setTimeout(function(){R.verbose("DOM tree modified, updating sticky menu");R.refresh()},100)});M.observe(Q,{childList:true,subtree:true});R.debug("Setting up mutation observer",M)}},bind:{events:function(){R.verbose("Binding visibility events to scroll and resize");if(J.refreshOnLoad){k.on("load"+i,R.event.load)}k.on("resize"+i,R.event.resize);j.off("scroll"+i).on("scroll"+i,R.event.scroll).on("scrollchange"+i,R.event.scrollchange)}},event:{resize:function(){R.debug("Window resized");if(J.refreshOnResize){N(R.refresh)}},load:function(){R.debug("Page finished loading");N(R.refresh)},scroll:function(){if(J.throttle){clearTimeout(R.timer);R.timer=setTimeout(function(){j.triggerHandler("scrollchange"+i,[j.scrollTop()])},J.throttle)}else{N(function(){j.triggerHandler("scrollchange"+i,[j.scrollTop()])})}},scrollchange:function(s,t){R.checkVisibility(t)}},precache:function(x,s){if(!(x instanceof Array)){x=[x]}var t=x.length,u=0,w=[],y=f.createElement("img"),v=function(){u++;if(u>=x.length){if(h.isFunction(s)){s()}}};while(t--){y=f.createElement("img");y.onload=v;y.onerror=v;y.src=x[t];w.push(y)}},enableCallbacks:function(){R.debug("Allowing callbacks to occur");L=false},disableCallbacks:function(){R.debug("Disabling all callbacks temporarily");L=true},should:{trackChanges:function(){if(r){R.debug("One time query, no need to bind events");return false}R.debug("Callbacks being attached");return true}},setup:{cache:function(){R.cache={occurred:{},screen:{},element:{}}},image:function(){var s=I.data(F.src);if(s){R.verbose("Lazy loading image",s);J.once=true;J.observeChanges=false;J.onOnScreen=function(){R.debug("Image on screen",Q);R.precache(s,function(){R.set.image(s)})}}},fixed:function(){R.debug("Setting up fixed");J.once=false;J.observeChanges=false;J.initialCheck=true;J.refreshOnLoad=true;if(!a.transition){J.transition=false}R.create.placeholder();R.debug("Added placeholder",H);J.onTopPassed=function(){R.debug("Element passed, adding fixed position",I);R.show.placeholder();R.set.fixed();if(J.transition){if(h.fn.transition!==g){I.transition(J.transition,J.duration)}}};J.onTopPassedReverse=function(){R.debug("Element returned to position, removing fixed",I);R.hide.placeholder();R.remove.fixed()}}},create:{placeholder:function(){R.verbose("Creating fixed position placeholder");H=I.clone(false).css("display","none").addClass(P.placeholder).insertAfter(I)}},show:{placeholder:function(){R.verbose("Showing placeholder");H.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){R.verbose("Hiding placeholder");H.css("display","none").css("visibility","")}},set:{fixed:function(){R.verbose("Setting element to fixed position");I.addClass(P.fixed).css({position:"fixed",top:J.offset+"px",left:"auto",zIndex:"1"})},image:function(s){I.attr("src",s);if(J.transition){if(h.fn.transition!==g){I.transition(J.transition,J.duration)}else{I.fadeIn(J.duration)}}else{I.show()}}},is:{onScreen:function(){var s=R.get.elementCalculations();return s.onScreen},offScreen:function(){var s=R.get.elementCalculations();return s.offScreen},visible:function(){if(R.cache&&R.cache.element){return !(R.cache.element.width===0&&R.cache.element.offset.top===0)}return false}},refresh:function(){R.debug("Refreshing constants (width/height)");if(J.type=="fixed"){R.remove.fixed();R.remove.occurred()}R.reset();R.save.position();if(J.checkOnRefresh){R.checkVisibility()}J.onRefresh.call(Q)},reset:function(){R.verbose("Reseting all cached values");if(h.isPlainObject(R.cache)){R.cache.screen={};R.cache.element={}}},checkVisibility:function(s){R.verbose("Checking visibility of element",R.cache.element);if(!L&&R.is.visible()){R.save.scroll(s);R.save.calculations();R.passed();R.passingReverse();R.topVisibleReverse();R.bottomVisibleReverse();R.topPassedReverse();R.bottomPassedReverse();R.onScreen();R.offScreen();R.passing();R.topVisible();R.bottomVisible();R.topPassed();R.bottomPassed();if(J.onUpdate){J.onUpdate.call(Q,R.get.elementCalculations())}}},passed:function(t,s){var u=R.get.elementCalculations(),v;if(t&&s){J.onPassed[t]=s}else{if(t!==g){return(R.get.pixelsPassed(t)>u.pixelsPassed)}else{if(u.passing){h.each(J.onPassed,function(x,w){if(u.bottomVisible||u.pixelsPassed>R.get.pixelsPassed(x)){R.execute(w,x)}else{if(!J.once){R.remove.occurred(w)}}})}}}},onScreen:function(u){var v=R.get.elementCalculations(),s=u||J.onOnScreen,t="onScreen";if(u){R.debug("Adding callback for onScreen",u);J.onOnScreen=u}if(v.onScreen){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u!==g){return v.onOnScreen}},offScreen:function(u){var v=R.get.elementCalculations(),s=u||J.onOffScreen,t="offScreen";if(u){R.debug("Adding callback for offScreen",u);J.onOffScreen=u}if(v.offScreen){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u!==g){return v.onOffScreen}},passing:function(u){var v=R.get.elementCalculations(),s=u||J.onPassing,t="passing";if(u){R.debug("Adding callback for passing",u);J.onPassing=u}if(v.passing){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u!==g){return v.passing}},topVisible:function(u){var v=R.get.elementCalculations(),s=u||J.onTopVisible,t="topVisible";if(u){R.debug("Adding callback for top visible",u);J.onTopVisible=u}if(v.topVisible){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return v.topVisible}},bottomVisible:function(u){var v=R.get.elementCalculations(),s=u||J.onBottomVisible,t="bottomVisible";if(u){R.debug("Adding callback for bottom visible",u);J.onBottomVisible=u}if(v.bottomVisible){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return v.bottomVisible}},topPassed:function(u){var v=R.get.elementCalculations(),s=u||J.onTopPassed,t="topPassed";if(u){R.debug("Adding callback for top passed",u);J.onTopPassed=u}if(v.topPassed){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return v.topPassed}},bottomPassed:function(u){var v=R.get.elementCalculations(),s=u||J.onBottomPassed,t="bottomPassed";if(u){R.debug("Adding callback for bottom passed",u);J.onBottomPassed=u}if(v.bottomPassed){R.execute(s,t)}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return v.bottomPassed}},passingReverse:function(u){var v=R.get.elementCalculations(),s=u||J.onPassingReverse,t="passingReverse";if(u){R.debug("Adding callback for passing reverse",u);J.onPassingReverse=u}if(!v.passing){if(R.get.occurred("passing")){R.execute(s,t)}}else{if(!J.once){R.remove.occurred(t)}}if(u!==g){return !v.passing}},topVisibleReverse:function(u){var v=R.get.elementCalculations(),s=u||J.onTopVisibleReverse,t="topVisibleReverse";if(u){R.debug("Adding callback for top visible reverse",u);J.onTopVisibleReverse=u}if(!v.topVisible){if(R.get.occurred("topVisible")){R.execute(s,t)}}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return !v.topVisible}},bottomVisibleReverse:function(u){var v=R.get.elementCalculations(),s=u||J.onBottomVisibleReverse,t="bottomVisibleReverse";if(u){R.debug("Adding callback for bottom visible reverse",u);J.onBottomVisibleReverse=u}if(!v.bottomVisible){if(R.get.occurred("bottomVisible")){R.execute(s,t)}}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return !v.bottomVisible}},topPassedReverse:function(u){var v=R.get.elementCalculations(),s=u||J.onTopPassedReverse,t="topPassedReverse";if(u){R.debug("Adding callback for top passed reverse",u);J.onTopPassedReverse=u}if(!v.topPassed){if(R.get.occurred("topPassed")){R.execute(s,t)}}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return !v.onTopPassed}},bottomPassedReverse:function(u){var v=R.get.elementCalculations(),s=u||J.onBottomPassedReverse,t="bottomPassedReverse";if(u){R.debug("Adding callback for bottom passed reverse",u);J.onBottomPassedReverse=u}if(!v.bottomPassed){if(R.get.occurred("bottomPassed")){R.execute(s,t)}}else{if(!J.once){R.remove.occurred(t)}}if(u===g){return !v.bottomPassed}},execute:function(s,t){var v=R.get.elementCalculations(),u=R.get.screenCalculations();s=s||false;if(s){if(J.continuous){R.debug("Callback being called continuously",t,v);s.call(Q,v,u)}else{if(!R.get.occurred(t)){R.debug("Conditions met",t,v);s.call(Q,v,u)}}}R.save.occurred(t)},remove:{fixed:function(){R.debug("Removing fixed position");I.removeClass(P.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(s){if(s){var t=R.cache.occurred;if(t[s]!==g&&t[s]===true){R.debug("Callback can now be called again",s);R.cache.occurred[s]=false}}else{R.cache.occurred={}}}},save:{calculations:function(){R.verbose("Saving all calculations necessary to determine positioning");R.save.direction();R.save.screenCalculations();R.save.elementCalculations()},occurred:function(s){if(s){if(R.cache.occurred[s]===g||(R.cache.occurred[s]!==true)){R.verbose("Saving callback occurred",s);R.cache.occurred[s]=true}}},scroll:function(s){s=s+J.offset||j.scrollTop()+J.offset;R.cache.scroll=s},direction:function(){var u=R.get.scroll(),t=R.get.lastScroll(),s;if(u>t&&t){s="down"}else{if(u<t&&t){s="up"}else{s="static"}}R.cache.direction=s;return R.cache.direction},elementPosition:function(){var s=R.cache.element,t=R.get.screenSize();R.verbose("Saving element position");s.fits=(s.height<t.height);s.offset=I.offset();s.width=I.outerWidth();s.height=I.outerHeight();R.cache.element=s;return s},elementCalculations:function(){var t=R.get.screenCalculations(),s=R.get.elementPosition();if(J.includeMargin){s.margin={};s.margin.top=parseInt(I.css("margin-top"),10);s.margin.bottom=parseInt(I.css("margin-bottom"),10);s.top=s.offset.top-s.margin.top;s.bottom=s.offset.top+s.height+s.margin.bottom}else{s.top=s.offset.top;s.bottom=s.offset.top+s.height}s.topVisible=(t.bottom>=s.top);s.topPassed=(t.top>=s.top);s.bottomVisible=(t.bottom>=s.bottom);s.bottomPassed=(t.top>=s.bottom);s.pixelsPassed=0;s.percentagePassed=0;s.onScreen=(s.topVisible&&!s.bottomPassed);s.passing=(s.topPassed&&!s.bottomPassed);s.offScreen=(!s.onScreen);if(s.passing){s.pixelsPassed=(t.top-s.top);s.percentagePassed=(t.top-s.top)/s.height}R.cache.element=s;R.verbose("Updated element calculations",s);return s},screenCalculations:function(){var s=R.get.scroll();R.save.direction();R.cache.screen.top=s;R.cache.screen.bottom=s+R.cache.screen.height;return R.cache.screen},screenSize:function(){R.verbose("Saving window position");R.cache.screen={height:j.height()}},position:function(){R.save.screenSize();R.save.elementPosition()}},get:{pixelsPassed:function(s){var t=R.get.elementCalculations();if(s.search("%")>-1){return(t.height*(parseInt(s,10)/100))}return parseInt(s,10)},occurred:function(s){return(R.cache.occurred!==g)?R.cache.occurred[s]||false:false},direction:function(){if(R.cache.direction===g){R.save.direction()}return R.cache.direction},elementPosition:function(){if(R.cache.element===g){R.save.elementPosition()}return R.cache.element},elementCalculations:function(){if(R.cache.element===g){R.save.elementCalculations()}return R.cache.element},screenCalculations:function(){if(R.cache.screen===g){R.save.screenCalculations()}return R.cache.screen},screenSize:function(){if(R.cache.screen===g){R.save.screenSize()}return R.cache.screen},scroll:function(){if(R.cache.scroll===g){R.save.scroll()}return R.cache.scroll},lastScroll:function(){if(R.cache.screen===g){R.debug("First scroll event, no last scroll could be found");return false}return R.cache.screen.top}},setting:function(t,s){if(h.isPlainObject(t)){h.extend(true,J,t)}else{if(s!==g){J[t]=s}else{return J[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,R,t)}else{if(s!==g){R[t]=s}else{return R[t]}}},debug:function(){if(J.debug){if(J.performance){R.performance.log(arguments)}else{R.debug=Function.prototype.bind.call(console.info,console,J.name+":");R.debug.apply(console,arguments)}}},verbose:function(){if(J.verbose&&J.debug){if(J.performance){R.performance.log(arguments)}else{R.verbose=Function.prototype.bind.call(console.info,console,J.name+":");R.verbose.apply(console,arguments)}}},error:function(){R.error=Function.prototype.bind.call(console.error,console,J.name+":");R.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(J.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:Q,"Execution Time":s})}clearTimeout(R.performance.timer);R.performance.timer=setTimeout(R.performance.display,500)},display:function(){var s=J.name+":",t=0;q=false;clearTimeout(R.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=G,s,u,y;x=x||b;v=Q||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{R.error(O.method,t);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(G===g){R.initialize()}G.save.scroll();G.save.calculations();R.invoke(n)}else{if(G!==g){G.invoke("destroy")}R.initialize()}});return(p!==g)?p:this};h.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:false,verbose:false,performance:true,observeChanges:true,refreshOnLoad:true,once:true,continuous:false,offset:0,includeMargin:false,context:e,initialCheck:true,throttle:false,type:false,transition:"fade in",duration:1000,onPassed:{},checkOnRefresh:true,onOnScreen:false,onOffScreen:false,onPassing:false,onTopVisible:false,onBottomVisible:false,onTopPassed:false,onBottomPassed:false,onPassingReverse:false,onTopVisibleReverse:false,onBottomVisibleReverse:false,onTopPassedReverse:false,onBottomPassedReverse:false,onUpdate:false,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}})(jQuery,window,document);
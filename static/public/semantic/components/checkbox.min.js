/*!
 * # Semantic UI x.x - Checkbox
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){c.fn.checkbox=function(m){var k=c(this),h=k.selector||"",f=new Date().getTime(),j=[],i=arguments[0],e=(typeof i=="string"),l=[].slice.call(arguments,1),g;k.each(function(){var o=c.extend(true,{},c.fn.checkbox.settings,m),u=o.className,p=o.namespace,q=o.selector,v=o.error,A="."+p,s="module-"+p,y=c(this),x=c(this).children(q.label),w=c(this).children(q.input),z=y.data(s),t,r=this,n;n={initialize:function(){n.verbose("Initializing checkbox",o);n.create.label();n.bind.events();n.set.tabbable();n.hide.input();n.observeChanges();n.instantiate();n.setup()},instantiate:function(){n.verbose("Storing instance of module",n);z=n;y.data(s,n)},destroy:function(){n.verbose("Destroying module");n.unbind.events();n.show.input();y.removeData(s)},fix:{reference:function(){if(y.is(q.input)){n.debug("Behavior called on <input> adjusting invoked element");y=y.closest(q.checkbox);n.refresh()}}},setup:function(){if(n.is.indeterminate()){n.debug("Initial value is indeterminate");n.set.indeterminate();if(o.fireOnInit){o.onIndeterminate.call(w[0]);o.onChange.call(w[0])}}else{if(n.is.checked()){n.debug("Initial value is checked");n.set.checked();if(o.fireOnInit){o.onChecked.call(w[0]);o.onChange.call(w[0])}}else{n.debug("Initial value is unchecked");n.set.unchecked();if(o.fireOnInit){o.onUnchecked.call(w[0]);o.onChange.call(w[0])}}}},refresh:function(){x=y.children(q.label);w=y.children(q.input)},hide:{input:function(){n.verbose("Modfying <input> z-index to be unselectable");w.addClass(u.hidden)}},show:{input:function(){n.verbose("Modfying <input> z-index to be selectable");w.removeClass(u.hidden)}},observeChanges:function(){if("MutationObserver" in b){t=new MutationObserver(function(B){n.debug("DOM tree modified, updating selector cache");n.refresh()});t.observe(r,{childList:true,subtree:true});n.debug("Setting up mutation observer",t)}},attachEvents:function(B,D){var C=c(B);D=c.isFunction(n[D])?n[D]:n.toggle;if(C.length>0){n.debug("Attaching checkbox events to element",B,D);C.on("click"+A,D)}else{n.error(v.notFound)}},event:{click:function(B){if(c(B.target).is(q.input)){n.verbose("Using default check action on initialized checkbox");return}n.toggle()},keydown:function(C){var B=C.which,D={enter:13,space:32,escape:27};if(B==D.escape){n.verbose("Escape key pressed blurring field");w.blur();C.preventDefault()}if(!C.ctrlKey&&(B==D.enter||B==D.space)){n.verbose("Enter key pressed, toggling checkbox");n.toggle();C.preventDefault()}}},check:function(){if(!n.is.indeterminate()&&n.is.checked()){n.debug("Checkbox is already checked");return}n.debug("Checking checkbox",w);n.set.checked();o.onChecked.call(w[0]);o.onChange.call(w[0])},uncheck:function(){if(!n.is.indeterminate()&&n.is.unchecked()){n.debug("Checkbox is already unchecked");return}n.debug("Unchecking checkbox");n.set.unchecked();o.onUnchecked.call(w[0]);o.onChange.call(w[0])},indeterminate:function(){if(n.is.indeterminate()){n.debug("Checkbox is already indeterminate");return}n.debug("Making checkbox indeterminate");n.set.indeterminate();o.onIndeterminate.call(w[0]);o.onChange.call(w[0])},determinate:function(){if(n.is.determinate()){n.debug("Checkbox is already determinate");return}n.debug("Making checkbox determinate");n.set.determinate();o.onDeterminate.call(w[0]);o.onChange.call(w[0])},enable:function(){if(n.is.enabled()){n.debug("Checkbox is already enabled");return}n.debug("Enabling checkbox");n.set.enabled();o.onEnable.call(w[0])},disable:function(){if(n.is.disabled()){n.debug("Checkbox is already disabled");return}n.debug("Disabling checkbox");n.set.disabled();o.onDisable.call(w[0])},get:{radios:function(){var B=n.get.name();return c('input[name="'+B+'"]').closest(q.checkbox)},otherRadios:function(){return n.get.radios().not(y)},name:function(){return w.attr("name")}},is:{radio:function(){return(w.hasClass(u.radio)||w.attr("type")=="radio")},indeterminate:function(){return w.prop("indeterminate")!==d&&w.prop("indeterminate")},checked:function(){return w.prop("checked")!==d&&w.prop("checked")},disabled:function(){return w.prop("disabled")!==d&&w.prop("disabled")},enabled:function(){return !n.is.disabled()},determinate:function(){return !n.is.indeterminate()},unchecked:function(){return !n.is.checked()}},can:{change:function(){return !(y.hasClass(u.disabled)||y.hasClass(u.readOnly)||w.prop("disabled")||w.prop("readonly"))},uncheck:function(){return(typeof o.uncheckable==="boolean")?o.uncheckable:!n.is.radio()}},set:{checked:function(){n.verbose("Setting class to checked");y.removeClass(u.indeterminate).addClass(u.checked);if(n.is.radio()){n.uncheckOthers()}if(!n.is.indeterminate()&&n.is.checked()){n.debug("Input is already checked, skipping input property change");return}n.verbose("Setting state to checked",w[0]);w.prop("indeterminate",false).prop("checked",true);n.trigger.change()},unchecked:function(){n.verbose("Removing checked class");y.removeClass(u.indeterminate).removeClass(u.checked);if(!n.is.indeterminate()&&n.is.unchecked()){n.debug("Input is already unchecked");return}n.debug("Setting state to unchecked");w.prop("indeterminate",false).prop("checked",false);n.trigger.change()},indeterminate:function(){n.verbose("Setting class to indeterminate");y.addClass(u.indeterminate);if(n.is.indeterminate()){n.debug("Input is already indeterminate, skipping input property change");return}n.debug("Setting state to indeterminate");w.prop("indeterminate",true);n.trigger.change()},determinate:function(){n.verbose("Removing indeterminate class");y.removeClass(u.indeterminate);if(n.is.determinate()){n.debug("Input is already determinate, skipping input property change");return}n.debug("Setting state to determinate");w.prop("indeterminate",false)},disabled:function(){n.verbose("Setting class to disabled");y.addClass(u.disabled);if(n.is.disabled()){n.debug("Input is already disabled, skipping input property change");return}n.debug("Setting state to disabled");w.prop("disabled","disabled");n.trigger.change()},enabled:function(){n.verbose("Removing disabled class");y.removeClass(u.disabled);if(n.is.enabled()){n.debug("Input is already enabled, skipping input property change");return}n.debug("Setting state to enabled");w.prop("disabled",false);n.trigger.change()},tabbable:function(){n.verbose("Adding tabindex to checkbox");if(w.attr("tabindex")===d){w.attr("tabindex",0)}}},trigger:{change:function(){n.verbose("Triggering change event from programmatic change");w.trigger("change")}},create:{label:function(){if(w.prevAll(q.label).length>0){w.prev(q.label).detach().insertAfter(w);n.debug("Moving existing label",x)}else{if(!n.has.label()){x=c("<label>").insertAfter(w);n.debug("Creating label",x)}}}},has:{label:function(){return(x.length>0)}},bind:{events:function(){n.verbose("Attaching checkbox events");y.on("click"+A,n.event.click).on("keydown"+A,q.input,n.event.keydown)}},unbind:{events:function(){n.debug("Removing events");y.off(A)}},uncheckOthers:function(){var B=n.get.otherRadios();n.debug("Unchecking other radios",B);B.removeClass(u.checked)},toggle:function(){if(!n.can.change()){if(!n.is.radio()){n.debug("Checkbox is read-only or disabled, ignoring toggle")}return}if(n.is.indeterminate()||n.is.unchecked()){n.debug("Currently unchecked");n.check()}else{if(n.is.checked()&&n.can.uncheck()){n.debug("Currently checked");n.uncheck()}}},setting:function(B,C){n.debug("Changing setting",B,C);if(c.isPlainObject(B)){c.extend(true,o,B)}else{if(C!==d){o[B]=C}else{return o[B]}}},internal:function(B,C){if(c.isPlainObject(B)){c.extend(true,n,B)}else{if(C!==d){n[B]=C}else{return n[B]}}},debug:function(){if(o.debug){if(o.performance){n.performance.log(arguments)}else{n.debug=Function.prototype.bind.call(console.info,console,o.name+":");n.debug.apply(console,arguments)}}},verbose:function(){if(o.verbose&&o.debug){if(o.performance){n.performance.log(arguments)}else{n.verbose=Function.prototype.bind.call(console.info,console,o.name+":");n.verbose.apply(console,arguments)}}},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":");n.error.apply(console,arguments)},performance:{log:function(D){var C,E,B;if(o.performance){C=new Date().getTime();B=f||C;E=C-B;f=C;j.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:r,"Execution Time":E})}clearTimeout(n.performance.timer);n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var C=o.name+":",B=0;f=false;clearTimeout(n.performance.timer);c.each(j,function(D,E){B+=E["Execution Time"]});C+=" "+B+"ms";if(h){C+=" '"+h+"'"}if((console.group!==d||console.table!==d)&&j.length>0){console.groupCollapsed(C);if(console.table){console.table(j)}else{c.each(j,function(D,E){console.log(E.Name+": "+E["Execution Time"]+"ms")})}console.groupEnd()}j=[]}},invoke:function(G,C,E){var D=z,H,F,B;C=C||l;E=r||E;if(typeof G=="string"&&D!==d){G=G.split(/[\. ]/);H=G.length-1;c.each(G,function(K,J){var I=(K!=H)?J+G[K+1].charAt(0).toUpperCase()+G[K+1].slice(1):G;if(c.isPlainObject(D[I])&&(K!=H)){D=D[I]}else{if(D[I]!==d){F=D[I];return false}else{if(c.isPlainObject(D[J])&&(K!=H)){D=D[J]}else{if(D[J]!==d){F=D[J];return false}else{n.error(v.method,G);return false}}}}})}if(c.isFunction(F)){B=F.apply(E,C)}else{if(F!==d){B=F}}if(c.isArray(g)){g.push(B)}else{if(g!==d){g=[g,B]}else{if(B!==d){g=B}}}return F}};if(e){if(z===d){n.initialize()}n.invoke(i)}else{if(z!==d){z.invoke("destroy")}n.initialize()}});return(g!==d)?g:this};c.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:false,verbose:true,performance:true,uncheckable:"auto",fireOnInit:false,onChange:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]'}}})(jQuery,window,document);
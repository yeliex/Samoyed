/*!
 * # Semantic UI x.x - Accordion
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.accordion=function(a){var c=h(this),q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),o=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(i){setTimeout(i,0)},p;c.each(function(){var l=(h.isPlainObject(a))?h.extend(true,{},h.fn.accordion.settings,a):h.extend({},h.fn.accordion.settings),H=l.className,j=l.namespace,i=l.selector,G=l.error,k="."+j,K="module-"+j,I=c.selector||"",E=h(this),F=E.find(i.title),D=E.find(i.content),L=this,C=E.data(K),J,m;m={initialize:function(){m.debug("Initializing",E);m.bind.events();m.observeChanges();m.instantiate()},instantiate:function(){C=m;E.data(K,m)},destroy:function(){m.debug("Destroying previous instance",E);E.off(k).removeData(K)},refresh:function(){F=E.find(i.title);D=E.find(i.content)},observeChanges:function(){if("MutationObserver" in e){J=new MutationObserver(function(s){m.debug("DOM tree modified, updating selector cache");m.refresh()});J.observe(L,{childList:true,subtree:true});m.debug("Setting up mutation observer",J)}},bind:{events:function(){m.debug("Binding delegated events");E.on(l.on+k,i.trigger,m.event.click)}},event:{click:function(){m.toggle.call(this)}},toggle:function(s){var y=(s!==g)?(typeof s==="number")?F.eq(s):h(s).closest(i.title):h(this).closest(i.title),x=y.next(D),t=x.hasClass(H.animating),u=x.hasClass(H.active),v=(u&&!t),w=(!u&&t);m.debug("Toggling visibility of content",y);if(v||w){if(l.collapsible){m.close.call(y)}else{m.debug("Cannot close accordion content collapsing is disabled")}}else{m.open.call(y)}},open:function(s){var x=(s!==g)?(typeof s==="number")?F.eq(s):h(s).closest(i.title):h(this).closest(i.title),w=x.next(D),t=w.hasClass(H.animating),u=w.hasClass(H.active),v=(u||t);if(v){m.debug("Accordion already open, skipping",w);return}m.debug("Opening accordion content",x);l.onOpening.call(w);if(l.exclusive){m.closeOthers.call(x)}x.addClass(H.active);w.stop(true,true).addClass(H.animating);if(l.animateChildren){if(h.fn.transition!==g&&E.transition("is supported")){w.children().transition({animation:"fade in",queue:false,useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration})}else{w.children().stop(true,true).animate({opacity:1},l.duration,m.resetOpacity)}}w.slideDown(l.duration,l.easing,function(){w.removeClass(H.animating).addClass(H.active);m.reset.display.call(this);l.onOpen.call(this);l.onChange.call(this)})},close:function(t){var y=(t!==g)?(typeof t==="number")?F.eq(t):h(t).closest(i.title):h(this).closest(i.title),x=y.next(D),u=x.hasClass(H.animating),v=x.hasClass(H.active),w=(!v&&u),s=(v&&u);if((v||w)&&!s){m.debug("Closing accordion content",x);l.onClosing.call(x);y.removeClass(H.active);x.stop(true,true).addClass(H.animating);if(l.animateChildren){if(h.fn.transition!==g&&E.transition("is supported")){x.children().transition({animation:"fade out",queue:false,useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration})}else{x.children().stop(true,true).animate({opacity:0},l.duration,m.resetOpacity)}}x.slideUp(l.duration,l.easing,function(){x.removeClass(H.animating).removeClass(H.active);m.reset.display.call(this);l.onClose.call(this);l.onChange.call(this)})}},closeOthers:function(y){var u=(y!==g)?F.eq(y):h(this).closest(i.title),t=u.parents(i.content).prev(i.title),x=u.closest(i.accordion),A=i.title+"."+H.active+":visible",z=i.content+"."+H.active+":visible",v,s,w;if(l.closeNested){v=x.find(A).not(t);w=v.next(D)}else{v=x.find(A).not(t);s=x.find(z).find(A).not(t);v=v.not(s);w=v.next(D)}if((v.length>0)){m.debug("Exclusive enabled, closing other content",v);v.removeClass(H.active);w.removeClass(H.animating).stop(true,true);if(l.animateChildren){if(h.fn.transition!==g&&E.transition("is supported")){w.children().transition({animation:"fade out",useFailSafe:true,debug:l.debug,verbose:l.verbose,duration:l.duration})}else{w.children().stop(true,true).animate({opacity:0},l.duration,m.resetOpacity)}}w.slideUp(l.duration,l.easing,function(){h(this).removeClass(H.active);m.reset.display.call(this)})}},reset:{display:function(){m.verbose("Removing inline display from element",this);h(this).css("display","");if(h(this).attr("style")===""){h(this).attr("style","").removeAttr("style")}},opacity:function(){m.verbose("Removing inline opacity from element",this);h(this).css("opacity","");if(h(this).attr("style")===""){h(this).attr("style","").removeAttr("style")}}},setting:function(t,s){m.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,l,t)}else{if(s!==g){l[t]=s}else{return l[t]}}},internal:function(t,s){m.debug("Changing internal",t,s);if(s!==g){if(h.isPlainObject(t)){h.extend(true,m,t)}else{m[t]=s}}else{return m[t]}},debug:function(){if(l.debug){if(l.performance){m.performance.log(arguments)}else{m.debug=Function.prototype.bind.call(console.info,console,l.name+":");m.debug.apply(console,arguments)}}},verbose:function(){if(l.verbose&&l.debug){if(l.performance){m.performance.log(arguments)}else{m.verbose=Function.prototype.bind.call(console.info,console,l.name+":");m.verbose.apply(console,arguments)}}},error:function(){m.error=Function.prototype.bind.call(console.error,console,l.name+":");m.error.apply(console,arguments)},performance:{log:function(t){var u,s,v;if(l.performance){u=new Date().getTime();v=q||u;s=u-v;q=u;d.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:L,"Execution Time":s})}clearTimeout(m.performance.timer);m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var s=l.name+":",t=0;q=false;clearTimeout(m.performance.timer);h.each(d,function(v,u){t+=u["Execution Time"]});s+=" "+t+"ms";if(I){s+=" '"+I+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(v,u){console.log(u.Name+": "+u["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(t,x,v){var w=C,s,u,y;x=x||b;v=L||v;if(typeof t=="string"&&w!==g){t=t.split(/[\. ]/);s=t.length-1;h.each(t,function(z,A){var B=(z!=s)?A+t[z+1].charAt(0).toUpperCase()+t[z+1].slice(1):t;if(h.isPlainObject(w[B])&&(z!=s)){w=w[B]}else{if(w[B]!==g){u=w[B];return false}else{if(h.isPlainObject(w[A])&&(z!=s)){w=w[A]}else{if(w[A]!==g){u=w[A];return false}else{m.error(G.method,t);return false}}}}})}if(h.isFunction(u)){y=u.apply(v,x)}else{if(u!==g){y=u}}if(h.isArray(p)){p.push(y)}else{if(p!==g){p=[p,y]}else{if(y!==g){p=y}}}return u}};if(r){if(C===g){m.initialize()}m.invoke(n)}else{if(C!==g){C.invoke("destroy")}m.initialize()}});return(p!==g)?p:this};h.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:false,verbose:false,performance:true,on:"click",exclusive:true,collapsible:true,closeNested:false,animateChildren:true,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}};h.extend(h.easing,{easeOutQuad:function(d,c,j,a,b){return -a*(c/=b)*(c-2)+j}})})(jQuery,window,document);
/*!
 * # Semantic UI x.x - Shape
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;!function(c,b,a,d){c.fn.shape=function(m){var f,e=c(this),p=(c("body"),(new Date).getTime()),j=[],h=arguments[0],n="string"==typeof h,k=[].slice.call(arguments,1),i=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(g){setTimeout(g,0)};return e.each(function(){var L,B,r,o=e.selector||"",K=c.isPlainObject(m)?c.extend(!0,{},c.fn.shape.settings,m):c.extend({},c.fn.shape.settings),A=K.namespace,F=K.selector,G=K.error,E=K.className,u="."+A,I="module-"+A,D=c(this),l=D.find(F.sides),q=D.find(F.side),J=!1,s=this,g=D.data(I);r={initialize:function(){r.verbose("Initializing module for",s),r.set.defaultSide(),r.instantiate()},instantiate:function(){r.verbose("Storing instance of module",r),g=r,D.data(I,g)},destroy:function(){r.verbose("Destroying previous module for",s),D.removeData(I).off(u)},refresh:function(){r.verbose("Refreshing selector cache for",s),D=c(s),l=c(this).find(F.shape),q=c(this).find(F.side)},repaint:function(){r.verbose("Forcing repaint event");var t=l[0]||a.createElement("div");t.offsetWidth},animate:function(v,t){r.verbose("Animating box with properties",v),t=t||function(w){r.verbose("Executing animation callback"),w!==d&&w.stopPropagation(),r.reset(),r.set.active()},K.beforeChange.call(B[0]),r.get.transitionEvent()?(r.verbose("Starting CSS animation"),D.addClass(E.animating),l.css(v).one(r.get.transitionEvent(),t),r.set.duration(K.duration),i(function(){D.addClass(E.animating),L.addClass(E.hidden)})):t()},queue:function(t){r.debug("Queueing animation of",t),l.one(r.get.transitionEvent(),function(){r.debug("Executing queued animation"),setTimeout(function(){D.shape(t)},0)})},reset:function(){r.verbose("Animating states reset"),D.removeClass(E.animating).attr("style","").removeAttr("style"),l.attr("style","").removeAttr("style"),q.attr("style","").removeAttr("style").removeClass(E.hidden),B.removeClass(E.animating).attr("style","").removeAttr("style")},is:{complete:function(){return q.filter("."+E.active)[0]==B[0]},animating:function(){return D.hasClass(E.animating)}},set:{defaultSide:function(){L=D.find("."+K.className.active),B=L.next(F.side).length>0?L.next(F.side):D.find(F.side).first(),J=!1,r.verbose("Active side set to",L),r.verbose("Next side set to",B)},duration:function(t){t=t||K.duration,t="number"==typeof t?t+"ms":t,r.verbose("Setting animation duration",t),(K.duration||0===K.duration)&&l.add(q).css({"-webkit-transition-duration":t,"-moz-transition-duration":t,"-ms-transition-duration":t,"-o-transition-duration":t,"transition-duration":t})},currentStageSize:function(){var x=D.find("."+K.className.active),w=x.outerWidth(!0),v=x.outerHeight(!0);D.css({width:w,height:v})},stageSize:function(){var x=D.clone().addClass(E.loading),w=x.find("."+K.className.active),v=J?x.find(F.side).eq(J):w.next(F.side).length>0?w.next(F.side):x.find(F.side).first(),y={};r.set.currentStageSize(),w.removeClass(E.active),v.addClass(E.active),x.insertAfter(D),y={width:v.outerWidth(!0),height:v.outerHeight(!0)},x.remove(),D.css(y),r.verbose("Resizing stage to fit new content",y)},nextSide:function(t){J=t,B=q.filter(t),J=q.index(B),0===B.length&&(r.set.defaultSide(),r.error(G.side)),r.verbose("Next side manually set to",B)},active:function(){r.verbose("Setting new side to active",B),q.removeClass(E.active),B.addClass(E.active),K.onChange.call(B[0]),r.set.defaultSide()}},flip:{up:function(){return !r.is.complete()||r.is.animating()||K.allowRepeats?void (r.is.animating()?r.queue("flip up"):(r.debug("Flipping up",B),r.set.stageSize(),r.stage.above(),r.animate(r.get.transform.up()))):void r.debug("Side already visible",B)},down:function(){return !r.is.complete()||r.is.animating()||K.allowRepeats?void (r.is.animating()?r.queue("flip down"):(r.debug("Flipping down",B),r.set.stageSize(),r.stage.below(),r.animate(r.get.transform.down()))):void r.debug("Side already visible",B)},left:function(){return !r.is.complete()||r.is.animating()||K.allowRepeats?void (r.is.animating()?r.queue("flip left"):(r.debug("Flipping left",B),r.set.stageSize(),r.stage.left(),r.animate(r.get.transform.left()))):void r.debug("Side already visible",B)},right:function(){return !r.is.complete()||r.is.animating()||K.allowRepeats?void (r.is.animating()?r.queue("flip right"):(r.debug("Flipping right",B),r.set.stageSize(),r.stage.right(),r.animate(r.get.transform.right()))):void r.debug("Side already visible",B)},over:function(){return !r.is.complete()||r.is.animating()||K.allowRepeats?void (r.is.animating()?r.queue("flip over"):(r.debug("Flipping over",B),r.set.stageSize(),r.stage.behind(),r.animate(r.get.transform.over()))):void r.debug("Side already visible",B)},back:function(){return !r.is.complete()||r.is.animating()||K.allowRepeats?void (r.is.animating()?r.queue("flip back"):(r.debug("Flipping back",B),r.set.stageSize(),r.stage.behind(),r.animate(r.get.transform.back()))):void r.debug("Side already visible",B)}},get:{transform:{up:function(){var t={y:-((L.outerHeight(!0)-B.outerHeight(!0))/2),z:-(L.outerHeight(!0)/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(-90deg)"}},down:function(){var t={y:-((L.outerHeight(!0)-B.outerHeight(!0))/2),z:-(L.outerHeight(!0)/2)};return{transform:"translateY("+t.y+"px) translateZ("+t.z+"px) rotateX(90deg)"}},left:function(){var t={x:-((L.outerWidth(!0)-B.outerWidth(!0))/2),z:-(L.outerWidth(!0)/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(90deg)"}},right:function(){var t={x:-((L.outerWidth(!0)-B.outerWidth(!0))/2),z:-(L.outerWidth(!0)/2)};return{transform:"translateX("+t.x+"px) translateZ("+t.z+"px) rotateY(-90deg)"}},over:function(){var t={x:-((L.outerWidth(!0)-B.outerWidth(!0))/2)};return{transform:"translateX("+t.x+"px) rotateY(180deg)"}},back:function(){var t={x:-((L.outerWidth(!0)-B.outerWidth(!0))/2)};return{transform:"translateX("+t.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var x,w=a.createElement("element"),v={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(x in v){if(w.style[x]!==d){return v[x]}}},nextSide:function(){return L.next(F.side).length>0?L.next(F.side):D.find(F.side).first()}},stage:{above:function(){var t={origin:(L.outerHeight(!0)-B.outerHeight(!0))/2,depth:{active:B.outerHeight(!0)/2,next:L.outerHeight(!0)/2}};r.verbose("Setting the initial animation position as above",B,t),l.css({transform:"translateZ(-"+t.depth.active+"px)"}),L.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),B.addClass(E.animating).css({top:t.origin+"px",transform:"rotateX(90deg) translateZ("+t.depth.next+"px)"})},below:function(){var t={origin:(L.outerHeight(!0)-B.outerHeight(!0))/2,depth:{active:B.outerHeight(!0)/2,next:L.outerHeight(!0)/2}};r.verbose("Setting the initial animation position as below",B,t),l.css({transform:"translateZ(-"+t.depth.active+"px)"}),L.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),B.addClass(E.animating).css({top:t.origin+"px",transform:"rotateX(-90deg) translateZ("+t.depth.next+"px)"})},left:function(){var v={active:L.outerWidth(!0),next:B.outerWidth(!0)},t={origin:(v.active-v.next)/2,depth:{active:v.next/2,next:v.active/2}};r.verbose("Setting the initial animation position as left",B,t),l.css({transform:"translateZ(-"+t.depth.active+"px)"}),L.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),B.addClass(E.animating).css({left:t.origin+"px",transform:"rotateY(-90deg) translateZ("+t.depth.next+"px)"})},right:function(){var v={active:L.outerWidth(!0),next:B.outerWidth(!0)},t={origin:(v.active-v.next)/2,depth:{active:v.next/2,next:v.active/2}};r.verbose("Setting the initial animation position as left",B,t),l.css({transform:"translateZ(-"+t.depth.active+"px)"}),L.css({transform:"rotateY(0deg) translateZ("+t.depth.active+"px)"}),B.addClass(E.animating).css({left:t.origin+"px",transform:"rotateY(90deg) translateZ("+t.depth.next+"px)"})},behind:function(){var v={active:L.outerWidth(!0),next:B.outerWidth(!0)},t={origin:(v.active-v.next)/2,depth:{active:v.next/2,next:v.active/2}};r.verbose("Setting the initial animation position as behind",B,t),L.css({transform:"rotateY(0deg)"}),B.addClass(E.animating).css({left:t.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(w,v){if(r.debug("Changing setting",w,v),c.isPlainObject(w)){c.extend(!0,K,w)}else{if(v===d){return K[w]}K[w]=v}},internal:function(w,v){if(c.isPlainObject(w)){c.extend(!0,r,w)}else{if(v===d){return r[w]}r[w]=v}},debug:function(){K.debug&&(K.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,K.name+":"),r.debug.apply(console,arguments)))},verbose:function(){K.verbose&&K.debug&&(K.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,K.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,K.name+":"),r.error.apply(console,arguments)},performance:{log:function(x){var w,v,y;K.performance&&(w=(new Date).getTime(),y=p||w,v=w-y,p=w,j.push({Name:x[0],Arguments:[].slice.call(x,1)||"",Element:s,"Execution Time":v})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var w=K.name+":",v=0;p=!1,clearTimeout(r.performance.timer),c.each(j,function(y,x){v+=x["Execution Time"]}),w+=" "+v+"ms",o&&(w+=" '"+o+"'"),e.length>1&&(w+=" ("+e.length+")"),(console.group!==d||console.table!==d)&&j.length>0&&(console.groupCollapsed(w),console.table?console.table(j):c.each(j,function(y,x){console.log(x.Name+": "+x["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(y,x,w){var C,z,H,v=g;return x=x||k,w=s||w,"string"==typeof y&&v!==d&&(y=y.split(/[\. ]/),C=y.length-1,c.each(y,function(M,t){var N=M!=C?t+y[M+1].charAt(0).toUpperCase()+y[M+1].slice(1):y;if(c.isPlainObject(v[N])&&M!=C){v=v[N]}else{if(v[N]!==d){return z=v[N],!1}if(!c.isPlainObject(v[t])||M==C){return v[t]!==d?(z=v[t],!1):!1}v=v[t]}})),c.isFunction(z)?H=z.apply(w,x):z!==d&&(H=z),c.isArray(f)?f.push(H):f!==d?f=[f,H]:H!==d&&(f=H),z}},n?(g===d&&r.initialize(),r.invoke(h)):(g!==d&&g.invoke("destroy"),r.initialize())}),f!==d?f:this},c.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document);
/*!
 * # Semantic UI x.x - Sidebar
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;!function(c,b,d,a){c.fn.sidebar=function(i){var e,B=c(this),y=c(b),k=c(d),w=c("html"),A=c("head"),t=B.selector||"",q=(new Date).getTime(),x=[],j=arguments[0],n="string"==typeof j,p=[].slice.call(arguments,1),z=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(f){setTimeout(f,0)};return B.each(function(){var L,W,u,Q,X,I,f=c.isPlainObject(i)?c.extend(!0,{},c.fn.sidebar.settings,i):c.extend({},c.fn.sidebar.settings),v=f.selector,g=f.className,V=f.namespace,J=f.regExp,m=f.error,l="."+V,K="module-"+V,G=c(this),N=c(f.context),h=G.children(v.sidebar),Y=N.children(v.fixed),o=N.children(v.pusher),r=this,U=G.data(K);I={initialize:function(){I.debug("Initializing sidebar",i),I.create.id(),X=I.get.transitionEvent(),I.is.ios()&&I.set.ios(),f.delaySetup?z(I.setup.layout):I.setup.layout(),z(function(){I.setup.cache()}),I.instantiate()},instantiate:function(){I.verbose("Storing instance of module",I),U=I,G.data(K,I)},create:{id:function(){u=(Math.random().toString(16)+"000000000").substr(2,8),W="."+u,I.verbose("Creating unique id for element",u)}},destroy:function(){I.verbose("Destroying previous module for",G),I.remove.direction(),G.off(l).removeData(K),I.is.ios()&&I.remove.ios(),N.off(W),y.off(W),k.off(W)},event:{clickaway:function(C){var s=o.find(C.target).length>0||o.is(C.target),D=N.is(C.target);s&&(I.verbose("User clicked on dimmed page"),I.hide()),D&&(I.verbose("User clicked on dimmable context (scaled out page)"),I.hide())},touch:function(s){},containScroll:function(s){r.scrollTop<=0&&(r.scrollTop=1),r.scrollTop+r.offsetHeight>=r.scrollHeight&&(r.scrollTop=r.scrollHeight-r.offsetHeight-1)},scroll:function(s){0===c(s.target).closest(v.sidebar).length&&s.preventDefault()}},bind:{clickaway:function(){I.verbose("Adding clickaway events to context",N),f.closable&&N.on("click"+W,I.event.clickaway).on("touchend"+W,I.event.clickaway)},scrollLock:function(){f.scrollLock&&(I.debug("Disabling page scroll"),y.on("DOMMouseScroll"+W,I.event.scroll)),I.verbose("Adding events to contain sidebar scroll"),k.on("touchmove"+W,I.event.touch),G.on("scroll"+l,I.event.containScroll)}},unbind:{clickaway:function(){I.verbose("Removing clickaway events from context",N),N.off(W)},scrollLock:function(){I.verbose("Removing scroll lock from page"),k.off(W),y.off(W),G.off("scroll"+l)}},add:{inlineCSS:function(){var D,H=I.cache.width||G.outerWidth(),C=I.cache.height||G.outerHeight(),F=I.is.rtl(),E=I.get.direction(),s={left:H,right:-H,top:C,bottom:-C};F&&(I.verbose("RTL detected, flipping widths"),s.left=-H,s.right=H),D="<style>","left"===E||"right"===E?(I.debug("Adding CSS rules for animation distance",H),D+=" .ui.visible."+E+".sidebar ~ .fixed, .ui.visible."+E+".sidebar ~ .pusher {   -webkit-transform: translate3d("+s[E]+"px, 0, 0);           transform: translate3d("+s[E]+"px, 0, 0); }"):("top"===E||"bottom"==E)&&(D+=" .ui.visible."+E+".sidebar ~ .fixed, .ui.visible."+E+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+s[E]+"px, 0);           transform: translate3d(0, "+s[E]+"px, 0); }"),I.is.ie()&&("left"===E||"right"===E?(I.debug("Adding CSS rules for animation distance",H),D+=" body.pushable > .ui.visible."+E+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+s[E]+"px, 0, 0);           transform: translate3d("+s[E]+"px, 0, 0); }"):("top"===E||"bottom"==E)&&(D+=" body.pushable > .ui.visible."+E+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+s[E]+"px, 0);           transform: translate3d(0, "+s[E]+"px, 0); }"),D+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),D+="</style>",L=c(D).appendTo(A),I.debug("Adding sizing css to head",L)}},refresh:function(){I.verbose("Refreshing selector cache"),N=c(f.context),h=N.children(v.sidebar),o=N.children(v.pusher),Y=N.children(v.fixed),I.clear.cache()},refreshSidebars:function(){I.verbose("Refreshing other sidebars"),h=N.children(v.sidebar)},repaint:function(){I.verbose("Forcing repaint event"),r.style.display="none";r.offsetHeight;r.scrollTop=r.scrollTop,r.style.display=""},setup:{cache:function(){I.cache={width:G.outerWidth(),height:G.outerHeight(),rtl:"rtl"==G.css("direction")}},layout:function(){0===N.children(v.pusher).length&&(I.debug("Adding wrapper element for sidebar"),I.error(m.pusher),o=c('<div class="pusher" />'),N.children().not(v.omitted).not(h).wrapAll(o),I.refresh()),(0===G.nextAll(v.pusher).length||G.nextAll(v.pusher)[0]!==o[0])&&(I.debug("Moved sidebar to correct parent element"),I.error(m.movedSidebar,r),G.detach().prependTo(N),I.refresh()),I.clear.cache(),I.set.pushable(),I.set.direction()}},attachEvents:function(C,D){var s=c(C);D=c.isFunction(I[D])?I[D]:I.toggle,s.length>0?(I.debug("Attaching sidebar events to element",C,D),s.on("click"+l,D)):I.error(m.notFound,C)},show:function(s){if(s=c.isFunction(s)?s:function(){},I.is.hidden()){if(I.refreshSidebars(),f.overlay&&(I.error(m.overlay),f.transition="overlay"),I.refresh(),I.othersActive()){if(I.debug("Other sidebars currently visible"),f.exclusive){if("overlay"!=f.transition){return void I.hideOthers(I.show)}I.hideOthers()}else{f.transition="overlay"}}I.pushPage(function(){s.call(r),f.onShow.call(r)}),f.onChange.call(r),f.onVisible.call(r)}else{I.debug("Sidebar is already visible")}},hide:function(s){s=c.isFunction(s)?s:function(){},(I.is.visible()||I.is.animating())&&(I.debug("Hiding sidebar",s),I.refreshSidebars(),I.pullPage(function(){s.call(r),f.onHidden.call(r)}),f.onChange.call(r),f.onHide.call(r))},othersAnimating:function(){return h.not(G).filter("."+g.animating).length>0},othersVisible:function(){return h.not(G).filter("."+g.visible).length>0},othersActive:function(){return I.othersVisible()||I.othersAnimating()},hideOthers:function(D){var C=h.not(G).filter("."+g.visible),E=C.length,s=0;D=D||function(){},C.sidebar("hide",function(){s++,s==E&&D()})},toggle:function(){I.verbose("Determining toggled direction"),I.is.hidden()?I.show():I.hide()},pushPage:function(D){var M,C,H,F=I.get.transition(),E="overlay"===F||I.othersActive()?G:o;D=c.isFunction(D)?D:function(){},"scale down"==f.transition&&I.scrollToTop(),I.set.transition(F),I.repaint(),M=function(){I.bind.clickaway(),I.add.inlineCSS(),I.set.animating(),I.set.visible()},C=function(){I.set.dimmed()},H=function(s){s.target==E[0]&&(E.off(X+W,H),I.remove.animating(),I.bind.scrollLock(),D.call(r))},E.off(X+W),E.on(X+W,H),z(M),f.dimPage&&!I.othersVisible()&&z(C)},pullPage:function(C){var F,s,E=I.get.transition(),D="overlay"==E||I.othersActive()?G:o;C=c.isFunction(C)?C:function(){},I.verbose("Removing context push state",I.get.direction()),I.unbind.clickaway(),I.unbind.scrollLock(),F=function(){I.set.transition(E),I.set.animating(),I.remove.visible(),f.dimPage&&!I.othersVisible()&&o.removeClass(g.dimmed)},s=function(H){H.target==D[0]&&(D.off(X+W,s),I.remove.animating(),I.remove.transition(),I.remove.inlineCSS(),("scale down"==E||f.returnScroll&&I.is.mobile())&&I.scrollBack(),C.call(r))},D.off(X+W),D.on(X+W,s),z(F)},scrollToTop:function(){I.verbose("Scrolling to top of page to avoid animation issues"),Q=c(b).scrollTop(),G.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){I.verbose("Scrolling back to original page position"),b.scrollTo(0,Q)},clear:{cache:function(){I.verbose("Clearing cached dimensions"),I.cache={}}},set:{ios:function(){w.addClass(g.ios)},pushed:function(){N.addClass(g.pushed)},pushable:function(){N.addClass(g.pushable)},dimmed:function(){o.addClass(g.dimmed)},active:function(){G.addClass(g.active)},animating:function(){G.addClass(g.animating)},transition:function(s){s=s||I.get.transition(),G.addClass(s)},direction:function(s){s=s||I.get.direction(),G.addClass(g[s])},visible:function(){G.addClass(g.visible)},overlay:function(){G.addClass(g.overlay)}},remove:{inlineCSS:function(){I.debug("Removing inline css styles",L),L&&L.length>0&&L.remove()},ios:function(){w.removeClass(g.ios)},pushed:function(){N.removeClass(g.pushed)},pushable:function(){N.removeClass(g.pushable)},active:function(){G.removeClass(g.active)},animating:function(){G.removeClass(g.animating)},transition:function(s){s=s||I.get.transition(),G.removeClass(s)},direction:function(s){s=s||I.get.direction(),G.removeClass(g[s])},visible:function(){G.removeClass(g.visible)},overlay:function(){G.removeClass(g.overlay)}},get:{direction:function(){return G.hasClass(g.top)?g.top:G.hasClass(g.right)?g.right:G.hasClass(g.bottom)?g.bottom:g.left},transition:function(){var C,s=I.get.direction();return C=I.is.mobile()?"auto"==f.mobileTransition?f.defaultTransition.mobile[s]:f.mobileTransition:"auto"==f.transition?f.defaultTransition.computer[s]:f.transition,I.verbose("Determined transition",C),C},transitionEvent:function(){var C,s=d.createElement("element"),D={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(C in D){if(s.style[C]!==a){return D[C]}}}},is:{ie:function(){var s=!b.ActiveXObject&&"ActiveXObject" in b,C="ActiveXObject" in b;return s||C},ios:function(){var C=navigator.userAgent,s=C.match(J.ios),D=C.match(J.mobileChrome);return s&&!D?(I.verbose("Browser was found to be iOS",C),!0):!1},mobile:function(){var C=navigator.userAgent,s=C.match(J.mobile);return s?(I.verbose("Browser was found to be mobile",C),!0):(I.verbose("Browser is not mobile, using regular transition",C),!1)},hidden:function(){return !I.is.visible()},visible:function(){return G.hasClass(g.visible)},open:function(){return I.is.visible()},closed:function(){return I.is.hidden()},vertical:function(){return G.hasClass(g.top)},animating:function(){return N.hasClass(g.animating)},rtl:function(){return I.cache.rtl===a&&(I.cache.rtl="rtl"==G.css("direction")),I.cache.rtl}},setting:function(s,C){if(I.debug("Changing setting",s,C),c.isPlainObject(s)){c.extend(!0,f,s)}else{if(C===a){return f[s]}f[s]=C}},internal:function(s,C){if(c.isPlainObject(s)){c.extend(!0,I,s)}else{if(C===a){return I[s]}I[s]=C}},debug:function(){f.debug&&(f.performance?I.performance.log(arguments):(I.debug=Function.prototype.bind.call(console.info,console,f.name+":"),I.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?I.performance.log(arguments):(I.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),I.verbose.apply(console,arguments)))},error:function(){I.error=Function.prototype.bind.call(console.error,console,f.name+":"),I.error.apply(console,arguments)},performance:{log:function(D){var C,E,s;f.performance&&(C=(new Date).getTime(),s=q||C,E=C-s,q=C,x.push({Name:D[0],Arguments:[].slice.call(D,1)||"",Element:r,"Execution Time":E})),clearTimeout(I.performance.timer),I.performance.timer=setTimeout(I.performance.display,500)},display:function(){var s=f.name+":",C=0;q=!1,clearTimeout(I.performance.timer),c.each(x,function(E,D){C+=D["Execution Time"]}),s+=" "+C+"ms",t&&(s+=" '"+t+"'"),(console.group!==a||console.table!==a)&&x.length>0&&(console.groupCollapsed(s),console.table?console.table(x):c.each(x,function(E,D){console.log(D.Name+": "+D["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(E,O,H){var F,D,C,M=U;return O=O||p,H=r||H,"string"==typeof E&&M!==a&&(E=E.split(/[\. ]/),F=E.length-1,c.each(E,function(R,P){var s=R!=F?P+E[R+1].charAt(0).toUpperCase()+E[R+1].slice(1):E;if(c.isPlainObject(M[s])&&R!=F){M=M[s]}else{if(M[s]!==a){return D=M[s],!1}if(!c.isPlainObject(M[P])||R==F){return M[P]!==a?(D=M[P],!1):(I.error(m.method,E),!1)}M=M[P]}})),c.isFunction(D)?C=D.apply(H,O):D!==a&&(C=D),c.isArray(e)?e.push(C):e!==a?e=[e,C]:C!==a&&(e=C),D}},n?(U===a&&I.initialize(),I.invoke(j)):(U!==a&&I.invoke("destroy"),I.initialize())}),e!==a?e:this},c.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document);
/*!
 * # Semantic UI x.x - Shape
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){c.fn.shape=function(n){var l=c(this),h=c("body"),f=new Date().getTime(),k=[],j=arguments[0],e=(typeof j=="string"),m=[].slice.call(arguments,1),i=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(o){setTimeout(o,0)},g;l.each(function(){var y=l.selector||"",q=(c.isPlainObject(n))?c.extend(true,{},c.fn.shape.settings,n):c.extend({},c.fn.shape.settings),r=q.namespace,s=q.selector,A=q.error,z=q.className,E="."+r,w="module-"+r,C=c(this),p=C.find(s.sides),x=C.find(s.side),v=false,B,t,u=this,D=C.data(w),o;o={initialize:function(){o.verbose("Initializing module for",u);o.set.defaultSide();o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o);D=o;C.data(w,D)},destroy:function(){o.verbose("Destroying previous module for",u);C.removeData(w).off(E)},refresh:function(){o.verbose("Refreshing selector cache for",u);C=c(u);p=c(this).find(s.shape);x=c(this).find(s.side)},repaint:function(){o.verbose("Forcing repaint event");var G=p[0]||a.createElement("div"),F=G.offsetWidth},animate:function(F,G){o.verbose("Animating box with properties",F);G=G||function(H){o.verbose("Executing animation callback");if(H!==d){H.stopPropagation()}o.reset();o.set.active()};q.beforeChange.call(t[0]);if(o.get.transitionEvent()){o.verbose("Starting CSS animation");C.addClass(z.animating);p.css(F).one(o.get.transitionEvent(),G);o.set.duration(q.duration);i(function(){C.addClass(z.animating);B.addClass(z.hidden)})}else{G()}},queue:function(F){o.debug("Queueing animation of",F);p.one(o.get.transitionEvent(),function(){o.debug("Executing queued animation");setTimeout(function(){C.shape(F)},0)})},reset:function(){o.verbose("Animating states reset");C.removeClass(z.animating).attr("style","").removeAttr("style");p.attr("style","").removeAttr("style");x.attr("style","").removeAttr("style").removeClass(z.hidden);t.removeClass(z.animating).attr("style","").removeAttr("style")},is:{complete:function(){return(x.filter("."+z.active)[0]==t[0])},animating:function(){return C.hasClass(z.animating)}},set:{defaultSide:function(){B=C.find("."+q.className.active);t=(B.next(s.side).length>0)?B.next(s.side):C.find(s.side).first();v=false;o.verbose("Active side set to",B);o.verbose("Next side set to",t)},duration:function(F){F=F||q.duration;F=(typeof F=="number")?F+"ms":F;o.verbose("Setting animation duration",F);if(q.duration||q.duration===0){p.add(x).css({"-webkit-transition-duration":F,"-moz-transition-duration":F,"-ms-transition-duration":F,"-o-transition-duration":F,"transition-duration":F})}},currentStageSize:function(){var H=C.find("."+q.className.active),G=H.outerWidth(true),F=H.outerHeight(true);C.css({width:G,height:F})},stageSize:function(){var I=C.clone().addClass(z.loading),G=I.find("."+q.className.active),H=(v)?I.find(s.side).eq(v):(G.next(s.side).length>0)?G.next(s.side):I.find(s.side).first(),F={};o.set.currentStageSize();G.removeClass(z.active);H.addClass(z.active);I.insertAfter(C);F={width:H.outerWidth(true),height:H.outerHeight(true)};I.remove();C.css(F);o.verbose("Resizing stage to fit new content",F)},nextSide:function(F){v=F;t=x.filter(F);v=x.index(t);if(t.length===0){o.set.defaultSide();o.error(A.side)}o.verbose("Next side manually set to",t)},active:function(){o.verbose("Setting new side to active",t);x.removeClass(z.active);t.addClass(z.active);q.onChange.call(t[0]);o.set.defaultSide()}},flip:{up:function(){if(o.is.complete()&&!o.is.animating()&&!q.allowRepeats){o.debug("Side already visible",t);return}if(!o.is.animating()){o.debug("Flipping up",t);o.set.stageSize();o.stage.above();o.animate(o.get.transform.up())}else{o.queue("flip up")}},down:function(){if(o.is.complete()&&!o.is.animating()&&!q.allowRepeats){o.debug("Side already visible",t);return}if(!o.is.animating()){o.debug("Flipping down",t);o.set.stageSize();o.stage.below();o.animate(o.get.transform.down())}else{o.queue("flip down")}},left:function(){if(o.is.complete()&&!o.is.animating()&&!q.allowRepeats){o.debug("Side already visible",t);return}if(!o.is.animating()){o.debug("Flipping left",t);o.set.stageSize();o.stage.left();o.animate(o.get.transform.left())}else{o.queue("flip left")}},right:function(){if(o.is.complete()&&!o.is.animating()&&!q.allowRepeats){o.debug("Side already visible",t);return}if(!o.is.animating()){o.debug("Flipping right",t);o.set.stageSize();o.stage.right();o.animate(o.get.transform.right())}else{o.queue("flip right")}},over:function(){if(o.is.complete()&&!o.is.animating()&&!q.allowRepeats){o.debug("Side already visible",t);return}if(!o.is.animating()){o.debug("Flipping over",t);o.set.stageSize();o.stage.behind();o.animate(o.get.transform.over())}else{o.queue("flip over")}},back:function(){if(o.is.complete()&&!o.is.animating()&&!q.allowRepeats){o.debug("Side already visible",t);return}if(!o.is.animating()){o.debug("Flipping back",t);o.set.stageSize();o.stage.behind();o.animate(o.get.transform.back())}else{o.queue("flip back")}}},get:{transform:{up:function(){var F={y:-((B.outerHeight(true)-t.outerHeight(true))/2),z:-(B.outerHeight(true)/2)};return{transform:"translateY("+F.y+"px) translateZ("+F.z+"px) rotateX(-90deg)"}},down:function(){var F={y:-((B.outerHeight(true)-t.outerHeight(true))/2),z:-(B.outerHeight(true)/2)};return{transform:"translateY("+F.y+"px) translateZ("+F.z+"px) rotateX(90deg)"}},left:function(){var F={x:-((B.outerWidth(true)-t.outerWidth(true))/2),z:-(B.outerWidth(true)/2)};return{transform:"translateX("+F.x+"px) translateZ("+F.z+"px) rotateY(90deg)"}},right:function(){var F={x:-((B.outerWidth(true)-t.outerWidth(true))/2),z:-(B.outerWidth(true)/2)};return{transform:"translateX("+F.x+"px) translateZ("+F.z+"px) rotateY(-90deg)"}},over:function(){var F={x:-((B.outerWidth(true)-t.outerWidth(true))/2)};return{transform:"translateX("+F.x+"px) rotateY(180deg)"}},back:function(){var F={x:-((B.outerWidth(true)-t.outerWidth(true))/2)};return{transform:"translateX("+F.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var F=a.createElement("element"),G={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},H;for(H in G){if(F.style[H]!==d){return G[H]}}},nextSide:function(){return(B.next(s.side).length>0)?B.next(s.side):C.find(s.side).first()}},stage:{above:function(){var F={origin:((B.outerHeight(true)-t.outerHeight(true))/2),depth:{active:(t.outerHeight(true)/2),next:(B.outerHeight(true)/2)}};o.verbose("Setting the initial animation position as above",t,F);p.css({transform:"translateZ(-"+F.depth.active+"px)"});B.css({transform:"rotateY(0deg) translateZ("+F.depth.active+"px)"});t.addClass(z.animating).css({top:F.origin+"px",transform:"rotateX(90deg) translateZ("+F.depth.next+"px)"})},below:function(){var F={origin:((B.outerHeight(true)-t.outerHeight(true))/2),depth:{active:(t.outerHeight(true)/2),next:(B.outerHeight(true)/2)}};o.verbose("Setting the initial animation position as below",t,F);p.css({transform:"translateZ(-"+F.depth.active+"px)"});B.css({transform:"rotateY(0deg) translateZ("+F.depth.active+"px)"});t.addClass(z.animating).css({top:F.origin+"px",transform:"rotateX(-90deg) translateZ("+F.depth.next+"px)"})},left:function(){var F={active:B.outerWidth(true),next:t.outerWidth(true)},G={origin:((F.active-F.next)/2),depth:{active:(F.next/2),next:(F.active/2)}};o.verbose("Setting the initial animation position as left",t,G);p.css({transform:"translateZ(-"+G.depth.active+"px)"});B.css({transform:"rotateY(0deg) translateZ("+G.depth.active+"px)"});t.addClass(z.animating).css({left:G.origin+"px",transform:"rotateY(-90deg) translateZ("+G.depth.next+"px)"})},right:function(){var F={active:B.outerWidth(true),next:t.outerWidth(true)},G={origin:((F.active-F.next)/2),depth:{active:(F.next/2),next:(F.active/2)}};o.verbose("Setting the initial animation position as left",t,G);p.css({transform:"translateZ(-"+G.depth.active+"px)"});B.css({transform:"rotateY(0deg) translateZ("+G.depth.active+"px)"});t.addClass(z.animating).css({left:G.origin+"px",transform:"rotateY(90deg) translateZ("+G.depth.next+"px)"})},behind:function(){var F={active:B.outerWidth(true),next:t.outerWidth(true)},G={origin:((F.active-F.next)/2),depth:{active:(F.next/2),next:(F.active/2)}};o.verbose("Setting the initial animation position as behind",t,G);B.css({transform:"rotateY(0deg)"});t.addClass(z.animating).css({left:G.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(F,G){o.debug("Changing setting",F,G);if(c.isPlainObject(F)){c.extend(true,q,F)}else{if(G!==d){q[F]=G}else{return q[F]}}},internal:function(F,G){if(c.isPlainObject(F)){c.extend(true,o,F)}else{if(G!==d){o[F]=G}else{return o[F]}}},debug:function(){if(q.debug){if(q.performance){o.performance.log(arguments)}else{o.debug=Function.prototype.bind.call(console.info,console,q.name+":");o.debug.apply(console,arguments)}}},verbose:function(){if(q.verbose&&q.debug){if(q.performance){o.performance.log(arguments)}else{o.verbose=Function.prototype.bind.call(console.info,console,q.name+":");o.verbose.apply(console,arguments)}}},error:function(){o.error=Function.prototype.bind.call(console.error,console,q.name+":");o.error.apply(console,arguments)},performance:{log:function(H){var G,I,F;if(q.performance){G=new Date().getTime();F=f||G;I=G-F;f=G;k.push({Name:H[0],Arguments:[].slice.call(H,1)||"",Element:u,"Execution Time":I})}clearTimeout(o.performance.timer);o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var G=q.name+":",F=0;f=false;clearTimeout(o.performance.timer);c.each(k,function(H,I){F+=I["Execution Time"]});G+=" "+F+"ms";if(y){G+=" '"+y+"'"}if(l.length>1){G+=" ("+l.length+")"}if((console.group!==d||console.table!==d)&&k.length>0){console.groupCollapsed(G);if(console.table){console.table(k)}else{c.each(k,function(H,I){console.log(I.Name+": "+I["Execution Time"]+"ms")})}console.groupEnd()}k=[]}},invoke:function(K,G,I){var H=D,L,J,F;G=G||m;I=u||I;if(typeof K=="string"&&H!==d){K=K.split(/[\. ]/);L=K.length-1;c.each(K,function(O,N){var M=(O!=L)?N+K[O+1].charAt(0).toUpperCase()+K[O+1].slice(1):K;if(c.isPlainObject(H[M])&&(O!=L)){H=H[M]}else{if(H[M]!==d){J=H[M];return false}else{if(c.isPlainObject(H[N])&&(O!=L)){H=H[N]}else{if(H[N]!==d){J=H[N];return false}else{return false}}}}})}if(c.isFunction(J)){F=J.apply(I,G)}else{if(J!==d){F=J}}if(c.isArray(g)){g.push(F)}else{if(g!==d){g=[g,F]}else{if(F!==d){g=F}}}return J}};if(e){if(D===d){o.initialize()}o.invoke(j)}else{if(D!==d){D.invoke("destroy")}o.initialize()}});return(g!==d)?g:this};c.fn.shape.settings={name:"Shape",debug:false,verbose:false,performance:true,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:false,duration:false,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}})(jQuery,window,document);
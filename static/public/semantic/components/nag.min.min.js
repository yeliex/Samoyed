/*!
 * # Semantic UI x.x - Nag
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(h,e,f,g){h.fn.nag=function(a){var c=h(this),o=c.selector||"",q=new Date().getTime(),d=[],n=arguments[0],r=(typeof n=="string"),b=[].slice.call(arguments,1),p;c.each(function(){var K=(h.isPlainObject(a))?h.extend(true,{},h.fn.nag.settings,a):h.extend({},h.fn.nag.settings),X=K.className,O=K.selector,S=K.error,l=K.namespace,W="."+l,j=l+"-module",P=h(this),T=P.find(O.close),i=(K.context)?h(K.context):h("body"),Y=this,J=P.data(j),N,V,k,R,L,M,U,m,Z,Q=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(s){setTimeout(s,0)};Z={initialize:function(){Z.verbose("Initializing element");P.on("click"+W,O.close,Z.dismiss).data(j,Z);if(K.detachable&&P.parent()[0]!==i[0]){P.detach().prependTo(i)}if(K.displayTime>0){setTimeout(Z.hide,K.displayTime)}Z.show()},destroy:function(){Z.verbose("Destroying instance");P.removeData(j).off(W)},show:function(){if(Z.should.show()&&!P.is(":visible")){Z.debug("Showing nag",K.animation.show);if(K.animation.show=="fade"){P.fadeIn(K.duration,K.easing)}else{P.slideDown(K.duration,K.easing)}}},hide:function(){Z.debug("Showing nag",K.animation.hide);if(K.animation.show=="fade"){P.fadeIn(K.duration,K.easing)}else{P.slideUp(K.duration,K.easing)}},onHide:function(){Z.debug("Removing nag",K.animation.hide);P.remove();if(K.onHide){K.onHide()}},dismiss:function(s){if(K.storageMethod){Z.storage.set(K.key,K.value)}Z.hide();s.stopImmediatePropagation();s.preventDefault()},should:{show:function(){if(K.persist){Z.debug("Persistent nag is set, can show nag");return true}if(Z.storage.get(K.key)!=K.value.toString()){Z.debug("Stored value is not set, can show nag",Z.storage.get(K.key));return true}Z.debug("Stored value is set, cannot show nag",Z.storage.get(K.key));return false}},get:{storageOptions:function(){var s={};if(K.expires){s.expires=K.expires}if(K.domain){s.domain=K.domain}if(K.path){s.path=K.path}return s}},clear:function(){Z.storage.remove(K.key)},storage:{set:function(t,s){var u=Z.get.storageOptions();if(K.storageMethod=="localstorage"&&e.localStorage!==g){e.localStorage.setItem(t,s);Z.debug("Value stored using local storage",t,s)}else{if(h.cookie!==g){h.cookie(t,s,u);Z.debug("Value stored using cookie",t,s,u)}else{Z.error(S.noCookieStorage);return}}},get:function(u,t){var s;if(K.storageMethod=="localstorage"&&e.localStorage!==g){s=e.localStorage.getItem(u)}else{if(h.cookie!==g){s=h.cookie(u)}else{Z.error(S.noCookieStorage)}}if(s=="undefined"||s=="null"||s===g||s===null){s=g}return s},remove:function(s){var t=Z.get.storageOptions();if(K.storageMethod=="local"&&e.store!==g){e.localStorage.removeItem(s)}else{if(h.cookie!==g){h.removeCookie(s,t)}else{Z.error(S.noStorage)}}}},setting:function(t,s){Z.debug("Changing setting",t,s);if(h.isPlainObject(t)){h.extend(true,K,t)}else{if(s!==g){K[t]=s}else{return K[t]}}},internal:function(t,s){if(h.isPlainObject(t)){h.extend(true,Z,t)}else{if(s!==g){Z[t]=s}else{return Z[t]}}},debug:function(){if(K.debug){if(K.performance){Z.performance.log(arguments)}else{Z.debug=Function.prototype.bind.call(console.info,console,K.name+":");Z.debug.apply(console,arguments)}}},verbose:function(){if(K.verbose&&K.debug){if(K.performance){Z.performance.log(arguments)}else{Z.verbose=Function.prototype.bind.call(console.info,console,K.name+":");Z.verbose.apply(console,arguments)}}},error:function(){Z.error=Function.prototype.bind.call(console.error,console,K.name+":");Z.error.apply(console,arguments)},performance:{log:function(s){var t,v,u;if(K.performance){t=new Date().getTime();u=q||t;v=t-u;q=t;d.push({Name:s[0],Arguments:[].slice.call(s,1)||"",Element:Y,"Execution Time":v})}clearTimeout(Z.performance.timer);Z.performance.timer=setTimeout(Z.performance.display,500)},display:function(){var s=K.name+":",t=0;q=false;clearTimeout(Z.performance.timer);h.each(d,function(u,v){t+=v["Execution Time"]});s+=" "+t+"ms";if(o){s+=" '"+o+"'"}if((console.group!==g||console.table!==g)&&d.length>0){console.groupCollapsed(s);if(console.table){console.table(d)}else{h.each(d,function(u,v){console.log(v.Name+": "+v["Execution Time"]+"ms")})}console.groupEnd()}d=[]}},invoke:function(w,t,y){var s=J,v,x,u;t=t||b;y=Y||y;if(typeof w=="string"&&s!==g){w=w.split(/[\. ]/);v=w.length-1;h.each(w,function(z,A){var B=(z!=v)?A+w[z+1].charAt(0).toUpperCase()+w[z+1].slice(1):w;if(h.isPlainObject(s[B])&&(z!=v)){s=s[B]}else{if(s[B]!==g){x=s[B];return false}else{if(h.isPlainObject(s[A])&&(z!=v)){s=s[A]}else{if(s[A]!==g){x=s[A];return false}else{Z.error(S.method,w);return false}}}}})}if(h.isFunction(x)){u=x.apply(y,t)}else{if(x!==g){u=x}}if(h.isArray(p)){p.push(u)}else{if(p!==g){p=[p,u]}else{if(u!==g){p=u}}}return x}};if(r){if(J===g){Z.initialize()}Z.invoke(n)}else{if(J!==g){J.invoke("destroy")}Z.initialize()}});return(p!==g)?p:this};h.fn.nag.settings={name:"Nag",debug:false,verbose:false,performance:true,namespace:"Nag",persist:false,displayTime:0,animation:{show:"slide",hide:"slide"},context:false,detachable:false,expires:30,domain:false,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}})(jQuery,window,document);
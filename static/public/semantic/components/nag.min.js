/*!
 * # Semantic UI x.x - Nag
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;(function(c,b,a,d){c.fn.nag=function(m){var k=c(this),h=k.selector||"",f=new Date().getTime(),j=[],i=arguments[0],e=(typeof i=="string"),l=[].slice.call(arguments,1),g;k.each(function(){var G=(c.isPlainObject(m))?c.extend(true,{},c.fn.nag.settings,m):c.extend({},c.fn.nag.settings),p=G.className,E=G.selector,C=G.error,x=G.namespace,A="."+x,y=x+"-module",t=c(this),r=t.find(E.close),z=(G.context)?c(G.context):c("body"),o=this,H=t.data(y),F,q,I,D,v,u,B,w,n,s=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(J){setTimeout(J,0)};n={initialize:function(){n.verbose("Initializing element");t.on("click"+A,E.close,n.dismiss).data(y,n);if(G.detachable&&t.parent()[0]!==z[0]){t.detach().prependTo(z)}if(G.displayTime>0){setTimeout(n.hide,G.displayTime)}n.show()},destroy:function(){n.verbose("Destroying instance");t.removeData(y).off(A)},show:function(){if(n.should.show()&&!t.is(":visible")){n.debug("Showing nag",G.animation.show);if(G.animation.show=="fade"){t.fadeIn(G.duration,G.easing)}else{t.slideDown(G.duration,G.easing)}}},hide:function(){n.debug("Showing nag",G.animation.hide);if(G.animation.show=="fade"){t.fadeIn(G.duration,G.easing)}else{t.slideUp(G.duration,G.easing)}},onHide:function(){n.debug("Removing nag",G.animation.hide);t.remove();if(G.onHide){G.onHide()}},dismiss:function(J){if(G.storageMethod){n.storage.set(G.key,G.value)}n.hide();J.stopImmediatePropagation();J.preventDefault()},should:{show:function(){if(G.persist){n.debug("Persistent nag is set, can show nag");return true}if(n.storage.get(G.key)!=G.value.toString()){n.debug("Stored value is not set, can show nag",n.storage.get(G.key));return true}n.debug("Stored value is set, cannot show nag",n.storage.get(G.key));return false}},get:{storageOptions:function(){var J={};if(G.expires){J.expires=G.expires}if(G.domain){J.domain=G.domain}if(G.path){J.path=G.path}return J}},clear:function(){n.storage.remove(G.key)},storage:{set:function(K,L){var J=n.get.storageOptions();if(G.storageMethod=="localstorage"&&b.localStorage!==d){b.localStorage.setItem(K,L);n.debug("Value stored using local storage",K,L)}else{if(c.cookie!==d){c.cookie(K,L,J);n.debug("Value stored using cookie",K,L,J)}else{n.error(C.noCookieStorage);return}}},get:function(J,K){var L;if(G.storageMethod=="localstorage"&&b.localStorage!==d){L=b.localStorage.getItem(J)}else{if(c.cookie!==d){L=c.cookie(J)}else{n.error(C.noCookieStorage)}}if(L=="undefined"||L=="null"||L===d||L===null){L=d}return L},remove:function(K){var J=n.get.storageOptions();if(G.storageMethod=="local"&&b.store!==d){b.localStorage.removeItem(K)}else{if(c.cookie!==d){c.removeCookie(K,J)}else{n.error(C.noStorage)}}}},setting:function(J,K){n.debug("Changing setting",J,K);if(c.isPlainObject(J)){c.extend(true,G,J)}else{if(K!==d){G[J]=K}else{return G[J]}}},internal:function(J,K){if(c.isPlainObject(J)){c.extend(true,n,J)}else{if(K!==d){n[J]=K}else{return n[J]}}},debug:function(){if(G.debug){if(G.performance){n.performance.log(arguments)}else{n.debug=Function.prototype.bind.call(console.info,console,G.name+":");n.debug.apply(console,arguments)}}},verbose:function(){if(G.verbose&&G.debug){if(G.performance){n.performance.log(arguments)}else{n.verbose=Function.prototype.bind.call(console.info,console,G.name+":");n.verbose.apply(console,arguments)}}},error:function(){n.error=Function.prototype.bind.call(console.error,console,G.name+":");n.error.apply(console,arguments)},performance:{log:function(L){var K,M,J;if(G.performance){K=new Date().getTime();J=f||K;M=K-J;f=K;j.push({Name:L[0],Arguments:[].slice.call(L,1)||"",Element:o,"Execution Time":M})}clearTimeout(n.performance.timer);n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var K=G.name+":",J=0;f=false;clearTimeout(n.performance.timer);c.each(j,function(L,M){J+=M["Execution Time"]});K+=" "+J+"ms";if(h){K+=" '"+h+"'"}if((console.group!==d||console.table!==d)&&j.length>0){console.groupCollapsed(K);if(console.table){console.table(j)}else{c.each(j,function(L,M){console.log(M.Name+": "+M["Execution Time"]+"ms")})}console.groupEnd()}j=[]}},invoke:function(O,K,M){var L=H,P,N,J;K=K||l;M=o||M;if(typeof O=="string"&&L!==d){O=O.split(/[\. ]/);P=O.length-1;c.each(O,function(S,R){var Q=(S!=P)?R+O[S+1].charAt(0).toUpperCase()+O[S+1].slice(1):O;if(c.isPlainObject(L[Q])&&(S!=P)){L=L[Q]}else{if(L[Q]!==d){N=L[Q];return false}else{if(c.isPlainObject(L[R])&&(S!=P)){L=L[R]}else{if(L[R]!==d){N=L[R];return false}else{n.error(C.method,O);return false}}}}})}if(c.isFunction(N)){J=N.apply(M,K)}else{if(N!==d){J=N}}if(c.isArray(g)){g.push(J)}else{if(g!==d){g=[g,J]}else{if(J!==d){g=J}}}return N}};if(e){if(H===d){n.initialize()}n.invoke(i)}else{if(H!==d){H.invoke("destroy")}n.initialize()}});return(g!==d)?g:this};c.fn.nag.settings={name:"Nag",debug:false,verbose:false,performance:true,namespace:"Nag",persist:false,displayTime:0,animation:{show:"slide",hide:"slide"},context:false,detachable:false,expires:30,domain:false,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}})(jQuery,window,document);
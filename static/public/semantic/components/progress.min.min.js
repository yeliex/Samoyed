/*!
 * # Semantic UI x.x - Progress
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
;!function(c,a,d,b){c.fn.progress=function(p){var m,e=c(this),h=e.selector||"",q=(new Date).getTime(),k=[],f=arguments[0],n="string"==typeof f,j=[].slice.call(arguments,1);return e.each(function(){var r,K,i=c.isPlainObject(p)?c.extend(!0,{},c.fn.progress.settings,p):c.extend({},c.fn.progress.settings),F=i.className,t=i.metadata,H=i.namespace,D=i.selector,B=i.error,J="."+H,I="module-"+H,G=c(this),g=c(this).find(D.bar),u=c(this).find(D.progress),L=c(this).find(D.label),l=this,z=G.data(I),s=!1;K={initialize:function(){K.debug("Initializing progress bar",i),K.set.duration(),K.set.transitionEvent(),K.read.metadata(),K.read.settings(),K.instantiate()},instantiate:function(){K.verbose("Storing instance of progress",K),z=K,G.data(I,K)},destroy:function(){K.verbose("Destroying previous progress for",G),clearInterval(z.interval),K.remove.state(),G.removeData(I),z=b},reset:function(){K.set.percent(0)},complete:function(){(K.percent===b||K.percent<100)&&K.set.percent(100)},read:{metadata:function(){var o={percent:G.data(t.percent),total:G.data(t.total),value:G.data(t.value)};o.percent&&(K.debug("Current percent value set from metadata",o.percent),K.set.percent(o.percent)),o.total&&(K.debug("Total value set from metadata",o.total),K.set.total(o.total)),o.value&&(K.debug("Current value set from metadata",o.value),K.set.value(o.value),K.set.progress(o.value))},settings:function(){i.total!==!1&&(K.debug("Current total set in settings",i.total),K.set.total(i.total)),i.value!==!1&&(K.debug("Current value set in settings",i.value),K.set.value(i.value),K.set.progress(K.value)),i.percent!==!1&&(K.debug("Current percent set in settings",i.percent),K.set.percent(i.percent))}},increment:function(w){var o,x,v;K.has.total()?(x=K.get.value(),w=w||1,v=x+w,o=K.get.total(),K.debug("Incrementing value",x,v,o),v>o&&(K.debug("Value cannot increment above total",o),v=o)):(x=K.get.percent(),w=w||K.get.randomValue(),v=x+w,o=100,K.debug("Incrementing percentage by",x,v),v>o&&(K.debug("Value cannot increment above 100 percent"),v=o)),K.set.progress(v)},decrement:function(w){var o,x,v=K.get.total();v?(o=K.get.value(),w=w||1,x=o-w,K.debug("Decrementing value by",w,o)):(o=K.get.percent(),w=w||K.get.randomValue(),x=o-w,K.debug("Decrementing percentage by",w,o)),0>x&&(K.debug("Value cannot decrement below 0"),x=0),K.set.progress(x)},has:{total:function(){return K.get.total()!==!1}},get:{text:function(x){var v=K.value||0,y=K.total||0,w=s?K.get.displayPercent():K.percent||0,o=K.total>0?y-v:100-w;return x=x||"",x=x.replace("{value}",v).replace("{total}",y).replace("{left}",o).replace("{percent}",w),K.debug("Adding variables to progress bar text",x),x},randomValue:function(){return K.debug("Generating random increment percentage"),Math.floor(Math.random()*i.random.max+i.random.min)},numericValue:function(o){return"string"==typeof o?""!==o.replace(/[^\d.]/g,"")?+o.replace(/[^\d.]/g,""):!1:o},transitionEnd:function(){var w,v=d.createElement("element"),o={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(w in o){if(v.style[w]!==b){return o[w]}}},displayPercent:function(){var w=g.width(),o=G.width(),x=parseInt(g.css("min-width"),10),v=w>x?w/o*100:K.percent;return i.precision>0?Math.round(10*v*i.precision)/(10*i.precision):Math.round(v)},percent:function(){return K.percent||0},value:function(){return K.value||0},total:function(){return K.total||!1}},is:{success:function(){return G.hasClass(F.success)},warning:function(){return G.hasClass(F.warning)},error:function(){return G.hasClass(F.error)},active:function(){return G.hasClass(F.active)},visible:function(){return G.is(":visible")}},remove:{state:function(){K.verbose("Removing stored state"),delete K.total,delete K.percent,delete K.value},active:function(){K.verbose("Removing active state"),G.removeClass(F.active)},success:function(){K.verbose("Removing success state"),G.removeClass(F.success)},warning:function(){K.verbose("Removing warning state"),G.removeClass(F.warning)},error:function(){K.verbose("Removing error state"),G.removeClass(F.error)}},set:{barWidth:function(o){o>100?K.error(B.tooHigh,o):0>o?K.error(B.tooLow,o):(g.css("width",o+"%"),G.attr("data-percent",parseInt(o,10)))},duration:function(o){o=o||i.duration,o="number"==typeof o?o+"ms":o,K.verbose("Setting progress bar transition duration",o),g.css({"transition-duration":o})},percent:function(o){o="string"==typeof o?+o.replace("%",""):o,o=i.precision>0?Math.round(10*o*i.precision)/(10*i.precision):Math.round(o),K.percent=o,K.has.total()||(K.value=i.precision>0?Math.round(o/100*K.total*10*i.precision)/(10*i.precision):Math.round(o/100*K.total*10)/10,i.limitValues&&(K.value=K.value>100?100:K.value<0?0:K.value)),K.set.barWidth(o),K.set.labelInterval(),K.set.labels(),i.onChange.call(l,o,K.value,K.total)},labelInterval:function(){var o=function(){K.verbose("Bar finished animating, removing continuous label updates"),clearInterval(K.interval),s=!1,K.set.labels()};clearInterval(K.interval),g.one(r+J,o),K.timer=setTimeout(o,i.duration+100),s=!0,K.interval=setInterval(K.set.labels,i.framerate)},labels:function(){K.verbose("Setting both bar progress and outer label text"),K.set.barLabel(),K.set.state()},label:function(o){o=o||"",o&&(o=K.get.text(o),K.debug("Setting label to text",o),L.text(o))},state:function(o){o=o!==b?o:K.percent,100===o?!i.autoSuccess||K.is.warning()||K.is.error()?(K.verbose("Reached 100% removing active state"),K.remove.active()):(K.set.success(),K.debug("Automatically triggering success at 100%")):o>0?(K.verbose("Adjusting active progress bar label",o),K.set.active()):(K.remove.active(),K.set.label(i.text.active))},barLabel:function(o){o!==b?u.text(K.get.text(o)):"ratio"==i.label&&K.total?(K.debug("Adding ratio to bar label"),u.text(K.get.text(i.text.ratio))):"percent"==i.label&&(K.debug("Adding percentage to bar label"),u.text(K.get.text(i.text.percent)))},active:function(o){o=o||i.text.active,K.debug("Setting active state"),i.showActivity&&!K.is.active()&&G.addClass(F.active),K.remove.warning(),K.remove.error(),K.remove.success(),o&&K.set.label(o),i.onActive.call(l,K.value,K.total)},success:function(o){o=o||i.text.success,K.debug("Setting success state"),G.addClass(F.success),K.remove.active(),K.remove.warning(),K.remove.error(),K.complete(),o&&K.set.label(o),i.onSuccess.call(l,K.total)},warning:function(o){o=o||i.text.warning,K.debug("Setting warning state"),G.addClass(F.warning),K.remove.active(),K.remove.success(),K.remove.error(),K.complete(),o&&K.set.label(o),i.onWarning.call(l,K.value,K.total)},error:function(o){o=o||i.text.error,K.debug("Setting error state"),G.addClass(F.error),K.remove.active(),K.remove.success(),K.remove.warning(),K.complete(),o&&K.set.label(o),i.onError.call(l,K.value,K.total)},transitionEvent:function(){r=K.get.transitionEnd()},total:function(o){K.total=o},value:function(o){K.value=o},progress:function(v){var o,w=K.get.numericValue(v);w===!1&&K.error(B.nonNumeric,v),K.has.total()?(K.set.value(w),o=w/K.total*100,K.debug("Calculating percent complete from total",o),K.set.percent(o)):(o=w,K.debug("Setting value to exact percentage value",o),K.set.percent(o))}},setting:function(o,v){if(K.debug("Changing setting",o,v),c.isPlainObject(o)){c.extend(!0,i,o)}else{if(v===b){return i[o]}i[o]=v}},internal:function(o,v){if(c.isPlainObject(o)){c.extend(!0,K,o)}else{if(v===b){return K[o]}K[o]=v}},debug:function(){i.debug&&(i.performance?K.performance.log(arguments):(K.debug=Function.prototype.bind.call(console.info,console,i.name+":"),K.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?K.performance.log(arguments):(K.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),K.verbose.apply(console,arguments)))},error:function(){K.error=Function.prototype.bind.call(console.error,console,i.name+":"),K.error.apply(console,arguments)},performance:{log:function(w){var o,x,v;i.performance&&(o=(new Date).getTime(),v=q||o,x=o-v,q=o,k.push({Name:w[0],Arguments:[].slice.call(w,1)||"",Element:l,"Execution Time":x})),clearTimeout(K.performance.timer),K.performance.timer=setTimeout(K.performance.display,500)},display:function(){var o=i.name+":",v=0;q=!1,clearTimeout(K.performance.timer),c.each(k,function(x,w){v+=w["Execution Time"]}),o+=" "+v+"ms",h&&(o+=" '"+h+"'"),(console.group!==b||console.table!==b)&&k.length>0&&(console.groupCollapsed(o),console.table?console.table(k):c.each(k,function(x,w){console.log(w.Name+": "+w["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(x,E,A){var w,y,C,v=z;return E=E||j,A=l||A,"string"==typeof x&&v!==b&&(x=x.split(/[\. ]/),w=x.length-1,c.each(x,function(O,M){var N=O!=w?M+x[O+1].charAt(0).toUpperCase()+x[O+1].slice(1):x;if(c.isPlainObject(v[N])&&O!=w){v=v[N]}else{if(v[N]!==b){return y=v[N],!1}if(!c.isPlainObject(v[M])||O==w){return v[M]!==b?(y=v[M],!1):(K.error(B.method,x),!1)}v=v[M]}})),c.isFunction(y)?C=y.apply(A,E):y!==b&&(C=y),c.isArray(m)?m.push(C):m!==b?m=[m,C]:C!==b&&(m=C),y}},n?(z===b&&K.initialize(),K.invoke(f)):(z!==b&&z.invoke("destroy"),K.initialize())}),m!==b?m:this},c.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1000/30,percent:!1,total:!1,value:!1,onChange:function(g,f,h){},onSuccess:function(f){},onActive:function(g,f){},onError:function(g,f){},onWarning:function(g,f){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document);